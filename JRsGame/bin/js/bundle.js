var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
				value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _mainScene = require("./scene/mainScene");

var _mainScene2 = _interopRequireDefault(_mainScene);

var _RouteLay = require("./panels/RouteLay");

var _RouteLay2 = _interopRequireDefault(_RouteLay);

var _ShipContainer = require("./components/ShipContainer");

var _ShipContainer2 = _interopRequireDefault(_ShipContainer);

var _targetSwitch = require("./components/targetSwitch");

var _targetSwitch2 = _interopRequireDefault(_targetSwitch);

var _infoLay = require("./panels/infoLay");

var _infoLay2 = _interopRequireDefault(_infoLay);

var _planLay = require("./panels/planLay");

var _planLay2 = _interopRequireDefault(_planLay);

var _SceneLayer = require("./components/SceneLayer");

var _SceneLayer2 = _interopRequireDefault(_SceneLayer);

var _buildTrip = require("./panels/buildTrip");

var _buildTrip2 = _interopRequireDefault(_buildTrip);

var _deskTrip = require("./panels/deskTrip");

var _deskTrip2 = _interopRequireDefault(_deskTrip);

var _dockPos = require("./panels/dockPos");

var _dockPos2 = _interopRequireDefault(_dockPos);

var _proTrip = require("./panels/proTrip");

var _proTrip2 = _interopRequireDefault(_proTrip);

var _resourceAlt = require("./panels/resourceAlt");

var _resourceAlt2 = _interopRequireDefault(_resourceAlt);

var _repeatMove = require("./components/repeatMove");

var _repeatMove2 = _interopRequireDefault(_repeatMove);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
				function GameConfig() {
								_classCallCheck(this, GameConfig);
				}

				_createClass(GameConfig, null, [{
								key: "init",
								value: function init() {
												//注册Script或者Runtime引用
												var reg = Laya.ClassUtils.regClass;
												reg("scene/mainScene.js", _mainScene2.default);
												reg("panels/RouteLay.js", _RouteLay2.default);
												reg("components/ShipContainer.js", _ShipContainer2.default);
												reg("components/targetSwitch.js", _targetSwitch2.default);
												reg("panels/infoLay.js", _infoLay2.default);
												reg("panels/planLay.js", _planLay2.default);
												reg("components/SceneLayer.js", _SceneLayer2.default);
												reg("panels/buildTrip.js", _buildTrip2.default);
												reg("panels/deskTrip.js", _deskTrip2.default);
												reg("panels/dockPos.js", _dockPos2.default);
												reg("panels/proTrip.js", _proTrip2.default);
												reg("panels/resourceAlt.js", _resourceAlt2.default);
												reg("components/repeatMove.js", _repeatMove2.default);
								}
				}]);

				return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 960;
GameConfig.scaleMode = "showall";
GameConfig.screenMode = "horizontal";
GameConfig.alignV = "top";
GameConfig.alignH = "center";
GameConfig.startScene = "Main.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = true;
GameConfig.stat = false;
GameConfig.physicsDebug = true;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./components/SceneLayer":3,"./components/ShipContainer":4,"./components/repeatMove":6,"./components/targetSwitch":7,"./panels/RouteLay":16,"./panels/buildTrip":17,"./panels/deskTrip":18,"./panels/dockPos":19,"./panels/infoLay":20,"./panels/planLay":21,"./panels/proTrip":22,"./panels/resourceAlt":23,"./scene/mainScene":24}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

var _dock = require("../data/dock");

var _dock2 = _interopRequireDefault(_dock);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SceneLayer = function (_Laya$Script) {
    _inherits(SceneLayer, _Laya$Script);

    /** @prop {name:dockPos,tips:"使用的船位Panel",type:Prefab} */
    /** @prop {name:routeLay,tips:"航道使用的Panel",type:Prefab} */
    /** @prop {name:proTrips,tips:"属性使用的Panel",type:Prefab} */
    /** @prop {name:deskTrip,tips:"仓库使用的Panel",type:Prefab} */
    /** @prop {name:buildTrip,tips:"建造使用的Panel",type:Prefab} */
    /** @prop {name:resAlt,tips:"资源窗使用的Panel",type:Prefab} */

    function SceneLayer() {
        _classCallCheck(this, SceneLayer);

        return _possibleConstructorReturn(this, (SceneLayer.__proto__ || Object.getPrototypeOf(SceneLayer)).call(this));
    }

    _createClass(SceneLayer, [{
        key: "setAltLayer",
        value: function setAltLayer() {
            this.altRes = this.resAlt.create();
            this.owner.addChild(this.altRes);

            this.altRes.zOrder = 500;
            this.altRes.visible = false;
            this.altRes.pos(-150, -150);

            this.cover = this.owner.AllCov;
            this.cover.on(Laya.Event.CLICK, this, function (event) {
                event.stopPropagation();
            });

            this.cover.visible = false;

            var _this = this;
            this.altRes.cancelCallBack = function (event) {
                _this.altRes.visible = false;
                _this.altRes.pos(-150, -150);
                _this.cover.visible = false;
            };
        }
    }, {
        key: "setRoutePanel",
        value: function setRoutePanel(layer) {
            this.curRouter = layer;
            this.routes = [];

            this.refreshAllRouters();
            this.refreshRouterZorder();
        }
    }, {
        key: "setDockPanel",
        value: function setDockPanel(layer) {
            this.dockPanel = layer;
            this.poses = [];

            this.refreshAllPoses();
            this.dragCallback = function () {};
        }
    }, {
        key: "setInfoPanel",
        value: function setInfoPanel(layer) {
            this.infoPanel = layer;
            this.infos = [];

            var pros = [{ name: "speed", proName: "baseSpeed", lenfunc: function lenfunc(num) {
                    return num / 500;
                } }, { name: "steve", proName: "baseLoad", lenfunc: function lenfunc(num) {
                    return 20 / (num + 1);
                } }, { name: "capacity", proName: "maxcap", lenfunc: function lenfunc(num) {
                    return num / 1000;
                } }, { name: "power", proName: "battle", lenfunc: function lenfunc(num) {
                    return num / 300;
                } }, { name: "repair", proName: "repair", lenfunc: function lenfunc(num) {
                    return 4 / (num + 1);
                } }];

            this.refreshAllPros(pros);
        }
    }, {
        key: "setDeskPanel",
        value: function setDeskPanel(layer) {
            this.deskLay = layer;
            this.desks = [];

            this.refreshAllDeskes();
        }
    }, {
        key: "setBuildPanel",
        value: function setBuildPanel(layer) {
            this.buildLay = layer;
            this.buildTrips = [];

            this.refreshAllBuilds();
        }
    }, {
        key: "setDragCallback",
        value: function setDragCallback(_func) {
            this.dragCallback = _func;
        }
    }, {
        key: "refreshAllRouters",
        value: function refreshAllRouters() {
            var count = _GameDatas2.default.instance.getRouteUnlockCount();
            var current = _GameDatas2.default.instance.currentRoute;

            for (var index = 0; index < count; index++) {
                if (index != current) {
                    this.unlockRoute(index);
                }
            }

            this.curRouter.routeIndex = current;
            this.routes.push(this.curRouter);
        }
    }, {
        key: "refreshRouterZorder",
        value: function refreshRouterZorder() {
            var current = _GameDatas2.default.instance.currentRoute;

            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.routes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var lay = _step.value;

                    if (lay.routeIndex == current) {
                        lay.zOrder = 10;
                        lay.visible = true;
                    } else {
                        lay.zOrder = 0;
                        lay.visible = false;
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "unlockRoute",
        value: function unlockRoute(index) {
            var route = this.routeLay.create();
            route.pos(this.curRouter.x, this.curRouter.y);

            route.routeIndex = index;
            route.setRoute(_GameDatas2.default.instance.getRouteByIndex(index));

            this.curRouter.parent.addChild(route);
            this.routes.push(route);
        }
    }, {
        key: "updateRoute",
        value: function updateRoute(index) {
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = this.routes[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var lay = _step2.value;

                    if (lay.routeIndex == index) {
                        lay.refreshRoute();
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }
        }
    }, {
        key: "refreshAllPoses",
        value: function refreshAllPoses() {
            var curDock = _GameDatas2.default.instance.dock;

            for (var i = 0; i < curDock.GetShipCap(); i++) {
                this.insertPos(i, curDock.GetShipSet(i));
            }

            var _this = this;
            curDock.setDockCallBack(function (flag, index) {
                if (flag == "busy") {
                    _this.poses[index].setBusy();
                } else if (flag == "resume") {
                    _this.poses[index].resumeBusy();
                }
            });
        }
    }, {
        key: "insertPos",
        value: function insertPos(index, shipSet) {
            var posSet = this.dockPos.create();
            posSet.placeShip(shipSet);

            this.poses[index] = posSet;

            var indexPos = this.getPosByIndex(index);
            posSet.pos(indexPos.x, indexPos.y);
            posSet.posIndex = index;

            this.dockPanel.addChild(posSet);

            posSet.setClickCallBack(function (set) {
                if (posSet.busy) {
                    _GameDatas2.default.instance.backShip(posSet.posIndex);
                }
            });

            var _this = this;
            posSet.setdragPlaceCallBack(function (flag, event) {
                event.flag = flag;
                _this.dragCallback(posSet.posIndex, event);

                if (flag == "release" || flag == "hoverOut") posSet.backPos();
            });
        }
    }, {
        key: "updateAllDockPos",
        value: function updateAllDockPos() {
            var curDock = _GameDatas2.default.instance.dock;
            if (this.poses.length >= curDock.GetShipCap()) return;

            for (var stIndex = this.poses.length; stIndex < curDock.GetShipCap(); stIndex++) {
                this.insertPos(stIndex, curDock.GetShipSet(stIndex));
            }
        }
    }, {
        key: "updateAllBuildTrip",
        value: function updateAllBuildTrip() {
            var count = _GameDatas2.default.instance.buildCap;
            var tripNum = this.buildTrips.length;

            for (var index = tripNum; index < count; index++) {
                var trip = this.buildTrip.create();
                this.buildLay.addChild(trip);
                trip.pos(0, 205 * index);
                this.buildTrips.push(trip);
            }
        }
    }, {
        key: "insertDockPos",
        value: function insertDockPos(shipSet) {
            var index = shipSet.dockid;
            this.poses[index].placeShip(shipSet);
        }
    }, {
        key: "refreshAllDeskes",
        value: function refreshAllDeskes() {
            this.curDesk = 0;

            var allShips = _GameDatas2.default.instance.packShips;
            var count = allShips.length;

            for (var index = 0; index < count; index += 3) {
                var trip = this.deskTrip.create();
                trip.setShip(0, allShips[index]);
                if (++index < count) {
                    trip.setShip(1, allShips[index]);
                }
                if (++index < count) {
                    trip.setShip(2, allShips[index]);
                }
                this.desks.push(trip);
                this.deskLay.addChild(trip);
                trip.pos(0, 200 * Math.floor(index / 3));
            }

            this.curDesk = count % 3;

            if (count == 0) {
                var trip = this.deskTrip.create();
                this.desks.push(trip);
                this.deskLay.addChild(trip);
                trip.pos(0, 0);
            }
        }
    }, {
        key: "refreshAllDeskByOutShip",
        value: function refreshAllDeskByOutShip(shipSet) {
            if (shipSet.packID < 0) return;

            this.curDesk = 0;

            var allShips = _GameDatas2.default.instance.packShips;
            var count = allShips.length;
            var stIndex = shipSet.packID;

            for (var index = stIndex; index < allShips.length; index++) {
                var tripIndex = Math.floor(index / 3);
                var trip = this.desks[tripIndex];
                trip.setShip(index % 3, allShips[index]);
            }

            var maxTrip = Math.floor((count - 1) / 3) + 1;

            this.curDesk = count % 3;
            if (this.curDesk != 0) {
                var trip = this.desks[maxTrip - 1];
                trip.setShip(this.curDesk, null);
                if (this.curDesk == 1) trip.setShip(2, null);
            }

            if (this.desks.length > maxTrip) {
                for (var tindex = maxTrip; tindex < this.desks.length; tindex++) {
                    this.desks[tindex].destroy();
                }
            }

            this.desks = this.desks.slice(0, maxTrip);
        }
    }, {
        key: "insertPackShip",
        value: function insertPackShip(shipSet) {
            if (this.curDesk == 0) {
                var trip = this.deskTrip.create();
                trip.setShip(this.curDesk++, shipSet);
                this.desks.push(trip);
                this.deskLay.addChild(trip);
                trip.pos(0, 200 * (this.desks.length - 1));
            } else {
                this.desks[this.desks.length - 1].setShip(this.curDesk++, shipSet);
            }

            this.curDesk = this.curDesk % 3;
        }
    }, {
        key: "AllDesckRefreshFull",
        value: function AllDesckRefreshFull() {
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = this.desks[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var trip = _step3.value;

                    trip.refreshShow();
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }
        }
    }, {
        key: "refreshAllBuilds",
        value: function refreshAllBuilds() {
            var count = _GameDatas2.default.instance.buildCap;

            for (var index = 0; index < count; index++) {
                var trip = this.buildTrip.create();
                this.buildLay.addChild(trip);
                trip.pos(0, 205 * index);
                this.buildTrips.push(trip);
            }
        }
    }, {
        key: "buildTripCheck",
        value: function buildTripCheck() {
            var _iteratorNormalCompletion4 = true;
            var _didIteratorError4 = false;
            var _iteratorError4 = undefined;

            try {
                for (var _iterator4 = this.buildTrips[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var brip = _step4.value;

                    brip.resultRefresh();
                }
            } catch (err) {
                _didIteratorError4 = true;
                _iteratorError4 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                        _iterator4.return();
                    }
                } finally {
                    if (_didIteratorError4) {
                        throw _iteratorError4;
                    }
                }
            }
        }
    }, {
        key: "getPosByIndex",
        value: function getPosByIndex(index) {
            return {
                x: 200 * index,
                y: index % 2 * 120
            };
        }
    }, {
        key: "changePos",
        value: function changePos(index1, index2) {
            var pos1 = this.poses[index1];
            var pos2 = this.poses[index2];

            var xy1 = { x: pos1.x, y: pos1.y };
            var xy2 = { x: pos2.x, y: pos2.y };

            pos1.posIndex = index2;
            pos2.posIndex = index1;

            this.poses[index1] = pos2;
            this.poses[index2] = pos1;

            pos1.pos(xy2.x, xy2.y);
            pos2.pos(xy1.x, xy1.y);

            pos1.backPos();
            pos2.backPos();
        }
    }, {
        key: "recollectPos",
        value: function recollectPos(pindex) {
            this.poses[pindex].placeShip(null);
        }
    }, {
        key: "refreshAllPros",
        value: function refreshAllPros(pros) {
            var index = 0;
            var _iteratorNormalCompletion5 = true;
            var _didIteratorError5 = false;
            var _iteratorError5 = undefined;

            try {
                for (var _iterator5 = pros[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
                    var proset = _step5.value;

                    var name = proset.name;
                    var proName = proset.proName;

                    var proTrip = this.proTrips.create();
                    proTrip.pos(25, 25 + index * 40);

                    this.infoPanel.addChild(proTrip);

                    proTrip.setProName(name);
                    proTrip.setProConnect(proName, proset.lenfunc);

                    this.infos.push(proTrip);

                    index++;
                }
            } catch (err) {
                _didIteratorError5 = true;
                _iteratorError5 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion5 && _iterator5.return) {
                        _iterator5.return();
                    }
                } finally {
                    if (_didIteratorError5) {
                        throw _iteratorError5;
                    }
                }
            }
        }
    }, {
        key: "refreshInfoShow",
        value: function refreshInfoShow(shipset) {
            var _iteratorNormalCompletion6 = true;
            var _didIteratorError6 = false;
            var _iteratorError6 = undefined;

            try {
                for (var _iterator6 = this.infos[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
                    var proTrip = _step6.value;

                    proTrip.refreshPro(shipset);
                }
            } catch (err) {
                _didIteratorError6 = true;
                _iteratorError6 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion6 && _iterator6.return) {
                        _iterator6.return();
                    }
                } finally {
                    if (_didIteratorError6) {
                        throw _iteratorError6;
                    }
                }
            }
        }
    }, {
        key: "showRes",
        value: function showRes(_res, ok, x, y, okCallBack) {
            var _this = this;
            this.altRes.okCallBack = function () {
                okCallBack();
                _this.altRes.visible = false;
                _this.altRes.pos(-150, -150);
                _this.cover.visible = false;
            };
            this.altRes.visible = true;

            this.altRes.setEnough(ok);

            this.altRes.setResourceShow(_res);

            x = Math.min(480, x);
            y = Math.min(660, y);

            this.altRes.pos(x, y);
            this.cover.visible = true;
        }
    }]);

    return SceneLayer;
}(Laya.Script);

exports.default = SceneLayer;

},{"../data/dock":9,"../manager/GameDatas":15}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _repeatMove = require("../components/repeatMove");

var _repeatMove2 = _interopRequireDefault(_repeatMove);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ShipContainer = function (_Laya$Script) {
    _inherits(ShipContainer, _Laya$Script);

    /** @prop {name:shipPre,tips:"航行船",type:Prefab} */
    /** @prop {name:shipY,tips:"航行船Y坐标",type:Int} */

    function ShipContainer() {
        _classCallCheck(this, ShipContainer);

        var _this = _possibleConstructorReturn(this, (ShipContainer.__proto__ || Object.getPrototypeOf(ShipContainer)).call(this));

        _this.shipArr = [];
        _this.count = 0;
        _this.index = 0;
        return _this;
    }

    _createClass(ShipContainer, [{
        key: "addShip",
        value: function addShip(_shipSet) {
            var shipFab = this.shipPre.create();
            shipFab.skin = _shipSet.getIconPath();

            this.owner.addChild(shipFab);
            var moveSet = shipFab.getComponent(_repeatMove2.default);
            _shipSet.moveSet = moveSet;

            var textMap = ["SATRT", "FORWARD", "PACKIN", "BACK", "PAKCOUT"];
            for (var i = -2; i < 7; i++) {
                moveSet.setStateCallBack(i, function (ps, cs) {
                    if (_shipSet.dockPos && cs >= 0 && cs <= 4) _shipSet.dockPos.setWorkState(textMap[cs]);
                    if (cs == 6) _shipSet.dockPos.setWorkState("BATTLE");
                    _shipSet.triggerState(cs);
                });
            }

            _shipSet.setCrashCallBack(function () {
                _shipSet.dockPos.refreshState();
                shipFab.skin = _shipSet.getIconPath();
            });

            _shipSet.setRepairCallBack(function () {
                _shipSet.dockPos.refreshState();
            });

            shipFab.y = this.shipY;

            _shipSet.SetRouteIndex(this.index);
            this.shipArr.push({
                ID: this.index++,
                ship: shipFab,
                moveSet: moveSet,
                shipset: _shipSet
            });

            this.count++;
            moveSet.setBlank();
        }
    }, {
        key: "loseShip",
        value: function loseShip(_shipSet) {
            for (var i = 0; i < this.shipArr.length; i++) {
                var obj = this.shipArr[i];
                if (obj.shipset == _shipSet) {
                    this.owner.removeChild(obj.ship);

                    this.count--;
                    this.shipArr.splice(i, 1);

                    _shipSet.SetRouteIndex(-1);
                    break;
                }
            }
        }
    }, {
        key: "setAllShip",
        value: function setAllShip(arr) {
            this.owner.removeChildren();

            this.shipArr = [];
            this.count = 0;
            this.index = 0;

            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = arr[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var ship = _step.value;

                    this.addShip(ship);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "eachConfig",
        value: function eachConfig(_func) {
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = this.shipArr[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var obj = _step2.value;

                    _func(obj);
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }
        }
    }, {
        key: "fixIDConfig",
        value: function fixIDConfig(ID, _func) {
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = this.shipArr[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var obj = _step3.value;

                    if (obj.ID == ID) {
                        _func(obj);
                        break;
                    }
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }
        }
    }]);

    return ShipContainer;
}(Laya.Script);

exports.default = ShipContainer;

},{"../components/repeatMove":6}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _targetSwitch = require("./targetSwitch");

var _targetSwitch2 = _interopRequireDefault(_targetSwitch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ButtonFloat = function (_Laya$Button) {
    _inherits(ButtonFloat, _Laya$Button);

    function ButtonFloat(_lev) {
        _classCallCheck(this, ButtonFloat);

        var _this = _possibleConstructorReturn(this, (ButtonFloat.__proto__ || Object.getPrototypeOf(ButtonFloat)).call(this));

        _this.rankLev = _lev;
        _this.clickCallBack = function () {};
        return _this;
    }

    _createClass(ButtonFloat, [{
        key: "onEnable",
        value: function onEnable() {
            var _this2 = this;

            this.label = "Rank:" + this.rankLev;
            this.on(Laya.Event.CLICK, this, function (event) {
                _this2.clickCallBack(_this2.rankLev, event);
            });

            this.skin = "images/UI/buttonTripInfo.png";
            this.stateNum = 2;
            this.labelColors = "#ffffff";
            this.labelSize = 16;
            /*this.strokeColors = "#000000";
            this.labelStroke = 1;*/
            this.width = 80;
            this.height = 40;

            var tarSwi = this.addComponent(_targetSwitch2.default);
            tarSwi.pos1X = this.rankLev * 80 - 30;
            tarSwi.pos1Y = -40;
            tarSwi.pos2X = this.rankLev * 80 - 30;
            tarSwi.pos2Y = 40;
            tarSwi.speed = 20;

            tarSwi.onEnable();
            tarSwi.setState(1);

            this.tarSwi = tarSwi;
        }
    }, {
        key: "setClickCallBack",
        value: function setClickCallBack(_func) {
            this.clickCallBack = _func;
        }
    }, {
        key: "switchSet",
        value: function switchSet() {
            this.tarSwi.switchTarget();
        }
    }]);

    return ButtonFloat;
}(Laya.Button);

exports.default = ButtonFloat;

},{"./targetSwitch":7}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _bignumber = require("../libs/bignumber");

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var State = {
    START: 0,
    FORWARD: 1,
    PACKIN: 2,
    BACK: 3,
    PACKOUT: 4,
    REPAIR: 5,
    INTERRAUPT: 6,
    NOING: -1,
    PAUSENULL: -2
};

var RepeatMove = function (_Laya$Script) {
    _inherits(RepeatMove, _Laya$Script);

    /** @prop {name:realStartX,tips:"航路开始的X坐标",type:Int} */
    /** @prop {name:realEndX,tips:"航路结束的X坐标",type:Int} */

    function RepeatMove() {
        _classCallCheck(this, RepeatMove);

        var _this = _possibleConstructorReturn(this, (RepeatMove.__proto__ || Object.getPrototypeOf(RepeatMove)).call(this));

        _this.state = State.START;
        _this.eventMap = {};
        return _this;
    }

    _createClass(RepeatMove, [{
        key: "onEnable",
        value: function onEnable() {
            this.moveSpeed = 50;
            this.packtime = 60;
            this.interProb = 0.15;
            this.lineLength = 500;

            this.safeFix = [100, 100];
            this.safeCount = 0;

            this.interBefore = State.START;

            this.moveCount = (0, _bignumber2.default)(0);

            this.updateDataWithRealLength();
        }
    }, {
        key: "updateDataWithRealLength",
        value: function updateDataWithRealLength() {
            this.realLength = this.realEndX - this.realStartX;

            var per = this.realLength / this.lineLength;
            this.moveSpeed *= per;
        }
    }, {
        key: "updateSafeLength",
        value: function updateSafeLength() {
            this.moveCount = (0, _bignumber2.default)(0);

            var safeMin = this.safeFix[0];
            var safeGap = this.safeFix[1] - this.safeFix[0];

            this.safeCount = (Math.random() * safeGap + safeMin) * this.realLength / 100;
        }
    }, {
        key: "configAllData",
        value: function configAllData(_config) {
            Object.assign(this, _config);
            this.updateDataWithRealLength();
            this.updateSafeLength();
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            var _this2 = this;

            if (this.state == State.START) {
                this.CheckBeforeMove();
            } else if (this.state == State.FORWARD) {
                this.moveForward();
                this.updateInterrupt();
            } else if (this.state == State.PACKIN) {
                this.changeState(State.NOING);
                Laya.timer.frameOnce(this.packtime, this, function () {
                    _this2.changeState(State.BACK);
                });
            } else if (this.state == State.BACK) {
                this.moveBack();
                this.updateInterrupt();
            } else if (this.state == State.PACKOUT) {
                this.changeState(State.NOING);
                Laya.timer.frameOnce(this.packtime, this, function () {
                    _this2.changeState(State.FORWARD);
                });
            } else if (this.state == State.INTERRAUPT) {}
        }
    }, {
        key: "CheckBeforeMove",
        value: function CheckBeforeMove() {
            this.changeState(State.FORWARD);
            this.owner.x = this.realStartX;
        }
    }, {
        key: "moveForward",
        value: function moveForward() {
            var tempSet = this.owner.x;
            this.owner.x += this.moveSpeed;
            this.owner.scaleX = 1;
            if (this.owner.x >= this.realEndX) {
                this.moveCount = this.moveCount.plus((0, _bignumber2.default)(this.realEndX - tempSet));
                this.owner.x = this.realEndX;
                this.changeState(State.PACKIN);
            } else {
                this.moveCount = this.moveCount.plus((0, _bignumber2.default)(this.moveSpeed));
            }
        }
    }, {
        key: "moveBack",
        value: function moveBack() {
            var tempSet = this.owner.x;
            this.owner.x -= this.moveSpeed;
            this.owner.scaleX = -1;
            if (this.owner.x <= this.realStartX) {
                this.moveCount = this.moveCount.plus((0, _bignumber2.default)(tempSet - this.realStartX));
                this.owner.x = this.realStartX;
                this.changeState(State.PACKOUT);
            } else {
                this.moveCount = this.moveCount.plus((0, _bignumber2.default)(this.moveSpeed));
            }
        }
    }, {
        key: "updateInterrupt",
        value: function updateInterrupt() {
            if (this.state != State.PACKOUT && this.state != State.PACKIN) {
                if (this.moveCount.gt(this.safeCount)) {
                    this.interBefore = this.state;
                    this.changeState(State.INTERRAUPT);
                    this.updateSafeLength();
                }
            }
        }
    }, {
        key: "reBackInter",
        value: function reBackInter() {
            this.changeState(this.interBefore);
        }
    }, {
        key: "changeState",
        value: function changeState(_state) {
            var perState = this.state;
            this.state = _state;
            if (this.eventMap[_state]) {
                this.eventMap[_state](perState, _state);
            }
        }
    }, {
        key: "setStateCallBack",
        value: function setStateCallBack(state, _func) {
            this.eventMap[state] = _func;
        }
    }, {
        key: "setBlank",
        value: function setBlank() {
            this.changeState(State.PAUSENULL);
            this.owner.visible = false;
        }
    }, {
        key: "startMove",
        value: function startMove() {
            this.changeState(State.START);

            this.owner.visible = true;
            this.owner.x = this.realStartX;
            this.owner.scaleX = 1;
        }
    }]);

    return RepeatMove;
}(Laya.Script);

exports.default = RepeatMove;

},{"../libs/bignumber":13}],7:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var TargetSwitch = function (_Laya$Script) {
    _inherits(TargetSwitch, _Laya$Script);

    /** @prop {name:pos1X,tips:"位置1X坐标",type:Int} */
    /** @prop {name:pos1Y,tips:"位置1Y坐标",type:Int} */
    /** @prop {name:pos2X,tips:"位置2X坐标",type:Int} */
    /** @prop {name:pos2Y,tips:"位置2Y坐标",type:Int} */
    /** @prop {name:speed,tips:"移动速度",type:Int} */

    function TargetSwitch() {
        _classCallCheck(this, TargetSwitch);

        var _this = _possibleConstructorReturn(this, (TargetSwitch.__proto__ || Object.getPrototypeOf(TargetSwitch)).call(this));

        _this.state = 1;
        return _this;
    }

    _createClass(TargetSwitch, [{
        key: "onEnable",
        value: function onEnable() {
            this.pos1 = new Laya.Point(this.pos1X, this.pos1Y);
            this.pos2 = new Laya.Point(this.pos2X, this.pos2Y);

            var dis1 = this.pos1.distance(this.owner.x, this.owner.y);
            var dis2 = this.pos2.distance(this.owner.x, this.owner.y);

            this.state = dis2 > dis1 ? 1 : 2;
        }
    }, {
        key: "onUpdate",
        value: function onUpdate() {
            if (this.state == 1) {
                this.paceToTarget(this.pos1);
            } else if (this.state == 2) {
                this.paceToTarget(this.pos2);
            }
        }
    }, {
        key: "paceToTarget",
        value: function paceToTarget(point) {
            var curposX = this.owner.x;
            var curposY = this.owner.y;

            if (point.distance(curposX, curposY) < 5) return;

            if (point.distance(curposX, curposY) < this.speed) {
                this.owner.pos(point.x, point.y);
            } else {
                var offPoint = new Laya.Point(point.x - curposX, point.y - curposY);
                offPoint.normalize();
                this.owner.pos(curposX + offPoint.x * this.speed, curposY + offPoint.y * this.speed);
            }
        }
    }, {
        key: "switchTarget",
        value: function switchTarget() {
            this.setState(3 - this.state);
        }
    }, {
        key: "setState",
        value: function setState(_state) {
            this.state = _state;
        }
    }]);

    return TargetSwitch;
}(Laya.Script);

exports.default = TargetSwitch;

},{}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ship = require('../data/ship');

var _ship2 = _interopRequireDefault(_ship);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var BuildList = function () {
    function BuildList(_rank) {
        _classCallCheck(this, BuildList);

        this.rank = _rank - 1;
        this.stTime = new Date();
        this.bid = this.randomCode();

        this.initBuildMap();
    }

    _createClass(BuildList, [{
        key: 'initBuildMap',
        value: function initBuildMap() {
            this.buildMap = [{
                need: [500, 500, 500, 0],
                tCost: 30
            }, {
                need: [6000, 6000, 6000, 50],
                tCost: 180
            }, {
                need: ['700000', '700000', '700000', 400],
                tCost: 1080
            }];
        }
    }, {
        key: 'randomCode',
        value: function randomCode() {
            return ('' + Math.random()).slice(2, -1);
        }
    }, {
        key: 'getTimeLeft',
        value: function getTimeLeft() {
            var tCost = this.buildMap[this.rank].tCost;
            var now = new Date();
            var timePass = (now - this.stTime) / 1000;
            return tCost - timePass;
        }
    }, {
        key: 'checkOK',
        value: function checkOK() {
            return this.getTimeLeft() <= 0;
        }
    }, {
        key: 'getBuildResult',
        value: function getBuildResult() {
            return new _ship2.default(0, -1);
        }
    }]);

    return BuildList;
}();

exports.default = BuildList;

},{"../data/ship":12}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Dock = function () {
    function Dock(lvl) {
        _classCallCheck(this, Dock);

        this.shipChangeCallBack = function () {};

        this.initDockMap();
        this.SetLevel(lvl);
    }

    _createClass(Dock, [{
        key: "initDockMap",
        value: function initDockMap() {
            this.proMap = [{ cap: 4, level: [2000, 2000, 2000, 100] }, { cap: 5, level: [200000, 200000, 200000, 1000] }, { cap: 6, level: [0, 0, 0, 0] }];
            this.dockSet = {};
        }
    }, {
        key: "setDockCallBack",
        value: function setDockCallBack(_func) {
            this.shipChangeCallBack = _func;
        }
    }, {
        key: "LevelUP",
        value: function LevelUP() {
            this.SetLevel(this.level + 1);
        }
    }, {
        key: "SetLevel",
        value: function SetLevel(_lvl) {
            this.level = _lvl;
            var curPro = this.proMap[this.level];
            this.shipCap = curPro.cap;
            this.levelUp = curPro.level;
        }
    }, {
        key: "GetShipCap",
        value: function GetShipCap() {
            return this.shipCap;
        }
    }, {
        key: "GetShipSet",
        value: function GetShipSet(_index) {
            if (this.dockSet.hasOwnProperty(_index)) {
                return this.dockSet[_index];
            } else {
                return null;
            }
        }
    }, {
        key: "outShip",
        value: function outShip(_index) {
            this.shipChangeCallBack("busy", _index);
        }
    }, {
        key: "dropShip",
        value: function dropShip(_index) {
            this.shipChangeCallBack("resume", _index);
        }
    }]);

    return Dock;
}();

exports.default = Dock;

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _bignumber = require("../libs/bignumber.js");

var _bignumber2 = _interopRequireDefault(_bignumber);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Resource = function () {
    function Resource(_arr) {
        var _this = this;

        _classCallCheck(this, Resource);

        var arr = _arr ? _arr : [0, 0, 0, 0];
        this.resNum = {
            oil: new _bignumber2.default(arr[0]),
            ammo: new _bignumber2.default(arr[1]),
            steel: new _bignumber2.default(arr[2]),
            Al: new _bignumber2.default(arr[3])
        };
        Object.assign(this, this.resNum);
        this.changeCallBackMap = {};
        this.changeCallBack = function (res) {
            for (var key in _this.changeCallBackMap) {
                if (_this.changeCallBackMap.hasOwnProperty(key) && _this.changeCallBackMap[key]) {
                    _this.changeCallBackMap[key](res);
                }
            }
        };
    }

    _createClass(Resource, [{
        key: "randomResouce",
        value: function randomResouce(maxArr, capSet) {
            this.resNum.oil = (0, _bignumber2.default)(maxArr[0]).times(Math.random());
            this.resNum.ammo = (0, _bignumber2.default)(maxArr[1]).times(Math.random());
            this.resNum.steel = (0, _bignumber2.default)(maxArr[2]).times(Math.random());
            this.resNum.Al = (0, _bignumber2.default)(maxArr[3]).times(Math.random());

            var sum = this.resNum.oil.plus(this.resNum.ammo).plus(this.resNum.steel).plus(this.resNum.Al);

            var cap = (0, _bignumber2.default)(capSet);
            if (sum.gt(cap)) {
                var fix = cap.div(sum);
                this.resNum.oil = this.resNum.oil.times(fix);
                this.resNum.ammo = this.resNum.ammo.times(fix);
                this.resNum.steel = this.resNum.steel.times(fix);
                this.resNum.Al = this.resNum.Al.times(fix);
            }
        }
    }, {
        key: "getResource",
        value: function getResource(name) {
            if (Object.keys(this.resNum).index(name) >= 0) return this.resNum[index];else return new _bignumber2.default(0);
        }
    }, {
        key: "buildObj",
        value: function buildObj() {
            var res = {};
            for (var key in this.resNum) {
                if (this.resNum.hasOwnProperty(key)) {
                    var number = (0, _bignumber2.default)(this.resNum[key]);
                    if (!number.eq(0)) res[key] = number;
                }
            }
            return res;
        }
    }, {
        key: "printDebug",
        value: function printDebug() {
            console.log("Resource:[oil]:" + this.resNum.oil.toUnit() + "\n[ammo]:" + this.resNum.ammo.toUnit() + "\n[steel]:" + this.resNum.steel.toUnit() + "\n[Al]:" + this.resNum.Al.toUnit() + "\n");
        }
    }, {
        key: "costRes",
        value: function costRes(cost) {
            for (var key in this.resNum) {
                var changeNumber = (0, _bignumber2.default)(cost[key]);
                if (this.resNum.hasOwnProperty(key)) {
                    this.resNum[key] = this.resNum[key].minus(changeNumber);
                }
            }
            this.changeCallBack.call(this, this.resNum);
        }
    }, {
        key: "resourceChange",
        value: function resourceChange(change) {
            for (var key in this.resNum) {
                var changeNumber = (0, _bignumber2.default)(change[key]);
                if (this.resNum.hasOwnProperty(key)) {
                    this.resNum[key] = this.resNum[key].plus(changeNumber);
                }
            }
            this.changeCallBack.call(this, this.resNum);
        }
    }, {
        key: "checkResource",
        value: function checkResource(need) {
            for (var key in this.resNum) {
                var mapNumber = (0, _bignumber2.default)(need[key]);
                if (this.resNum.hasOwnProperty(key) && this.resNum[key].lt(mapNumber)) {
                    return false;
                }
            }
            return true;
        }
    }, {
        key: "addChangeCallBack",
        value: function addChangeCallBack(func, key) {
            this.changeCallBackMap[key] = func;
        }
    }]);

    return Resource;
}();

exports.default = Resource;

},{"../libs/bignumber.js":13}],11:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Route = function () {
    function Route(id, lvl) {
        _classCallCheck(this, Route);

        this.initRouteMap();

        this.shipOn = [];
        this.setCurrentRoute(id, lvl);
        this.placeCallBack = function () {};
    }

    _createClass(Route, [{
        key: "initRouteMap",
        value: function initRouteMap() {
            this.propMap = [{
                name: "First Route",
                distance: 10000,
                backPath: "images/RouteBG.png",
                resource: [[150, 20, 200, 1], [200, 50, 250, 2], [220, 100, 300, 5]],
                safeFix: [[145, 823], [200, 900], [400, 1200]],
                safeMax: [50, 40, 30],
                maxShip: [2, 3, 4],
                level: [[1000, 500, 1000, 10], ['60000', 1400, '75000', 250], [0, 0, 0, 0]],
                unlock: [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]],
                maxLevel: 3
            }, {
                name: "Danger Route",
                distance: [50000],
                backPath: "images/RouteBG2.png",
                resource: [[1000, 5000, 3500, 40]],
                safeFix: [[122, 577]],
                safeMax: [200],
                maxShip: [2],
                unlock: [['80000', '80000', '80000', '1000']],
                maxLevel: 1
            }, {
                name: "Last Route",
                distance: [200000],
                backPath: ["images/RouteBG3.png"],
                resource: [[6000, 4200, 13000, 600]],
                safeFix: [[98, 324]],
                safeMax: [400],
                maxShip: [2],
                maxLevel: 1
            }];
        }
    }, {
        key: "setCurrentRoute",
        value: function setCurrentRoute(_id, _lvl) {
            this.routeID = _id;
            this.curLevel = _lvl;

            var dataAllLevel = this.propMap[_id];
            this.curData = {};

            for (var key in dataAllLevel) {
                if (dataAllLevel.hasOwnProperty(key)) {
                    var value = dataAllLevel[key];
                    if (Object.prototype.toString.call(value) === "[object Array]") {
                        this.curData[key] = value[this.curLevel];
                    } else {
                        this.curData[key] = value;
                    }
                }
            }
        }
    }, {
        key: "levelUP",
        value: function levelUP() {
            this.setCurrentRoute(this.routeID, this.curLevel + 1);
        }
    }, {
        key: "isMaxLevel",
        value: function isMaxLevel() {
            return this.curLevel >= this.curData.maxLevel - 1;
        }
    }, {
        key: "setPlaceCallBack",
        value: function setPlaceCallBack(_func) {
            this.placeCallBack = _func;
        }
    }, {
        key: "placeShip",
        value: function placeShip(_shipSet) {
            this.shipOn.push(_shipSet);
            _shipSet.placeOnRoute(this);

            this.placeCallBack(_shipSet);
        }
    }, {
        key: "shipFull",
        value: function shipFull() {
            return this.shipOn.length >= this.curData.maxShip;
        }
    }, {
        key: "shipCount",
        value: function shipCount() {
            return this.shipOn.length;
        }
    }, {
        key: "loseShip",
        value: function loseShip(_shipSet) {
            for (var i = 0; i < this.shipOn.length; i++) {
                if (this.shipOn[i] == _shipSet) {
                    this.shipOn.splice(i, 1);
                    break;
                }
            }
            this.placeCallBack(null, _shipSet);
        }
    }, {
        key: "getDistance",
        value: function getDistance() {
            return this.curData.distance;
        }
    }]);

    return Route;
}();

exports.default = Route;

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Ship = function () {
    function Ship(_id, _cid) {
        _classCallCheck(this, Ship);

        this.initShipMap();

        //this.shipID = _id;      //船的标记ID
        //this.CagID = _cid;      //玩家船的获得ID

        this.insData = {}; //当前实例的数据，包括升级等数据
        this.data = {}; //船本身的数据

        this.stateTriggerMap = {};
        this.selfTrigger = {};

        this.routeOn = null;
        this.routeIndex = -1;

        this.dockPos = null;

        this.curstate = -1; //IDLE
        this.crash = false;

        this.crashCallBack = function () {};
        this.repairCallBack = function () {};

        this.SetShipID(_id);
        this.SetShipCagID(_cid);
    }

    _createClass(Ship, [{
        key: "initShipMap",
        value: function initShipMap() {
            this.ShipMap = [{
                name: "AAA",
                iconPath: "images/ships/Ship_1_a.png",
                crashIconPath: "images/ships/Ship_1_b.png",
                baseSpeed: [50, 130],
                baseLoad: [60, 50],
                maxcap: [50, 80],
                battle: [20, 25],
                repair: [10, 8],
                autoRe: [false, true],
                level: [[10, 10, 10, 0], [120, 120, 120, 10]],
                desc: "简介123456YUE",
                rank: 0,
                rankWight: 250,
                lvlim: 2
            }, {
                name: "BBB",
                iconPath: "images/ships/Ship_2_a.png",
                crashIconPath: "images/ships/Ship_2_b.png",
                baseSpeed: [80, 200, 220],
                baseLoad: [120, 100, 80],
                maxcap: [150, 200, 220],
                battle: [25, 30, 50],
                repair: [20, 10, 12],
                autoRe: [true, true, true],
                desc: "第二个船的简介123456Acekasd",
                rank: 0,
                rankWight: 150,
                lvlim: 3
            }];
        }
    }, {
        key: "SetShipID",
        value: function SetShipID(_id) {
            this.shipID = _id;
            this.data = this.ShipMap[_id];
        }
    }, {
        key: "GetJobText",
        value: function GetJobText() {
            if (this.dockid < 0) {
                return "仓库中存放……"; //显然不会出现在信息中
            } else if (this.routeOn != null) {
                if (this.crash) {
                    return "\u822A\u9053" + this.routeOn.curData.name + " \u53D7\u635F\u8FD4\u822A\u4E2D";
                } else {
                    return "\u822A\u9053" + this.routeOn.curData.name + " \u6B63\u5E38\u5DE5\u4F5C\u4E2D";
                }
            } else {
                if (this.crash && !this.repair) {
                    return "\u8239\u575E\u4E2D\u7B49\u5F85\u4FEE\u7406";
                } else if (this.repair) {
                    return "\u4FEE\u7406\u4E2D";
                } else {
                    return "\u8239\u575E\u4E2D\u7B49\u5F85\u4EFB\u52A1";
                }
            }
        }
    }, {
        key: "SetShipCagID",
        value: function SetShipCagID(_cid) {
            if (_cid < 0) return;

            this.CagID = _cid;
            this.insData = _GameDatas2.default.instance.getCagShip(_cid);
            this.SetShipID(this.insData.shipID);

            Object.assign(this, this.insData);

            this.curData = {};
            for (var key in this.data) {
                if (this.data.hasOwnProperty(key)) {
                    if (Object.prototype.toString.call(this.data[key]) === "[object Array]") {
                        this.curData[key] = this.data[key][this.insData.level];
                    } else {
                        this.curData[key] = this.data[key];
                    }
                }
            }

            this.updateBattleCallBack();
        }
    }, {
        key: "getCurrentLevel",
        value: function getCurrentLevel() {
            return this.insData.level + 1;
        }
    }, {
        key: "getCurrentLevelText",
        value: function getCurrentLevelText() {
            if (this.getCurrentLevel() < this.curData.lvlim) {
                return "" + (this.insData.level + 1);
            } else {
                return 'Max';
            }
        }
    }, {
        key: "initSelfCallBack",
        value: function initSelfCallBack() {
            this.selfTrigger = {};
        }
    }, {
        key: "setCrashCallBack",
        value: function setCrashCallBack(_func) {
            this.crashCallBack = _func;
        }
    }, {
        key: "setRepairCallBack",
        value: function setRepairCallBack(_func) {
            this.repairCallBack = _func;
        }
    }, {
        key: "getData",
        value: function getData(key) {
            return this.curData[key];
        }
    }, {
        key: "getNextLvlData",
        value: function getNextLvlData(key) {
            var array = this.data[key];
            var curLvl = this.getCurrentLevel();
            if (array) {
                if (Object.prototype.toString.call(array) === "[object Array]") {
                    if (array.length > curLvl) return array[curLvl];
                    return array[curLvl - 1];
                }
            }
            return null;
        }
    }, {
        key: "getIconPath",
        value: function getIconPath() {
            return this.crash ? this.curData.crashIconPath : this.curData.iconPath;
        }
    }, {
        key: "placeOnRoute",
        value: function placeOnRoute(_route) {
            this.routeOn = _route;
            this.routeBeforeCrash = null;

            this.initSelfCallBack();
            this.updateBattleCallBack();
        }
    }, {
        key: "setIdle",
        value: function setIdle() {
            if (this.routeOn) {
                this.routeOn.loseShip(this);
            }

            if (this.dockPos) this.dockPos.resumeBusy();

            if (this.crash && this.curData.autoRe) {
                this.StartRepair();
                this.routeBeforeCrash = this.routeOn;
            }

            this.routeOn = null;
            this.triggerState(-1);
        }
    }, {
        key: "isIdle",
        value: function isIdle() {
            return this.routeOn == null;
        }
    }, {
        key: "SetRouteIndex",
        value: function SetRouteIndex(_index) {
            this.routeIndex = _index;
        }
    }, {
        key: "setStateTrigger",
        value: function setStateTrigger(sstate, obj, _func) {
            var build = {
                obj: obj,
                func: _func
            };

            if (!this.stateTriggerMap[sstate]) {
                this.stateTriggerMap[sstate] = [];
            }

            this.stateTriggerMap[sstate].push(build);
        }
    }, {
        key: "setSelfTrigger",
        value: function setSelfTrigger(sstate, _func) {
            this.selfTrigger[sstate] = _func;
        }
    }, {
        key: "triggerState",
        value: function triggerState(sstate) {

            var kickList = [];
            var allCallBack = this.stateTriggerMap[sstate];

            if (allCallBack) {

                for (var i = 0; i < allCallBack.length; i++) {
                    var callBack = allCallBack[i];
                    if (callBack.obj) {
                        var res = callBack.func.call(callBack.obj, this.curstate, this);

                        if (res) kickList.push(i);
                    } else {
                        kickList.push(i);
                    }
                }

                kickList.reverse();
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = kickList[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var index = _step.value;

                        this.stateTriggerMap[sstate].splice(index, 1);
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
            }

            if (this.selfTrigger[sstate]) {
                this.selfTrigger[sstate].call(this);
            }

            this.curstate = sstate;
        }
    }, {
        key: "sendBack",
        value: function sendBack() {
            var _this = this;

            if (this.curstate == 1 || this.curstate == 2) {
                this.moveSet.changeState(3);
                this.setSelfTrigger(4, function () {
                    _this.setIdle();
                });

                if (this.dockPos) this.dockPos.setSendBack();
            } else if (this.curstate == 3 || this.curstate == 4) {
                this.moveSet.changeState(this.curstate);
                this.setSelfTrigger(1, function () {
                    _this.setIdle();
                });

                if (this.dockPos) this.dockPos.setSendBack();
            }
        }

        /* Battle Wait */

    }, {
        key: "updateBattleCallBack",
        value: function updateBattleCallBack() {
            var _this2 = this;

            this.setSelfTrigger(6, function () {
                var tempState = _this2.curstate;
                Laya.timer.frameOnce(120, _this2, function () {
                    _this2.curstate = tempState;

                    if (Math.random() * _this2.routeOn.curData.safeMax > _this2.curData.battle) {
                        _this2.setCrash();
                    } else {
                        _this2.moveSet.reBackInter();
                    }
                });
            });
        }
    }, {
        key: "setCrash",
        value: function setCrash() {
            this.crash = true;

            this.crashCallBack();

            if (this.dockPos) this.dockPos.setCrashBack();
            this.sendBack();
        }
    }, {
        key: "StartRepair",
        value: function StartRepair() {
            if (!this.crash) return;

            this.repair = true;
            this.repairStart = new Date();
            this.repairCallBack();
        }
    }, {
        key: "repairCompelete",
        value: function repairCompelete() {
            this.repair = false;
            this.repairStart = null;
            this.crash = false;

            if (this.curData.autoRe && this.routeBeforeCrash) {
                this.routeBeforeCrash.placeShip(this);

                if (this.dockPos) this.dockPos.setBusy();
            }

            this.repairCallBack();
        }
    }]);

    return Ship;
}();

exports.default = Ship;

},{"../manager/GameDatas":15}],13:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

;(function (globalObject) {
  'use strict';

  /*
   *      bignumber.js v8.1.1
   *      A JavaScript library for arbitrary-precision arithmetic.
   *      https://github.com/MikeMcl/bignumber.js
   *      Copyright (c) 2019 Michael Mclaughlin <M8ch88l@gmail.com>
   *      MIT Licensed.
   *
   *      BigNumber.prototype methods     |  BigNumber methods
   *                                      |
   *      absoluteValue            abs    |  clone
   *      comparedTo                      |  config               set
   *      decimalPlaces            dp     |      DECIMAL_PLACES
   *      dividedBy                div    |      ROUNDING_MODE
   *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT
   *      exponentiatedBy          pow    |      RANGE
   *      integerValue                    |      CRYPTO
   *      isEqualTo                eq     |      MODULO_MODE
   *      isFinite                        |      POW_PRECISION
   *      isGreaterThan            gt     |      FORMAT
   *      isGreaterThanOrEqualTo   gte    |      ALPHABET
   *      isInteger                       |  isBigNumber
   *      isLessThan               lt     |  maximum              max
   *      isLessThanOrEqualTo      lte    |  minimum              min
   *      isNaN                           |  random
   *      isNegative                      |  sum
   *      isPositive                      |
   *      isZero                          |
   *      minus                           |
   *      modulo                   mod    |
   *      multipliedBy             times  |
   *      negated                         |
   *      plus                            |
   *      precision                sd     |
   *      shiftedBy                       |
   *      squareRoot               sqrt   |
   *      toExponential                   |
   *      toFixed                         |
   *      toFormat                        |
   *      toFraction                      |
   *      toJSON                          |
   *      toNumber                        |
   *      toPrecision                     |
   *      toString                        |
   *      valueOf                         |
   *
   */

  var BigNumber,
      isNumeric = /^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,
      hasSymbol = typeof Symbol == 'function' && _typeof(Symbol.iterator) == 'symbol',
      mathceil = Math.ceil,
      mathfloor = Math.floor,
      bignumberError = '[BigNumber Error] ',
      tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',
      BASE = 1e14,
      LOG_BASE = 14,
      MAX_SAFE_INTEGER = 0x1fffffffffffff,
      // 2^53 - 1
  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1
  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],
      SQRT_BASE = 1e7,


  // EDITABLE
  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and
  // the arguments to toExponential, toFixed, toFormat, and toPrecision.
  MAX = 1E9; // 0 to MAX_INT32


  /*
   * Create and return a BigNumber constructor.
   */
  function clone(configObject) {
    var div,
        convertBase,
        parseNumeric,
        P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },
        ONE = new BigNumber(1),


    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------


    // The default values below must be integers within the inclusive ranges stated.
    // The values can also be changed at run-time using BigNumber.set.

    // The maximum number of decimal places for operations involving division.
    DECIMAL_PLACES = 20,
        // 0 to MAX

    // The rounding mode used when rounding to the above decimal places, and when using
    // toExponential, toFixed, toFormat and toPrecision, and round (default value).
    // UP         0 Away from zero.
    // DOWN       1 Towards zero.
    // CEIL       2 Towards +Infinity.
    // FLOOR      3 Towards -Infinity.
    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.
    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.
    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.
    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.
    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.
    ROUNDING_MODE = 4,
        // 0 to 8

    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]

    // The exponent value at and beneath which toString returns exponential notation.
    // Number type: -7
    TO_EXP_NEG = -7,
        // 0 to -MAX

    // The exponent value at and above which toString returns exponential notation.
    // Number type: 21
    TO_EXP_POS = 21,
        // 0 to MAX

    // RANGE : [MIN_EXP, MAX_EXP]

    // The minimum exponent value, beneath which underflow to zero occurs.
    // Number type: -324  (5e-324)
    MIN_EXP = -1e7,
        // -1 to -MAX

    // The maximum exponent value, above which overflow to Infinity occurs.
    // Number type:  308  (1.7976931348623157e+308)
    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.
    MAX_EXP = 1e7,
        // 1 to MAX

    // Whether to use cryptographically-secure random number generation, if available.
    CRYPTO = false,
        // true or false

    // The modulo mode used when calculating the modulus: a mod n.
    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.
    // The remainder (r) is calculated as: r = a - n * q.
    //
    // UP        0 The remainder is positive if the dividend is negative, else is negative.
    // DOWN      1 The remainder has the same sign as the dividend.
    //             This modulo mode is commonly known as 'truncated division' and is
    //             equivalent to (a % n) in JavaScript.
    // FLOOR     3 The remainder has the same sign as the divisor (Python %).
    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.
    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).
    //             The remainder is always positive.
    //
    // The truncated division, floored division, Euclidian division and IEEE 754 remainder
    // modes are commonly used for the modulus operation.
    // Although the other rounding modes can also be used, they may not give useful results.
    MODULO_MODE = 1,
        // 0 to 9

    // The maximum number of significant digits of the result of the exponentiatedBy operation.
    // If POW_PRECISION is 0, there will be unlimited significant digits.
    POW_PRECISION = 0,
        // 0 to MAX

    // The format specification used by the BigNumber.prototype.toFormat method.
    FORMAT = {
      prefix: '',
      groupSize: 3,
      secondaryGroupSize: 0,
      groupSeparator: ',',
      decimalSeparator: '.',
      fractionGroupSize: 0,
      fractionGroupSeparator: '\xA0', // non-breaking space
      suffix: ''
    },


    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',
    // '-', '.', whitespace, or repeated character.
    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'
    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz';

    //------------------------------------------------------------------------------------------


    // CONSTRUCTOR


    /*
     * The BigNumber constructor and exported function.
     * Create and return a new instance of a BigNumber object.
     *
     * v {number|string|BigNumber} A numeric value.
     * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.
     */
    function BigNumber(v, b) {
      var alphabet,
          c,
          caseChanged,
          e,
          i,
          isNum,
          len,
          str,
          x = this;

      // Enable constructor call without `new`.
      if (!(x instanceof BigNumber)) return new BigNumber(v, b);

      if (b == null) {

        if (v && v._isBigNumber === true) {
          x.s = v.s;

          if (!v.c || v.e > MAX_EXP) {
            x.c = x.e = null;
          } else if (v.e < MIN_EXP) {
            x.c = [x.e = 0];
          } else {
            x.e = v.e;
            x.c = v.c.slice();
          }

          return;
        }

        if ((isNum = typeof v == 'number') && v * 0 == 0) {

          // Use `1 / n` to handle minus zero also.
          x.s = 1 / v < 0 ? (v = -v, -1) : 1;

          // Fast path for integers, where n < 2147483648 (2**31).
          if (v === ~~v) {
            for (e = 0, i = v; i >= 10; i /= 10, e++) {}

            if (e > MAX_EXP) {
              x.c = x.e = null;
            } else {
              x.e = e;
              x.c = [v];
            }

            return;
          }

          str = String(v);
        } else {

          if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);

          x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;
        }

        // Decimal point?
        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');

        // Exponential form?
        if ((i = str.search(/e/i)) > 0) {

          // Determine exponent.
          if (e < 0) e = i;
          e += +str.slice(i + 1);
          str = str.substring(0, i);
        } else if (e < 0) {

          // Integer.
          e = str.length;
        }
      } else {

        // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'
        intCheck(b, 2, ALPHABET.length, 'Base');

        // Allow exponential notation to be used with base 10 argument, while
        // also rounding to DECIMAL_PLACES as with other bases.
        if (b == 10) {
          x = new BigNumber(v);
          return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);
        }

        str = String(v);

        if (isNum = typeof v == 'number') {

          // Avoid potential interpretation of Infinity and NaN as base 44+ values.
          if (v * 0 != 0) return parseNumeric(x, str, isNum, b);

          x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;

          // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'
          if (BigNumber.DEBUG && str.replace(/^0\.0*|\./, '').length > 15) {
            throw Error(tooManyDigits + v);
          }
        } else {
          x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;
        }

        alphabet = ALPHABET.slice(0, b);
        e = i = 0;

        // Check that str is a valid base b number.
        // Don't use RegExp, so alphabet can contain special characters.
        for (len = str.length; i < len; i++) {
          if (alphabet.indexOf(c = str.charAt(i)) < 0) {
            if (c == '.') {

              // If '.' is not the first character and it has not be found before.
              if (i > e) {
                e = len;
                continue;
              }
            } else if (!caseChanged) {

              // Allow e.g. hexadecimal 'FF' as well as 'ff'.
              if (str == str.toUpperCase() && (str = str.toLowerCase()) || str == str.toLowerCase() && (str = str.toUpperCase())) {
                caseChanged = true;
                i = -1;
                e = 0;
                continue;
              }
            }

            return parseNumeric(x, String(v), isNum, b);
          }
        }

        // Prevent later check for length on converted number.
        isNum = false;
        str = convertBase(str, b, 10, x.s);

        // Decimal point?
        if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');else e = str.length;
      }

      // Determine leading zeros.
      for (i = 0; str.charCodeAt(i) === 48; i++) {}

      // Determine trailing zeros.
      for (len = str.length; str.charCodeAt(--len) === 48;) {}

      if (str = str.slice(i, ++len)) {
        len -= i;

        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'
        if (isNum && BigNumber.DEBUG && len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {
          throw Error(tooManyDigits + x.s * v);
        }

        // Overflow?
        if ((e = e - i - 1) > MAX_EXP) {

          // Infinity.
          x.c = x.e = null;

          // Underflow?
        } else if (e < MIN_EXP) {

          // Zero.
          x.c = [x.e = 0];
        } else {
          x.e = e;
          x.c = [];

          // Transform base

          // e is the base 10 exponent.
          // i is where to slice str to get the first element of the coefficient array.
          i = (e + 1) % LOG_BASE;
          if (e < 0) i += LOG_BASE; // i < 1

          if (i < len) {
            if (i) x.c.push(+str.slice(0, i));

            for (len -= LOG_BASE; i < len;) {
              x.c.push(+str.slice(i, i += LOG_BASE));
            }

            i = LOG_BASE - (str = str.slice(i)).length;
          } else {
            i -= len;
          }

          for (; i--; str += '0') {}
          x.c.push(+str);
        }
      } else {

        // Zero.
        x.c = [x.e = 0];
      }
    }

    // CONSTRUCTOR PROPERTIES


    BigNumber.clone = clone;

    BigNumber.ROUND_UP = 0;
    BigNumber.ROUND_DOWN = 1;
    BigNumber.ROUND_CEIL = 2;
    BigNumber.ROUND_FLOOR = 3;
    BigNumber.ROUND_HALF_UP = 4;
    BigNumber.ROUND_HALF_DOWN = 5;
    BigNumber.ROUND_HALF_EVEN = 6;
    BigNumber.ROUND_HALF_CEIL = 7;
    BigNumber.ROUND_HALF_FLOOR = 8;
    BigNumber.EUCLID = 9;

    /*
     * Configure infrequently-changing library-wide settings.
     *
     * Accept an object with the following optional properties (if the value of a property is
     * a number, it must be an integer within the inclusive range stated):
     *
     *   DECIMAL_PLACES   {number}           0 to MAX
     *   ROUNDING_MODE    {number}           0 to 8
     *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]
     *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]
     *   CRYPTO           {boolean}          true or false
     *   MODULO_MODE      {number}           0 to 9
     *   POW_PRECISION       {number}           0 to MAX
     *   ALPHABET         {string}           A string of two or more unique characters which does
     *                                       not contain '.'.
     *   FORMAT           {object}           An object with some of the following properties:
     *     prefix                 {string}
     *     groupSize              {number}
     *     secondaryGroupSize     {number}
     *     groupSeparator         {string}
     *     decimalSeparator       {string}
     *     fractionGroupSize      {number}
     *     fractionGroupSeparator {string}
     *     suffix                 {string}
     *
     * (The values assigned to the above FORMAT object properties are not checked for validity.)
     *
     * E.g.
     * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })
     *
     * Ignore properties/parameters set to null or undefined, except for ALPHABET.
     *
     * Return an object with the properties current values.
     */
    BigNumber.config = BigNumber.set = function (obj) {
      var p, v;

      if (obj != null) {

        if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) == 'object') {

          // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.
          // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'
          if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {
            v = obj[p];
            intCheck(v, 0, MAX, p);
            DECIMAL_PLACES = v;
          }

          // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.
          // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'
          if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {
            v = obj[p];
            intCheck(v, 0, 8, p);
            ROUNDING_MODE = v;
          }

          // EXPONENTIAL_AT {number|number[]}
          // Integer, -MAX to MAX inclusive or
          // [integer -MAX to 0 inclusive, 0 to MAX inclusive].
          // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'
          if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {
            v = obj[p];
            if (v && v.pop) {
              intCheck(v[0], -MAX, 0, p);
              intCheck(v[1], 0, MAX, p);
              TO_EXP_NEG = v[0];
              TO_EXP_POS = v[1];
            } else {
              intCheck(v, -MAX, MAX, p);
              TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);
            }
          }

          // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or
          // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].
          // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'
          if (obj.hasOwnProperty(p = 'RANGE')) {
            v = obj[p];
            if (v && v.pop) {
              intCheck(v[0], -MAX, -1, p);
              intCheck(v[1], 1, MAX, p);
              MIN_EXP = v[0];
              MAX_EXP = v[1];
            } else {
              intCheck(v, -MAX, MAX, p);
              if (v) {
                MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);
              } else {
                throw Error(bignumberError + p + ' cannot be zero: ' + v);
              }
            }
          }

          // CRYPTO {boolean} true or false.
          // '[BigNumber Error] CRYPTO not true or false: {v}'
          // '[BigNumber Error] crypto unavailable'
          if (obj.hasOwnProperty(p = 'CRYPTO')) {
            v = obj[p];
            if (v === !!v) {
              if (v) {
                if (typeof crypto != 'undefined' && crypto && (crypto.getRandomValues || crypto.randomBytes)) {
                  CRYPTO = v;
                } else {
                  CRYPTO = !v;
                  throw Error(bignumberError + 'crypto unavailable');
                }
              } else {
                CRYPTO = v;
              }
            } else {
              throw Error(bignumberError + p + ' not true or false: ' + v);
            }
          }

          // MODULO_MODE {number} Integer, 0 to 9 inclusive.
          // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'
          if (obj.hasOwnProperty(p = 'MODULO_MODE')) {
            v = obj[p];
            intCheck(v, 0, 9, p);
            MODULO_MODE = v;
          }

          // POW_PRECISION {number} Integer, 0 to MAX inclusive.
          // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'
          if (obj.hasOwnProperty(p = 'POW_PRECISION')) {
            v = obj[p];
            intCheck(v, 0, MAX, p);
            POW_PRECISION = v;
          }

          // FORMAT {object}
          // '[BigNumber Error] FORMAT not an object: {v}'
          if (obj.hasOwnProperty(p = 'FORMAT')) {
            v = obj[p];
            if ((typeof v === 'undefined' ? 'undefined' : _typeof(v)) == 'object') FORMAT = v;else throw Error(bignumberError + p + ' not an object: ' + v);
          }

          // ALPHABET {string}
          // '[BigNumber Error] ALPHABET invalid: {v}'
          if (obj.hasOwnProperty(p = 'ALPHABET')) {
            v = obj[p];

            // Disallow if only one character,
            // or if it contains '+', '-', '.', whitespace, or a repeated character.
            if (typeof v == 'string' && !/^.$|[+-.\s]|(.).*\1/.test(v)) {
              ALPHABET = v;
            } else {
              throw Error(bignumberError + p + ' invalid: ' + v);
            }
          }
        } else {

          // '[BigNumber Error] Object expected: {v}'
          throw Error(bignumberError + 'Object expected: ' + obj);
        }
      }

      return {
        DECIMAL_PLACES: DECIMAL_PLACES,
        ROUNDING_MODE: ROUNDING_MODE,
        EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],
        RANGE: [MIN_EXP, MAX_EXP],
        CRYPTO: CRYPTO,
        MODULO_MODE: MODULO_MODE,
        POW_PRECISION: POW_PRECISION,
        FORMAT: FORMAT,
        ALPHABET: ALPHABET
      };
    };

    /*
     * Return true if v is a BigNumber instance, otherwise return false.
     *
     * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.
     *
     * v {any}
     *
     * '[BigNumber Error] Invalid BigNumber: {v}'
     */
    BigNumber.isBigNumber = function (v) {
      if (!v || v._isBigNumber !== true) return false;
      if (!BigNumber.DEBUG) return true;

      var i,
          n,
          c = v.c,
          e = v.e,
          s = v.s;

      out: if ({}.toString.call(c) == '[object Array]') {

        if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {

          // If the first element is zero, the BigNumber value must be zero.
          if (c[0] === 0) {
            if (e === 0 && c.length === 1) return true;
            break out;
          }

          // Calculate number of digits that c[0] should have, based on the exponent.
          i = (e + 1) % LOG_BASE;
          if (i < 1) i += LOG_BASE;

          // Calculate number of digits of c[0].
          //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {
          if (String(c[0]).length == i) {

            for (i = 0; i < c.length; i++) {
              n = c[i];
              if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;
            }

            // Last element cannot be zero, unless it is the only element.
            if (n !== 0) return true;
          }
        }

        // Infinity/NaN
      } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {
        return true;
      }

      throw Error(bignumberError + 'Invalid BigNumber: ' + v);
    };

    /*
     * Return a new BigNumber whose value is the maximum of the arguments.
     *
     * arguments {number|string|BigNumber}
     */
    BigNumber.maximum = BigNumber.max = function () {
      return maxOrMin(arguments, P.lt);
    };

    /*
     * Return a new BigNumber whose value is the minimum of the arguments.
     *
     * arguments {number|string|BigNumber}
     */
    BigNumber.minimum = BigNumber.min = function () {
      return maxOrMin(arguments, P.gt);
    };

    /*
     * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,
     * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing
     * zeros are produced).
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'
     * '[BigNumber Error] crypto unavailable'
     */
    BigNumber.random = function () {
      var pow2_53 = 0x20000000000000;

      // Return a 53 bit integer n, where 0 <= n < 9007199254740992.
      // Check if Math.random() produces more than 32 bits of randomness.
      // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.
      // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.
      var random53bitInt = Math.random() * pow2_53 & 0x1fffff ? function () {
        return mathfloor(Math.random() * pow2_53);
      } : function () {
        return (Math.random() * 0x40000000 | 0) * 0x800000 + (Math.random() * 0x800000 | 0);
      };

      return function (dp) {
        var a,
            b,
            e,
            k,
            v,
            i = 0,
            c = [],
            rand = new BigNumber(ONE);

        if (dp == null) dp = DECIMAL_PLACES;else intCheck(dp, 0, MAX);

        k = mathceil(dp / LOG_BASE);

        if (CRYPTO) {

          // Browsers supporting crypto.getRandomValues.
          if (crypto.getRandomValues) {

            a = crypto.getRandomValues(new Uint32Array(k *= 2));

            for (; i < k;) {

              // 53 bits:
              // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)
              // 11111 11111111 11111111 11111111 11100000 00000000 00000000
              // ((Math.pow(2, 32) - 1) >>> 11).toString(2)
              //                                     11111 11111111 11111111
              // 0x20000 is 2^21.
              v = a[i] * 0x20000 + (a[i + 1] >>> 11);

              // Rejection sampling:
              // 0 <= v < 9007199254740992
              // Probability that v >= 9e15, is
              // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251
              if (v >= 9e15) {
                b = crypto.getRandomValues(new Uint32Array(2));
                a[i] = b[0];
                a[i + 1] = b[1];
              } else {

                // 0 <= v <= 8999999999999999
                // 0 <= (v % 1e14) <= 99999999999999
                c.push(v % 1e14);
                i += 2;
              }
            }
            i = k / 2;

            // Node.js supporting crypto.randomBytes.
          } else if (crypto.randomBytes) {

            // buffer
            a = crypto.randomBytes(k *= 7);

            for (; i < k;) {

              // 0x1000000000000 is 2^48, 0x10000000000 is 2^40
              // 0x100000000 is 2^32, 0x1000000 is 2^24
              // 11111 11111111 11111111 11111111 11111111 11111111 11111111
              // 0 <= v < 9007199254740992
              v = (a[i] & 31) * 0x1000000000000 + a[i + 1] * 0x10000000000 + a[i + 2] * 0x100000000 + a[i + 3] * 0x1000000 + (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];

              if (v >= 9e15) {
                crypto.randomBytes(7).copy(a, i);
              } else {

                // 0 <= (v % 1e14) <= 99999999999999
                c.push(v % 1e14);
                i += 7;
              }
            }
            i = k / 7;
          } else {
            CRYPTO = false;
            throw Error(bignumberError + 'crypto unavailable');
          }
        }

        // Use Math.random.
        if (!CRYPTO) {

          for (; i < k;) {
            v = random53bitInt();
            if (v < 9e15) c[i++] = v % 1e14;
          }
        }

        k = c[--i];
        dp %= LOG_BASE;

        // Convert trailing digits to zeros according to dp.
        if (k && dp) {
          v = POWS_TEN[LOG_BASE - dp];
          c[i] = mathfloor(k / v) * v;
        }

        // Remove trailing elements which are zero.
        for (; c[i] === 0; c.pop(), i--) {}

        // Zero?
        if (i < 0) {
          c = [e = 0];
        } else {

          // Remove leading elements which are zero and adjust exponent accordingly.
          for (e = -1; c[0] === 0; c.splice(0, 1), e -= LOG_BASE) {}

          // Count the digits of the first element of c to determine leading zeros, and...
          for (i = 1, v = c[0]; v >= 10; v /= 10, i++) {}

          // adjust the exponent accordingly.
          if (i < LOG_BASE) e -= LOG_BASE - i;
        }

        rand.e = e;
        rand.c = c;
        return rand;
      };
    }();

    /*
     * Return a BigNumber whose value is the sum of the arguments.
     *
     * arguments {number|string|BigNumber}
     */
    BigNumber.sum = function () {
      var i = 1,
          args = arguments,
          sum = new BigNumber(args[0]);
      for (; i < args.length;) {
        sum = sum.plus(args[i++]);
      }return sum;
    };

    // PRIVATE FUNCTIONS


    // Called by BigNumber and BigNumber.prototype.toString.
    convertBase = function () {
      var decimal = '0123456789';

      /*
       * Convert string of baseIn to an array of numbers of baseOut.
       * Eg. toBaseOut('255', 10, 16) returns [15, 15].
       * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].
       */
      function toBaseOut(str, baseIn, baseOut, alphabet) {
        var j,
            arr = [0],
            arrL,
            i = 0,
            len = str.length;

        for (; i < len;) {
          for (arrL = arr.length; arrL--; arr[arrL] *= baseIn) {}

          arr[0] += alphabet.indexOf(str.charAt(i++));

          for (j = 0; j < arr.length; j++) {

            if (arr[j] > baseOut - 1) {
              if (arr[j + 1] == null) arr[j + 1] = 0;
              arr[j + 1] += arr[j] / baseOut | 0;
              arr[j] %= baseOut;
            }
          }
        }

        return arr.reverse();
      }

      // Convert a numeric string of baseIn to a numeric string of baseOut.
      // If the caller is toString, we are converting from base 10 to baseOut.
      // If the caller is BigNumber, we are converting from baseIn to base 10.
      return function (str, baseIn, baseOut, sign, callerIsToString) {
        var alphabet,
            d,
            e,
            k,
            r,
            x,
            xc,
            y,
            i = str.indexOf('.'),
            dp = DECIMAL_PLACES,
            rm = ROUNDING_MODE;

        // Non-integer.
        if (i >= 0) {
          k = POW_PRECISION;

          // Unlimited precision.
          POW_PRECISION = 0;
          str = str.replace('.', '');
          y = new BigNumber(baseIn);
          x = y.pow(str.length - i);
          POW_PRECISION = k;

          // Convert str as if an integer, then restore the fraction part by dividing the
          // result by its base raised to a power.

          y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'), 10, baseOut, decimal);
          y.e = y.c.length;
        }

        // Convert the number as integer.

        xc = toBaseOut(str, baseIn, baseOut, callerIsToString ? (alphabet = ALPHABET, decimal) : (alphabet = decimal, ALPHABET));

        // xc now represents str as an integer and converted to baseOut. e is the exponent.
        e = k = xc.length;

        // Remove trailing zeros.
        for (; xc[--k] == 0; xc.pop()) {}

        // Zero?
        if (!xc[0]) return alphabet.charAt(0);

        // Does str represent an integer? If so, no need for the division.
        if (i < 0) {
          --e;
        } else {
          x.c = xc;
          x.e = e;

          // The sign is needed for correct rounding.
          x.s = sign;
          x = div(x, y, dp, rm, baseOut);
          xc = x.c;
          r = x.r;
          e = x.e;
        }

        // xc now represents str converted to baseOut.

        // THe index of the rounding digit.
        d = e + dp + 1;

        // The rounding digit: the digit to the right of the digit that may be rounded up.
        i = xc[d];

        // Look at the rounding digits and mode to determine whether to round up.

        k = baseOut / 2;
        r = r || d < 0 || xc[d + 1] != null;

        r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : i > k || i == k && (rm == 4 || r || rm == 6 && xc[d - 1] & 1 || rm == (x.s < 0 ? 8 : 7));

        // If the index of the rounding digit is not greater than zero, or xc represents
        // zero, then the result of the base conversion is zero or, if rounding up, a value
        // such as 0.00001.
        if (d < 1 || !xc[0]) {

          // 1^-dp or 0
          str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);
        } else {

          // Truncate xc to the required number of decimal places.
          xc.length = d;

          // Round up?
          if (r) {

            // Rounding up may mean the previous digit has to be rounded up and so on.
            for (--baseOut; ++xc[--d] > baseOut;) {
              xc[d] = 0;

              if (!d) {
                ++e;
                xc = [1].concat(xc);
              }
            }
          }

          // Determine trailing zeros.
          for (k = xc.length; !xc[--k];) {}

          // E.g. [4, 11, 15] becomes 4bf.
          for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++])) {}

          // Add leading zeros, decimal point and trailing zeros as required.
          str = toFixedPoint(str, e, alphabet.charAt(0));
        }

        // The caller will add the sign.
        return str;
      };
    }();

    // Perform division in the specified base. Called by div and convertBase.
    div = function () {

      // Assume non-zero x and k.
      function multiply(x, k, base) {
        var m,
            temp,
            xlo,
            xhi,
            carry = 0,
            i = x.length,
            klo = k % SQRT_BASE,
            khi = k / SQRT_BASE | 0;

        for (x = x.slice(); i--;) {
          xlo = x[i] % SQRT_BASE;
          xhi = x[i] / SQRT_BASE | 0;
          m = khi * xlo + xhi * klo;
          temp = klo * xlo + m % SQRT_BASE * SQRT_BASE + carry;
          carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;
          x[i] = temp % base;
        }

        if (carry) x = [carry].concat(x);

        return x;
      }

      function compare(a, b, aL, bL) {
        var i, cmp;

        if (aL != bL) {
          cmp = aL > bL ? 1 : -1;
        } else {

          for (i = cmp = 0; i < aL; i++) {

            if (a[i] != b[i]) {
              cmp = a[i] > b[i] ? 1 : -1;
              break;
            }
          }
        }

        return cmp;
      }

      function subtract(a, b, aL, base) {
        var i = 0;

        // Subtract b from a.
        for (; aL--;) {
          a[aL] -= i;
          i = a[aL] < b[aL] ? 1 : 0;
          a[aL] = i * base + a[aL] - b[aL];
        }

        // Remove leading zeros.
        for (; !a[0] && a.length > 1; a.splice(0, 1)) {}
      }

      // x: dividend, y: divisor.
      return function (x, y, dp, rm, base) {
        var cmp,
            e,
            i,
            more,
            n,
            prod,
            prodL,
            q,
            qc,
            rem,
            remL,
            rem0,
            xi,
            xL,
            yc0,
            yL,
            yz,
            s = x.s == y.s ? 1 : -1,
            xc = x.c,
            yc = y.c;

        // Either NaN, Infinity or 0?
        if (!xc || !xc[0] || !yc || !yc[0]) {

          return new BigNumber(

          // Return NaN if either NaN, or both Infinity or 0.
          !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :

          // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.
          xc && xc[0] == 0 || !yc ? s * 0 : s / 0);
        }

        q = new BigNumber(s);
        qc = q.c = [];
        e = x.e - y.e;
        s = dp + e + 1;

        if (!base) {
          base = BASE;
          e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);
          s = s / LOG_BASE | 0;
        }

        // Result exponent may be one less then the current value of e.
        // The coefficients of the BigNumbers from convertBase may have trailing zeros.
        for (i = 0; yc[i] == (xc[i] || 0); i++) {}

        if (yc[i] > (xc[i] || 0)) e--;

        if (s < 0) {
          qc.push(1);
          more = true;
        } else {
          xL = xc.length;
          yL = yc.length;
          i = 0;
          s += 2;

          // Normalise xc and yc so highest order digit of yc is >= base / 2.

          n = mathfloor(base / (yc[0] + 1));

          // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.
          // if (n > 1 || n++ == 1 && yc[0] < base / 2) {
          if (n > 1) {
            yc = multiply(yc, n, base);
            xc = multiply(xc, n, base);
            yL = yc.length;
            xL = xc.length;
          }

          xi = yL;
          rem = xc.slice(0, yL);
          remL = rem.length;

          // Add zeros to make remainder as long as divisor.
          for (; remL < yL; rem[remL++] = 0) {}
          yz = yc.slice();
          yz = [0].concat(yz);
          yc0 = yc[0];
          if (yc[1] >= base / 2) yc0++;
          // Not necessary, but to prevent trial digit n > base, when using base 3.
          // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;

          do {
            n = 0;

            // Compare divisor and remainder.
            cmp = compare(yc, rem, yL, remL);

            // If divisor < remainder.
            if (cmp < 0) {

              // Calculate trial digit, n.

              rem0 = rem[0];
              if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);

              // n is how many times the divisor goes into the current remainder.
              n = mathfloor(rem0 / yc0);

              //  Algorithm:
              //  product = divisor multiplied by trial digit (n).
              //  Compare product and remainder.
              //  If product is greater than remainder:
              //    Subtract divisor from product, decrement trial digit.
              //  Subtract product from remainder.
              //  If product was less than remainder at the last compare:
              //    Compare new remainder and divisor.
              //    If remainder is greater than divisor:
              //      Subtract divisor from remainder, increment trial digit.

              if (n > 1) {

                // n may be > base only when base is 3.
                if (n >= base) n = base - 1;

                // product = divisor * trial digit.
                prod = multiply(yc, n, base);
                prodL = prod.length;
                remL = rem.length;

                // Compare product and remainder.
                // If product > remainder then trial digit n too high.
                // n is 1 too high about 5% of the time, and is not known to have
                // ever been more than 1 too high.
                while (compare(prod, rem, prodL, remL) == 1) {
                  n--;

                  // Subtract divisor from product.
                  subtract(prod, yL < prodL ? yz : yc, prodL, base);
                  prodL = prod.length;
                  cmp = 1;
                }
              } else {

                // n is 0 or 1, cmp is -1.
                // If n is 0, there is no need to compare yc and rem again below,
                // so change cmp to 1 to avoid it.
                // If n is 1, leave cmp as -1, so yc and rem are compared again.
                if (n == 0) {

                  // divisor < remainder, so n must be at least 1.
                  cmp = n = 1;
                }

                // product = divisor
                prod = yc.slice();
                prodL = prod.length;
              }

              if (prodL < remL) prod = [0].concat(prod);

              // Subtract product from remainder.
              subtract(rem, prod, remL, base);
              remL = rem.length;

              // If product was < remainder.
              if (cmp == -1) {

                // Compare divisor and new remainder.
                // If divisor < new remainder, subtract divisor from remainder.
                // Trial digit n too low.
                // n is 1 too low about 5% of the time, and very rarely 2 too low.
                while (compare(yc, rem, yL, remL) < 1) {
                  n++;

                  // Subtract divisor from remainder.
                  subtract(rem, yL < remL ? yz : yc, remL, base);
                  remL = rem.length;
                }
              }
            } else if (cmp === 0) {
              n++;
              rem = [0];
            } // else cmp === 1 and n will be 0

            // Add the next digit, n, to the result array.
            qc[i++] = n;

            // Update the remainder.
            if (rem[0]) {
              rem[remL++] = xc[xi] || 0;
            } else {
              rem = [xc[xi]];
              remL = 1;
            }
          } while ((xi++ < xL || rem[0] != null) && s--);

          more = rem[0] != null;

          // Leading zero?
          if (!qc[0]) qc.splice(0, 1);
        }

        if (base == BASE) {

          // To calculate q.e, first get the number of digits of qc[0].
          for (i = 1, s = qc[0]; s >= 10; s /= 10, i++) {}

          round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);

          // Caller is convertBase.
        } else {
          q.e = e;
          q.r = +more;
        }

        return q;
      };
    }();

    /*
     * Return a string representing the value of BigNumber n in fixed-point or exponential
     * notation rounded to the specified decimal places or significant digits.
     *
     * n: a BigNumber.
     * i: the index of the last digit required (i.e. the digit that may be rounded up).
     * rm: the rounding mode.
     * id: 1 (toExponential) or 2 (toPrecision).
     */
    function format(n, i, rm, id) {
      var c0, e, ne, len, str;

      if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);

      if (!n.c) return n.toString();

      c0 = n.c[0];
      ne = n.e;

      if (i == null) {
        str = coeffToString(n.c);
        str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS) ? toExponential(str, ne) : toFixedPoint(str, ne, '0');
      } else {
        n = round(new BigNumber(n), i, rm);

        // n.e may have changed if the value was rounded up.
        e = n.e;

        str = coeffToString(n.c);
        len = str.length;

        // toPrecision returns exponential notation if the number of significant digits
        // specified is less than the number of digits necessary to represent the integer
        // part of the value in fixed-point notation.

        // Exponential notation.
        if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {

          // Append zeros?
          for (; len < i; str += '0', len++) {}
          str = toExponential(str, e);

          // Fixed-point notation.
        } else {
          i -= ne;
          str = toFixedPoint(str, e, '0');

          // Append zeros?
          if (e + 1 > len) {
            if (--i > 0) for (str += '.'; i--; str += '0') {}
          } else {
            i += e - len;
            if (i > 0) {
              if (e + 1 == len) str += '.';
              for (; i--; str += '0') {}
            }
          }
        }
      }

      return n.s < 0 && c0 ? '-' + str : str;
    }

    // Handle BigNumber.max and BigNumber.min.
    function maxOrMin(args, method) {
      var n,
          i = 1,
          m = new BigNumber(args[0]);

      for (; i < args.length; i++) {
        n = new BigNumber(args[i]);

        // If any number is NaN, return NaN.
        if (!n.s) {
          m = n;
          break;
        } else if (method.call(m, n)) {
          m = n;
        }
      }

      return m;
    }

    /*
     * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.
     * Called by minus, plus and times.
     */
    function normalise(n, c, e) {
      var i = 1,
          j = c.length;

      // Remove trailing zeros.
      for (; !c[--j]; c.pop()) {}

      // Calculate the base 10 exponent. First get the number of digits of c[0].
      for (j = c[0]; j >= 10; j /= 10, i++) {}

      // Overflow?
      if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {

        // Infinity.
        n.c = n.e = null;

        // Underflow?
      } else if (e < MIN_EXP) {

        // Zero.
        n.c = [n.e = 0];
      } else {
        n.e = e;
        n.c = c;
      }

      return n;
    }

    // Handle values that fail the validity test in BigNumber.
    parseNumeric = function () {
      var basePrefix = /^(-?)0([xbo])(?=\w[\w.]*$)/i,
          dotAfter = /^([^.]+)\.$/,
          dotBefore = /^\.([^.]+)$/,
          isInfinityOrNaN = /^-?(Infinity|NaN)$/,
          whitespaceOrPlus = /^\s*\+(?=[\w.])|^\s+|\s+$/g;

      return function (x, str, isNum, b) {
        var base,
            s = isNum ? str : str.replace(whitespaceOrPlus, '');

        // No exception on ±Infinity or NaN.
        if (isInfinityOrNaN.test(s)) {
          x.s = isNaN(s) ? null : s < 0 ? -1 : 1;
        } else {
          if (!isNum) {

            // basePrefix = /^(-?)0([xbo])(?=\w[\w.]*$)/i
            s = s.replace(basePrefix, function (m, p1, p2) {
              base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;
              return !b || b == base ? p1 : m;
            });

            if (b) {
              base = b;

              // E.g. '1.' to '1', '.1' to '0.1'
              s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');
            }

            if (str != s) return new BigNumber(s, base);
          }

          // '[BigNumber Error] Not a number: {n}'
          // '[BigNumber Error] Not a base {b} number: {n}'
          if (BigNumber.DEBUG) {
            throw Error(bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);
          }

          // NaN
          x.s = null;
        }

        x.c = x.e = null;
      };
    }();

    /*
     * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.
     * If r is truthy, it is known that there are more digits after the rounding digit.
     */
    function round(x, sd, rm, r) {
      var d,
          i,
          j,
          k,
          n,
          ni,
          rd,
          xc = x.c,
          pows10 = POWS_TEN;

      // if x is not Infinity or NaN...
      if (xc) {

        // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.
        // n is a base 1e14 number, the value of the element of array x.c containing rd.
        // ni is the index of n within x.c.
        // d is the number of digits of n.
        // i is the index of rd within n including leading zeros.
        // j is the actual index of rd within n (if < 0, rd is a leading zero).
        out: {

          // Get the number of digits of the first element of xc.
          for (d = 1, k = xc[0]; k >= 10; k /= 10, d++) {}
          i = sd - d;

          // If the rounding digit is in the first element of xc...
          if (i < 0) {
            i += LOG_BASE;
            j = sd;
            n = xc[ni = 0];

            // Get the rounding digit at index j of n.
            rd = n / pows10[d - j - 1] % 10 | 0;
          } else {
            ni = mathceil((i + 1) / LOG_BASE);

            if (ni >= xc.length) {

              if (r) {

                // Needed by sqrt.
                for (; xc.length <= ni; xc.push(0)) {}
                n = rd = 0;
                d = 1;
                i %= LOG_BASE;
                j = i - LOG_BASE + 1;
              } else {
                break out;
              }
            } else {
              n = k = xc[ni];

              // Get the number of digits of n.
              for (d = 1; k >= 10; k /= 10, d++) {}

              // Get the index of rd within n.
              i %= LOG_BASE;

              // Get the index of rd within n, adjusted for leading zeros.
              // The number of leading zeros of n is given by LOG_BASE - d.
              j = i - LOG_BASE + d;

              // Get the rounding digit at index j of n.
              rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;
            }
          }

          r = r || sd < 0 ||

          // Are there any non-zero digits after the rounding digit?
          // The expression  n % pows10[d - j - 1]  returns all digits of n to the right
          // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.
          xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);

          r = rm < 4 ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2)) : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&

          // Check whether the digit to the left of the rounding digit is odd.
          (i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10 & 1 || rm == (x.s < 0 ? 8 : 7));

          if (sd < 1 || !xc[0]) {
            xc.length = 0;

            if (r) {

              // Convert sd to decimal places.
              sd -= x.e + 1;

              // 1, 0.1, 0.01, 0.001, 0.0001 etc.
              xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];
              x.e = -sd || 0;
            } else {

              // Zero.
              xc[0] = x.e = 0;
            }

            return x;
          }

          // Remove excess digits.
          if (i == 0) {
            xc.length = ni;
            k = 1;
            ni--;
          } else {
            xc.length = ni + 1;
            k = pows10[LOG_BASE - i];

            // E.g. 56700 becomes 56000 if 7 is the rounding digit.
            // j > 0 means i > number of leading zeros of n.
            xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;
          }

          // Round up?
          if (r) {

            for (;;) {

              // If the digit to be rounded up is in the first element of xc...
              if (ni == 0) {

                // i will be the length of xc[0] before k is added.
                for (i = 1, j = xc[0]; j >= 10; j /= 10, i++) {}
                j = xc[0] += k;
                for (k = 1; j >= 10; j /= 10, k++) {}

                // if i != k the length has increased.
                if (i != k) {
                  x.e++;
                  if (xc[0] == BASE) xc[0] = 1;
                }

                break;
              } else {
                xc[ni] += k;
                if (xc[ni] != BASE) break;
                xc[ni--] = 0;
                k = 1;
              }
            }
          }

          // Remove trailing zeros.
          for (i = xc.length; xc[--i] === 0; xc.pop()) {}
        }

        // Overflow? Infinity.
        if (x.e > MAX_EXP) {
          x.c = x.e = null;

          // Underflow? Zero.
        } else if (x.e < MIN_EXP) {
          x.c = [x.e = 0];
        }
      }

      return x;
    }

    function valueOf(n) {
      var str,
          e = n.e;

      if (e === null) return n.toString();

      str = coeffToString(n.c);

      str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(str, e) : toFixedPoint(str, e, '0');

      return n.s < 0 ? '-' + str : str;
    }

    // PROTOTYPE/INSTANCE METHODS


    /*
     * Return a new BigNumber whose value is the absolute value of this BigNumber.
     */
    P.absoluteValue = P.abs = function () {
      var x = new BigNumber(this);
      if (x.s < 0) x.s = 1;
      return x;
    };

    /*
     * Return
     *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),
     *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),
     *   0 if they have the same value,
     *   or null if the value of either is NaN.
     */
    P.comparedTo = function (y, b) {
      return compare(this, new BigNumber(y, b));
    };

    /*
     * If dp is undefined or null or true or false, return the number of decimal places of the
     * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.
     *
     * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this
     * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or
     * ROUNDING_MODE if rm is omitted.
     *
     * [dp] {number} Decimal places: integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */
    P.decimalPlaces = P.dp = function (dp, rm) {
      var c,
          n,
          v,
          x = this;

      if (dp != null) {
        intCheck(dp, 0, MAX);
        if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);

        return round(new BigNumber(x), dp + x.e + 1, rm);
      }

      if (!(c = x.c)) return null;
      n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;

      // Subtract the number of trailing zeros of the last number.
      if (v = c[v]) for (; v % 10 == 0; v /= 10, n--) {}
      if (n < 0) n = 0;

      return n;
    };

    /*
     *  n / 0 = I
     *  n / N = N
     *  n / I = 0
     *  0 / n = 0
     *  0 / 0 = N
     *  0 / N = N
     *  0 / I = 0
     *  N / n = N
     *  N / 0 = N
     *  N / N = N
     *  N / I = N
     *  I / n = I
     *  I / 0 = I
     *  I / N = N
     *  I / I = N
     *
     * Return a new BigNumber whose value is the value of this BigNumber divided by the value of
     * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.
     */
    P.dividedBy = P.div = function (y, b) {
      return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);
    };

    /*
     * Return a new BigNumber whose value is the integer part of dividing the value of this
     * BigNumber by the value of BigNumber(y, b).
     */
    P.dividedToIntegerBy = P.idiv = function (y, b) {
      return div(this, new BigNumber(y, b), 0, 1);
    };

    /*
     * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.
     *
     * If m is present, return the result modulo m.
     * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.
     * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.
     *
     * The modular power operation works efficiently when x, n, and m are integers, otherwise it
     * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.
     *
     * n {number|string|BigNumber} The exponent. An integer.
     * [m] {number|string|BigNumber} The modulus.
     *
     * '[BigNumber Error] Exponent not an integer: {n}'
     */
    P.exponentiatedBy = P.pow = function (n, m) {
      var half,
          isModExp,
          i,
          k,
          more,
          nIsBig,
          nIsNeg,
          nIsOdd,
          y,
          x = this;

      n = new BigNumber(n);

      // Allow NaN and ±Infinity, but not other non-integers.
      if (n.c && !n.isInteger()) {
        throw Error(bignumberError + 'Exponent not an integer: ' + valueOf(n));
      }

      if (m != null) m = new BigNumber(m);

      // Exponent of MAX_SAFE_INTEGER is 15.
      nIsBig = n.e > 14;

      // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.
      if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {

        // The sign of the result of pow when x is negative depends on the evenness of n.
        // If +n overflows to ±Infinity, the evenness of n would be not be known.
        y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? 2 - isOdd(n) : +valueOf(n)));
        return m ? y.mod(m) : y;
      }

      nIsNeg = n.s < 0;

      if (m) {

        // x % m returns NaN if abs(m) is zero, or m is NaN.
        if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);

        isModExp = !nIsNeg && x.isInteger() && m.isInteger();

        if (isModExp) x = x.mod(m);

        // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.
        // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.
      } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0
      // [1, 240000000]
      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7
      // [80000000000000]  [99999750000000]
      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {

        // If x is negative and n is odd, k = -0, else k = 0.
        k = x.s < 0 && isOdd(n) ? -0 : 0;

        // If x >= 1, k = ±Infinity.
        if (x.e > -1) k = 1 / k;

        // If n is negative return ±0, else return ±Infinity.
        return new BigNumber(nIsNeg ? 1 / k : k);
      } else if (POW_PRECISION) {

        // Truncating each coefficient array to a length of k after each multiplication
        // equates to truncating significant digits to POW_PRECISION + [28, 41],
        // i.e. there will be a minimum of 28 guard digits retained.
        k = mathceil(POW_PRECISION / LOG_BASE + 2);
      }

      if (nIsBig) {
        half = new BigNumber(0.5);
        if (nIsNeg) n.s = 1;
        nIsOdd = isOdd(n);
      } else {
        i = Math.abs(+valueOf(n));
        nIsOdd = i % 2;
      }

      y = new BigNumber(ONE);

      // Performs 54 loop iterations for n of 9007199254740991.
      for (;;) {

        if (nIsOdd) {
          y = y.times(x);
          if (!y.c) break;

          if (k) {
            if (y.c.length > k) y.c.length = k;
          } else if (isModExp) {
            y = y.mod(m); //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));
          }
        }

        if (i) {
          i = mathfloor(i / 2);
          if (i === 0) break;
          nIsOdd = i % 2;
        } else {
          n = n.times(half);
          round(n, n.e + 1, 1);

          if (n.e > 14) {
            nIsOdd = isOdd(n);
          } else {
            i = +valueOf(n);
            if (i === 0) break;
            nIsOdd = i % 2;
          }
        }

        x = x.times(x);

        if (k) {
          if (x.c && x.c.length > k) x.c.length = k;
        } else if (isModExp) {
          x = x.mod(m); //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));
        }
      }

      if (isModExp) return y;
      if (nIsNeg) y = ONE.div(y);

      return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;
    };

    /*
     * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer
     * using rounding mode rm, or ROUNDING_MODE if rm is omitted.
     *
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'
     */
    P.integerValue = function (rm) {
      var n = new BigNumber(this);
      if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);
      return round(n, n.e + 1, rm);
    };

    /*
     * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),
     * otherwise return false.
     */
    P.isEqualTo = P.eq = function (y, b) {
      return compare(this, new BigNumber(y, b)) === 0;
    };

    /*
     * Return true if the value of this BigNumber is a finite number, otherwise return false.
     */
    P.isFinite = function () {
      return !!this.c;
    };

    /*
     * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),
     * otherwise return false.
     */
    P.isGreaterThan = P.gt = function (y, b) {
      return compare(this, new BigNumber(y, b)) > 0;
    };

    /*
     * Return true if the value of this BigNumber is greater than or equal to the value of
     * BigNumber(y, b), otherwise return false.
     */
    P.isGreaterThanOrEqualTo = P.gte = function (y, b) {
      return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;
    };

    /*
     * Return true if the value of this BigNumber is an integer, otherwise return false.
     */
    P.isInteger = function () {
      return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;
    };

    /*
     * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),
     * otherwise return false.
     */
    P.isLessThan = P.lt = function (y, b) {
      return compare(this, new BigNumber(y, b)) < 0;
    };

    /*
     * Return true if the value of this BigNumber is less than or equal to the value of
     * BigNumber(y, b), otherwise return false.
     */
    P.isLessThanOrEqualTo = P.lte = function (y, b) {
      return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;
    };

    /*
     * Return true if the value of this BigNumber is NaN, otherwise return false.
     */
    P.isNaN = function () {
      return !this.s;
    };

    /*
     * Return true if the value of this BigNumber is negative, otherwise return false.
     */
    P.isNegative = function () {
      return this.s < 0;
    };

    /*
     * Return true if the value of this BigNumber is positive, otherwise return false.
     */
    P.isPositive = function () {
      return this.s > 0;
    };

    /*
     * Return true if the value of this BigNumber is 0 or -0, otherwise return false.
     */
    P.isZero = function () {
      return !!this.c && this.c[0] == 0;
    };

    /*
     *  n - 0 = n
     *  n - N = N
     *  n - I = -I
     *  0 - n = -n
     *  0 - 0 = 0
     *  0 - N = N
     *  0 - I = -I
     *  N - n = N
     *  N - 0 = N
     *  N - N = N
     *  N - I = N
     *  I - n = I
     *  I - 0 = I
     *  I - N = N
     *  I - I = N
     *
     * Return a new BigNumber whose value is the value of this BigNumber minus the value of
     * BigNumber(y, b).
     */
    P.minus = function (y, b) {
      var i,
          j,
          t,
          xLTy,
          x = this,
          a = x.s;

      y = new BigNumber(y, b);
      b = y.s;

      // Either NaN?
      if (!a || !b) return new BigNumber(NaN);

      // Signs differ?
      if (a != b) {
        y.s = -b;
        return x.plus(y);
      }

      var xe = x.e / LOG_BASE,
          ye = y.e / LOG_BASE,
          xc = x.c,
          yc = y.c;

      if (!xe || !ye) {

        // Either Infinity?
        if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);

        // Either zero?
        if (!xc[0] || !yc[0]) {

          // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.
          return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :

          // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity
          ROUNDING_MODE == 3 ? -0 : 0);
        }
      }

      xe = bitFloor(xe);
      ye = bitFloor(ye);
      xc = xc.slice();

      // Determine which is the bigger number.
      if (a = xe - ye) {

        if (xLTy = a < 0) {
          a = -a;
          t = xc;
        } else {
          ye = xe;
          t = yc;
        }

        t.reverse();

        // Prepend zeros to equalise exponents.
        for (b = a; b--; t.push(0)) {}
        t.reverse();
      } else {

        // Exponents equal. Check digit by digit.
        j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;

        for (a = b = 0; b < j; b++) {

          if (xc[b] != yc[b]) {
            xLTy = xc[b] < yc[b];
            break;
          }
        }
      }

      // x < y? Point xc to the array of the bigger number.
      if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;

      b = (j = yc.length) - (i = xc.length);

      // Append zeros to xc if shorter.
      // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.
      if (b > 0) for (; b--; xc[i++] = 0) {}
      b = BASE - 1;

      // Subtract yc from xc.
      for (; j > a;) {

        if (xc[--j] < yc[j]) {
          for (i = j; i && !xc[--i]; xc[i] = b) {}
          --xc[i];
          xc[j] += BASE;
        }

        xc[j] -= yc[j];
      }

      // Remove leading zeros and adjust exponent accordingly.
      for (; xc[0] == 0; xc.splice(0, 1), --ye) {}

      // Zero?
      if (!xc[0]) {

        // Following IEEE 754 (2008) 6.3,
        // n - n = +0  but  n - n = -0  when rounding towards -Infinity.
        y.s = ROUNDING_MODE == 3 ? -1 : 1;
        y.c = [y.e = 0];
        return y;
      }

      // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity
      // for finite x and y.
      return normalise(y, xc, ye);
    };

    /*
     *   n % 0 =  N
     *   n % N =  N
     *   n % I =  n
     *   0 % n =  0
     *  -0 % n = -0
     *   0 % 0 =  N
     *   0 % N =  N
     *   0 % I =  0
     *   N % n =  N
     *   N % 0 =  N
     *   N % N =  N
     *   N % I =  N
     *   I % n =  N
     *   I % 0 =  N
     *   I % N =  N
     *   I % I =  N
     *
     * Return a new BigNumber whose value is the value of this BigNumber modulo the value of
     * BigNumber(y, b). The result depends on the value of MODULO_MODE.
     */
    P.modulo = P.mod = function (y, b) {
      var q,
          s,
          x = this;

      y = new BigNumber(y, b);

      // Return NaN if x is Infinity or NaN, or y is NaN or zero.
      if (!x.c || !y.s || y.c && !y.c[0]) {
        return new BigNumber(NaN);

        // Return x if y is Infinity or x is zero.
      } else if (!y.c || x.c && !x.c[0]) {
        return new BigNumber(x);
      }

      if (MODULO_MODE == 9) {

        // Euclidian division: q = sign(y) * floor(x / abs(y))
        // r = x - qy    where  0 <= r < abs(y)
        s = y.s;
        y.s = 1;
        q = div(x, y, 0, 3);
        y.s = s;
        q.s *= s;
      } else {
        q = div(x, y, 0, MODULO_MODE);
      }

      y = x.minus(q.times(y));

      // To match JavaScript %, ensure sign of zero is sign of dividend.
      if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;

      return y;
    };

    /*
     *  n * 0 = 0
     *  n * N = N
     *  n * I = I
     *  0 * n = 0
     *  0 * 0 = 0
     *  0 * N = N
     *  0 * I = N
     *  N * n = N
     *  N * 0 = N
     *  N * N = N
     *  N * I = N
     *  I * n = I
     *  I * 0 = N
     *  I * N = N
     *  I * I = I
     *
     * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value
     * of BigNumber(y, b).
     */
    P.multipliedBy = P.times = function (y, b) {
      var c,
          e,
          i,
          j,
          k,
          m,
          xcL,
          xlo,
          xhi,
          ycL,
          ylo,
          yhi,
          zc,
          base,
          sqrtBase,
          x = this,
          xc = x.c,
          yc = (y = new BigNumber(y, b)).c;

      // Either NaN, ±Infinity or ±0?
      if (!xc || !yc || !xc[0] || !yc[0]) {

        // Return NaN if either is NaN, or one is 0 and the other is Infinity.
        if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {
          y.c = y.e = y.s = null;
        } else {
          y.s *= x.s;

          // Return ±Infinity if either is ±Infinity.
          if (!xc || !yc) {
            y.c = y.e = null;

            // Return ±0 if either is ±0.
          } else {
            y.c = [0];
            y.e = 0;
          }
        }

        return y;
      }

      e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);
      y.s *= x.s;
      xcL = xc.length;
      ycL = yc.length;

      // Ensure xc points to longer array and xcL to its length.
      if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;

      // Initialise the result array with zeros.
      for (i = xcL + ycL, zc = []; i--; zc.push(0)) {}

      base = BASE;
      sqrtBase = SQRT_BASE;

      for (i = ycL; --i >= 0;) {
        c = 0;
        ylo = yc[i] % sqrtBase;
        yhi = yc[i] / sqrtBase | 0;

        for (k = xcL, j = i + k; j > i;) {
          xlo = xc[--k] % sqrtBase;
          xhi = xc[k] / sqrtBase | 0;
          m = yhi * xlo + xhi * ylo;
          xlo = ylo * xlo + m % sqrtBase * sqrtBase + zc[j] + c;
          c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;
          zc[j--] = xlo % base;
        }

        zc[j] = c;
      }

      if (c) {
        ++e;
      } else {
        zc.splice(0, 1);
      }

      return normalise(y, zc, e);
    };

    /*
     * Return a new BigNumber whose value is the value of this BigNumber negated,
     * i.e. multiplied by -1.
     */
    P.negated = function () {
      var x = new BigNumber(this);
      x.s = -x.s || null;
      return x;
    };

    /*
     *  n + 0 = n
     *  n + N = N
     *  n + I = I
     *  0 + n = n
     *  0 + 0 = 0
     *  0 + N = N
     *  0 + I = I
     *  N + n = N
     *  N + 0 = N
     *  N + N = N
     *  N + I = N
     *  I + n = I
     *  I + 0 = I
     *  I + N = N
     *  I + I = I
     *
     * Return a new BigNumber whose value is the value of this BigNumber plus the value of
     * BigNumber(y, b).
     */
    P.plus = function (y, b) {
      var t,
          x = this,
          a = x.s;

      y = new BigNumber(y, b);
      b = y.s;

      // Either NaN?
      if (!a || !b) return new BigNumber(NaN);

      // Signs differ?
      if (a != b) {
        y.s = -b;
        return x.minus(y);
      }

      var xe = x.e / LOG_BASE,
          ye = y.e / LOG_BASE,
          xc = x.c,
          yc = y.c;

      if (!xe || !ye) {

        // Return ±Infinity if either ±Infinity.
        if (!xc || !yc) return new BigNumber(a / 0);

        // Either zero?
        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.
        if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);
      }

      xe = bitFloor(xe);
      ye = bitFloor(ye);
      xc = xc.slice();

      // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.
      if (a = xe - ye) {
        if (a > 0) {
          ye = xe;
          t = yc;
        } else {
          a = -a;
          t = xc;
        }

        t.reverse();
        for (; a--; t.push(0)) {}
        t.reverse();
      }

      a = xc.length;
      b = yc.length;

      // Point xc to the longer array, and b to the shorter length.
      if (a - b < 0) t = yc, yc = xc, xc = t, b = a;

      // Only start adding at yc.length - 1 as the further digits of xc can be ignored.
      for (a = 0; b;) {
        a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;
        xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;
      }

      if (a) {
        xc = [a].concat(xc);
        ++ye;
      }

      // No need to check for zero, as +x + +y != 0 && -x + -y != 0
      // ye = MAX_EXP + 1 possible
      return normalise(y, xc, ye);
    };

    /*
     * If sd is undefined or null or true or false, return the number of significant digits of
     * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.
     * If sd is true include integer-part trailing zeros in the count.
     *
     * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this
     * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or
     * ROUNDING_MODE if rm is omitted.
     *
     * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.
     *                     boolean: whether to count integer-part trailing zeros: true or false.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'
     */
    P.precision = P.sd = function (sd, rm) {
      var c,
          n,
          v,
          x = this;

      if (sd != null && sd !== !!sd) {
        intCheck(sd, 1, MAX);
        if (rm == null) rm = ROUNDING_MODE;else intCheck(rm, 0, 8);

        return round(new BigNumber(x), sd, rm);
      }

      if (!(c = x.c)) return null;
      v = c.length - 1;
      n = v * LOG_BASE + 1;

      if (v = c[v]) {

        // Subtract the number of trailing zeros of the last element.
        for (; v % 10 == 0; v /= 10, n--) {}

        // Add the number of digits of the first element.
        for (v = c[0]; v >= 10; v /= 10, n++) {}
      }

      if (sd && x.e + 1 > n) n = x.e + 1;

      return n;
    };

    /*
     * Return a new BigNumber whose value is the value of this BigNumber shifted by k places
     * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.
     *
     * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'
     */
    P.shiftedBy = function (k) {
      intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);
      return this.times('1e' + k);
    };

    /*
     *  sqrt(-n) =  N
     *  sqrt(N) =  N
     *  sqrt(-I) =  N
     *  sqrt(I) =  I
     *  sqrt(0) =  0
     *  sqrt(-0) = -0
     *
     * Return a new BigNumber whose value is the square root of the value of this BigNumber,
     * rounded according to DECIMAL_PLACES and ROUNDING_MODE.
     */
    P.squareRoot = P.sqrt = function () {
      var m,
          n,
          r,
          rep,
          t,
          x = this,
          c = x.c,
          s = x.s,
          e = x.e,
          dp = DECIMAL_PLACES + 4,
          half = new BigNumber('0.5');

      // Negative/NaN/Infinity/zero?
      if (s !== 1 || !c || !c[0]) {
        return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);
      }

      // Initial estimate.
      s = Math.sqrt(+valueOf(x));

      // Math.sqrt underflow/overflow?
      // Pass x to Math.sqrt as integer, then adjust the exponent of the result.
      if (s == 0 || s == 1 / 0) {
        n = coeffToString(c);
        if ((n.length + e) % 2 == 0) n += '0';
        s = Math.sqrt(+n);
        e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);

        if (s == 1 / 0) {
          n = '1e' + e;
        } else {
          n = s.toExponential();
          n = n.slice(0, n.indexOf('e') + 1) + e;
        }

        r = new BigNumber(n);
      } else {
        r = new BigNumber(s + '');
      }

      // Check for zero.
      // r could be zero if MIN_EXP is changed after the this value was created.
      // This would cause a division by zero (x/t) and hence Infinity below, which would cause
      // coeffToString to throw.
      if (r.c[0]) {
        e = r.e;
        s = e + dp;
        if (s < 3) s = 0;

        // Newton-Raphson iteration.
        for (;;) {
          t = r;
          r = half.times(t.plus(div(x, t, dp, 1)));

          if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {

            // The exponent of r may here be one less than the final result exponent,
            // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits
            // are indexed correctly.
            if (r.e < e) --s;
            n = n.slice(s - 3, s + 1);

            // The 4th rounding digit may be in error by -1 so if the 4 rounding digits
            // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the
            // iteration.
            if (n == '9999' || !rep && n == '4999') {

              // On the first iteration only, check to see if rounding up gives the
              // exact result as the nines may infinitely repeat.
              if (!rep) {
                round(t, t.e + DECIMAL_PLACES + 2, 0);

                if (t.times(t).eq(x)) {
                  r = t;
                  break;
                }
              }

              dp += 4;
              s += 4;
              rep = 1;
            } else {

              // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact
              // result. If not, then there are further digits and m will be truthy.
              if (!+n || !+n.slice(1) && n.charAt(0) == '5') {

                // Truncate to the first rounding digit.
                round(r, r.e + DECIMAL_PLACES + 2, 1);
                m = !r.times(r).eq(x);
              }

              break;
            }
          }
        }
      }

      return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);
    };

    /*
     * Return a string representing the value of this BigNumber in exponential notation and
     * rounded using ROUNDING_MODE to dp fixed decimal places.
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */
    P.toExponential = function (dp, rm) {
      if (dp != null) {
        intCheck(dp, 0, MAX);
        dp++;
      }
      return format(this, dp, rm, 1);
    };

    /*
     * Return a string representing the value of this BigNumber in fixed-point notation rounding
     * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.
     *
     * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',
     * but e.g. (-0.00001).toFixed(0) is '-0'.
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     */
    P.toFixed = function (dp, rm) {
      if (dp != null) {
        intCheck(dp, 0, MAX);
        dp = dp + this.e + 1;
      }
      return format(this, dp, rm);
    };

    /*
     * Return a string representing the value of this BigNumber in fixed-point notation rounded
     * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties
     * of the format or FORMAT object (see BigNumber.set).
     *
     * The formatting object may contain some or all of the properties shown below.
     *
     * FORMAT = {
     *   prefix: '',
     *   groupSize: 3,
     *   secondaryGroupSize: 0,
     *   groupSeparator: ',',
     *   decimalSeparator: '.',
     *   fractionGroupSize: 0,
     *   fractionGroupSeparator: '\xA0',      // non-breaking space
     *   suffix: ''
     * };
     *
     * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     * [format] {object} Formatting options. See FORMAT pbject above.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'
     * '[BigNumber Error] Argument not an object: {format}'
     */
    P.toFormat = function (dp, rm, format) {
      var str,
          x = this;

      if (format == null) {
        if (dp != null && rm && (typeof rm === 'undefined' ? 'undefined' : _typeof(rm)) == 'object') {
          format = rm;
          rm = null;
        } else if (dp && (typeof dp === 'undefined' ? 'undefined' : _typeof(dp)) == 'object') {
          format = dp;
          dp = rm = null;
        } else {
          format = FORMAT;
        }
      } else if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) != 'object') {
        throw Error(bignumberError + 'Argument not an object: ' + format);
      }

      str = x.toFixed(dp, rm);

      if (x.c) {
        var i,
            arr = str.split('.'),
            g1 = +format.groupSize,
            g2 = +format.secondaryGroupSize,
            groupSeparator = format.groupSeparator || '',
            intPart = arr[0],
            fractionPart = arr[1],
            isNeg = x.s < 0,
            intDigits = isNeg ? intPart.slice(1) : intPart,
            len = intDigits.length;

        if (g2) i = g1, g1 = g2, g2 = i, len -= i;

        if (g1 > 0 && len > 0) {
          i = len % g1 || g1;
          intPart = intDigits.substr(0, i);
          for (; i < len; i += g1) {
            intPart += groupSeparator + intDigits.substr(i, g1);
          }if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);
          if (isNeg) intPart = '-' + intPart;
        }

        str = fractionPart ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize) ? fractionPart.replace(new RegExp('\\d{' + g2 + '}\\B', 'g'), '$&' + (format.fractionGroupSeparator || '')) : fractionPart) : intPart;
      }

      return (format.prefix || '') + str + (format.suffix || '');
    };

    /*
     * Return an array of two BigNumbers representing the value of this BigNumber as a simple
     * fraction with an integer numerator and an integer denominator.
     * The denominator will be a positive non-zero value less than or equal to the specified
     * maximum denominator. If a maximum denominator is not specified, the denominator will be
     * the lowest value necessary to represent the number exactly.
     *
     * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.
     *
     * '[BigNumber Error] Argument {not an integer|out of range} : {md}'
     */
    P.toFraction = function (md) {
      var d,
          d0,
          d1,
          d2,
          e,
          exp,
          n,
          n0,
          n1,
          q,
          r,
          s,
          x = this,
          xc = x.c;

      if (md != null) {
        n = new BigNumber(md);

        // Throw if md is less than one or is not an integer, unless it is Infinity.
        if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {
          throw Error(bignumberError + 'Argument ' + (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));
        }
      }

      if (!xc) return new BigNumber(x);

      d = new BigNumber(ONE);
      n1 = d0 = new BigNumber(ONE);
      d1 = n0 = new BigNumber(ONE);
      s = coeffToString(xc);

      // Determine initial denominator.
      // d is a power of 10 and the minimum max denominator that specifies the value exactly.
      e = d.e = s.length - x.e - 1;
      d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];
      md = !md || n.comparedTo(d) > 0 ? e > 0 ? d : n1 : n;

      exp = MAX_EXP;
      MAX_EXP = 1 / 0;
      n = new BigNumber(s);

      // n0 = d1 = 0
      n0.c[0] = 0;

      for (;;) {
        q = div(n, d, 0, 1);
        d2 = d0.plus(q.times(d1));
        if (d2.comparedTo(md) == 1) break;
        d0 = d1;
        d1 = d2;
        n1 = n0.plus(q.times(d2 = n1));
        n0 = d2;
        d = n.minus(q.times(d2 = d));
        n = d2;
      }

      d2 = div(md.minus(d0), d1, 0, 1);
      n0 = n0.plus(d2.times(n1));
      d0 = d0.plus(d2.times(d1));
      n0.s = n1.s = x.s;
      e = e * 2;

      // Determine which fraction is closer to x, n0/d0 or n1/d1
      r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];

      MAX_EXP = exp;

      return r;
    };

    /*
     * Return the value of this BigNumber converted to a number primitive.
     */
    P.toNumber = function () {
      return +valueOf(this);
    };

    /*
     * Return a string representing the value of this BigNumber rounded to sd significant digits
     * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits
     * necessary to represent the integer part of the value in fixed-point notation, then use
     * exponential notation.
     *
     * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.
     * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.
     *
     * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'
     */
    P.toPrecision = function (sd, rm) {
      if (sd != null) intCheck(sd, 1, MAX);
      return format(this, sd, rm, 2);
    };

    /*
     * Return a string representing the value of this BigNumber in base b, or base 10 if b is
     * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and
     * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent
     * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than
     * TO_EXP_NEG, return exponential notation.
     *
     * [b] {number} Integer, 2 to ALPHABET.length inclusive.
     *
     * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'
     */
    P.toString = function (b) {
      var str,
          n = this,
          s = n.s,
          e = n.e;

      // Infinity or NaN?
      if (e === null) {
        if (s) {
          str = 'Infinity';
          if (s < 0) str = '-' + str;
        } else {
          str = 'NaN';
        }
      } else {
        if (b == null) {
          str = e <= TO_EXP_NEG || e >= TO_EXP_POS ? toExponential(coeffToString(n.c), e) : toFixedPoint(coeffToString(n.c), e, '0');
        } else if (b === 10) {
          n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);
          str = toFixedPoint(coeffToString(n.c), n.e, '0');
        } else {
          intCheck(b, 2, ALPHABET.length, 'Base');
          str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);
        }

        if (s < 0 && n.c[0]) str = '-' + str;
      }

      return str;
    };

    P.toUnit = function () {
      var str = P.toFormat.call(this);
      var addMap = " .K.M.G.T.P.B.E.Q.a.b.c.aa.ab.ac.ba.bb.bc.ca.cb.cc.x.y.z".split(".");

      var str = str.split(".")[0];
      var arr = str.split(",");
      var count = arr.splice(2).length;
      if (arr.length > 1) {
        var point = arr[1].split("");
        point.splice(2);
        arr[1] = point.join("");
      } else {
        count = -1;
      }
      return arr.join(".") + addMap[count + 1];
    };

    /*
     * Return as toString, but do not accept a base argument, and include the minus sign for
     * negative zero.
     */
    P.valueOf = P.toJSON = function () {
      return valueOf(this);
    };

    P._isBigNumber = true;

    if (hasSymbol) {
      P[Symbol.toStringTag] = 'BigNumber';

      // Node.js v10.12.0+
      P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;
    }

    if (configObject != null) BigNumber.set(configObject);

    return BigNumber;
  }

  // PRIVATE HELPER FUNCTIONS

  // These functions don't need access to variables,
  // e.g. DECIMAL_PLACES, in the scope of the `clone` function above.


  function bitFloor(n) {
    var i = n | 0;
    return n > 0 || n === i ? i : i - 1;
  }

  // Return a coefficient array as a string of base 10 digits.
  function coeffToString(a) {
    var s,
        z,
        i = 1,
        j = a.length,
        r = a[0] + '';

    for (; i < j;) {
      s = a[i++] + '';
      z = LOG_BASE - s.length;
      for (; z--; s = '0' + s) {}
      r += s;
    }

    // Determine trailing zeros.
    for (j = r.length; r.charCodeAt(--j) === 48;) {}

    return r.slice(0, j + 1 || 1);
  }

  // Compare the value of BigNumbers x and y.
  function compare(x, y) {
    var a,
        b,
        xc = x.c,
        yc = y.c,
        i = x.s,
        j = y.s,
        k = x.e,
        l = y.e;

    // Either NaN?
    if (!i || !j) return null;

    a = xc && !xc[0];
    b = yc && !yc[0];

    // Either zero?
    if (a || b) return a ? b ? 0 : -j : i;

    // Signs differ?
    if (i != j) return i;

    a = i < 0;
    b = k == l;

    // Either Infinity?
    if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;

    // Compare exponents.
    if (!b) return k > l ^ a ? 1 : -1;

    j = (k = xc.length) < (l = yc.length) ? k : l;

    // Compare digit by digit.
    for (i = 0; i < j; i++) {
      if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;
    } // Compare lengths.
    return k == l ? 0 : k > l ^ a ? 1 : -1;
  }

  /*
   * Check that n is a primitive number, an integer, and in range, otherwise throw.
   */
  function intCheck(n, min, max, name) {
    if (n < min || n > max || n !== mathfloor(n)) {
      throw Error(bignumberError + (name || 'Argument') + (typeof n == 'number' ? n < min || n > max ? ' out of range: ' : ' not an integer: ' : ' not a primitive number: ') + String(n));
    }
  }

  // Assumes finite n.
  function isOdd(n) {
    var k = n.c.length - 1;
    return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;
  }

  function toExponential(str, e) {
    return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) + (e < 0 ? 'e' : 'e+') + e;
  }

  function toFixedPoint(str, e, z) {
    var len, zs;

    // Negative exponent?
    if (e < 0) {

      // Prepend zeros.
      for (zs = z + '.'; ++e; zs += z) {}
      str = zs + str;

      // Positive exponent
    } else {
      len = str.length;

      // Append zeros.
      if (++e > len) {
        for (zs = z, e -= len; --e; zs += z) {}
        str += zs;
      } else if (e < len) {
        str = str.slice(0, e) + '.' + str.slice(e);
      }
    }

    return str;
  }

  // EXPORT


  BigNumber = clone();
  BigNumber['default'] = BigNumber.BigNumber = BigNumber;

  // AMD.
  if (typeof define == 'function' && define.amd) {
    define(function () {
      return BigNumber;
    });

    // Node.js and other environments that support module.exports.
  } else if (typeof module != 'undefined' && module.exports) {
    module.exports = BigNumber;

    // Browser.
  } else {
    if (!globalObject) {
      globalObject = typeof self != 'undefined' && self ? self : window;
    }

    globalObject.BigNumber = BigNumber;
  }
})(undefined);

},{}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
function load_map(obj, root, nameMap) {
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
        for (var _iterator = nameMap[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var name = _step.value;

            obj[name] = root.getChildByName(name);
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
            }
        } finally {
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
}

exports.default = load_map;

},{}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _bignumber = require("../libs/bignumber.js");

var _bignumber2 = _interopRequireDefault(_bignumber);

var _resource = require("../data/resource");

var _resource2 = _interopRequireDefault(_resource);

var _dock = require("../data/dock");

var _dock2 = _interopRequireDefault(_dock);

var _route = require("../data/route");

var _route2 = _interopRequireDefault(_route);

var _ship = require("../data/ship");

var _ship2 = _interopRequireDefault(_ship);

var _buildSet = require("../data/buildSet");

var _buildSet2 = _interopRequireDefault(_buildSet);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameDatas = function () {
    function GameDatas() {
        _classCallCheck(this, GameDatas);

        GameDatas.instance = this;

        this.curResource = new _resource2.default();
        this.dock = new _dock2.default(0);

        this.allRoutes = [];
        this.currentRoute = 0;
        this.unlockCount = 1;

        this.cagShips = {}; //服务器记录的船数据，ID根据获得先后确定
        this.packShips = []; //仓库中的船

        this.buildList = {};
        this.buildCap = 2;
        this.buildLevel = 1;

        this.sceneEventMap = {};

        this.levelAll = {
            dock: 1,
            repair: 1,
            build: 1,
            command: 1
        };

        this.repairNeed = [[]];

        this.buildNeed = [[]];

        this.selfNeed = [[]];

        this.buildLvl = [[]];

        this.debug();
        this.init();
    }

    _createClass(GameDatas, [{
        key: "init",
        value: function init() {
            this.initAllShipCarry();
        }
    }, {
        key: "debug",
        value: function debug() {
            var routeTest = new _route2.default(0, 0);
            var routeTestLev = new _route2.default(1, 0);
            var routeTestLas = new _route2.default(2, 0);

            this.unlockCount = 1;

            this.allRoutes.push(routeTest);
            this.allRoutes.push(routeTestLev);
            this.allRoutes.push(routeTestLas);

            this.cagShips[0] = {
                shipID: 0,
                level: 0,
                dockid: 0,
                rid: -1,
                packID: 0
            };
            this.cagShips[1] = {
                shipID: 1,
                level: 0,
                dockid: 1,
                rid: -1,
                packID: 0
            };
            this.cagShips[2] = {
                shipID: 0,
                level: 0,
                dockid: -1,
                rid: -1,
                packID: 0
            };
            this.cagShips[3] = {
                shipID: 1,
                level: 0,
                dockid: -1,
                rid: -1,
                packID: 1
            };
            this.cagShips[4] = {
                shipID: 1,
                level: 0,
                dockid: -1,
                rid: -1,
                packID: 2
            };
            this.cagShips.count = 5;

            this.dock.dockSet[0] = new _ship2.default(0, 0);
            this.dock.dockSet[1] = new _ship2.default(1, 1);

            this.packShips.push(new _ship2.default(0, 2));
            this.packShips.push(new _ship2.default(1, 3));
            this.packShips.push(new _ship2.default(1, 4));

            this.buildLevel = 3;
        }
    }, {
        key: "GetRepairFix",
        value: function GetRepairFix() {
            return 1 / Math.sqrt(this.levelAll.repair);
        }
    }, {
        key: "LevelDockUP",
        value: function LevelDockUP() {
            this.levelAll.dock++;
            this.dock.LevelUP();

            this.triggerSceneEvent("dock:lvlup");
            this.triggerSceneEvent("dock:full");
        }
    }, {
        key: "LevelPackUP",
        value: function LevelPackUP() {
            this.levelAll.repair++;
        }
    }, {
        key: "LevelBuildUP",
        value: function LevelBuildUP() {
            this.levelAll.build++;
            this.buildCap++;
            this.triggerSceneEvent("build:lvlup");
        }
    }, {
        key: "LevelSelfUP",
        value: function LevelSelfUP() {
            this.levelAll.command++;
        }
    }, {
        key: "addResChangeCallBack",
        value: function addResChangeCallBack(_func, key) {
            this.curResource.addChangeCallBack(_func, key);
        }
    }, {
        key: "getRouteUnlockCount",
        value: function getRouteUnlockCount() {
            return Math.min(this.allRoutes.length, this.unlockCount + 1);
        }
    }, {
        key: "GetAllRouter",
        value: function GetAllRouter() {
            var routText = "";

            var watchRoute = this.allRoutes.slice(0, this.unlockCount + 1);
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = watchRoute[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var route = _step.value;

                    routText += route.curData.name + ",";
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return routText.slice(0, -1);
        }
    }, {
        key: "getCurrentRoute",
        value: function getCurrentRoute() {
            return this.allRoutes[this.currentRoute];
        }
    }, {
        key: "upShipToCurrentRoute",
        value: function upShipToCurrentRoute(posIndex) {
            if (this.currentRoute >= this.unlockCount) return;
            var _shipSet = this.dock.dockSet[posIndex];
            if (_shipSet.crash || _shipSet.routeOn != null) return;

            var route = this.allRoutes[this.currentRoute];

            if (route.shipFull()) return;

            route.placeShip(_shipSet);
            this.dock.outShip(posIndex);
        }
    }, {
        key: "onSceneEvent",
        value: function onSceneEvent(key, _func) {
            this.sceneEventMap[key] = _func;
        }
    }, {
        key: "triggerSceneEvent",
        value: function triggerSceneEvent() {
            var len = arguments.length;
            var args = [];
            for (var i = 0; i < len; i++) {
                args.push(arguments[i]);
            }var key = args[0];
            args.splice(0, 1);

            if (this.sceneEventMap[key]) {
                this.sceneEventMap[key].apply(this, args);
            }
        }
    }, {
        key: "changeShipPos",
        value: function changeShipPos(pindex1, pindex2) {
            if (pindex1 == pindex2) return false;

            var ship1 = this.dock.dockSet[pindex1];
            var ship2 = this.dock.dockSet[pindex2];

            if (ship2 == null) {
                if (ship1 == null || !ship1.isIdle() || ship1.repair) return false;
                this.dock.dockSet[pindex1] = null;
                this.dock.dockSet[pindex2] = ship1;
                ship1.dockid = pindex2;
                return true;
            } else if (ship1.isIdle() && ship2.isIdle() && !ship1.repair && !ship2.repair) {
                this.dock.dockSet[pindex1] = ship2;
                this.dock.dockSet[pindex2] = ship1;
                ship1.dockid = pindex2;
                ship2.dockid = pindex1;
                return true;
            }

            return false;
        }
    }, {
        key: "backShip",
        value: function backShip(posIndex) {
            var ship = this.dock.GetShipSet(posIndex);
            ship.sendBack();
        }
    }, {
        key: "dropShip",
        value: function dropShip(posIndex) {
            var ship = this.dock.GetShipSet(posIndex);
            ship.setIdle();
            this.dock.dropShip(posIndex);
        }
    }, {
        key: "getCagShip",
        value: function getCagShip(cid) {
            return this.cagShips[cid];
        }
    }, {
        key: "initAllShipCarry",
        value: function initAllShipCarry() {
            var _this2 = this;

            var dockSet = this.dock.dockSet;
            for (var index in dockSet) {
                if (dockSet.hasOwnProperty(index)) {
                    var ship = dockSet[index];
                    ship.setStateTrigger(1, this, function (pstate, shipSet) {
                        if (pstate != 0) {
                            _this2.GetPackResource(shipSet);
                        }
                        return false;
                    });
                }
            }
        }
    }, {
        key: "GetPackResource",
        value: function GetPackResource(_shipSet) {
            var route = _shipSet.routeOn;
            if (route == null) return;

            var resGain = new _resource2.default();
            resGain.randomResouce(route.curData.resource, _shipSet.curData.maxcap);

            this.curResource.resourceChange(resGain.buildObj());
        }
    }, {
        key: "showShipInfo",
        value: function showShipInfo(pindex) {
            var ship = this.dock.dockSet[pindex];
            if (!ship) return;

            this.triggerSceneEvent("scene:info", ship);
            this.infoShip = ship;
        }
    }, {
        key: "closeInfo",
        value: function closeInfo() {
            this.triggerSceneEvent("scene:infoclose");
            this.infoShip = null;
        }
    }, {
        key: "lvlInfoShip",
        value: function lvlInfoShip() {
            if (this.infoShip == null) return;
            /*Cost*/
            var cagID = this.infoShip.CagID;

            this.cagShips[cagID].level++;
            this.infoShip.SetShipCagID(cagID);

            this.triggerSceneEvent("ship:lvlup", this.infoShip);
        }
    }, {
        key: "changeRouteShow",
        value: function changeRouteShow(rindex) {
            this.currentRoute = rindex;
        }
    }, {
        key: "getRouteByIndex",
        value: function getRouteByIndex(rindex) {
            return this.allRoutes[rindex];
        }
    }, {
        key: "UnlockRoute",
        value: function UnlockRoute() {
            if (this.unlockCount < this.allRoutes.length - 1) {
                this.unlockCount++;
                this.triggerSceneEvent("route:unlock", this.unlockCount);
            } else {
                this.unlockCount++;
                this.triggerSceneEvent("route:unlock");
            }
        }
    }, {
        key: "repairShip",
        value: function repairShip(pindex) {
            var ship = this.dock.dockSet[pindex];
            if (!ship || !ship.crash) return;

            ship.StartRepair();
        }
    }, {
        key: "PackAutoIn",
        value: function PackAutoIn(shipSet) {
            this.packShips.push(shipSet);
            this.refreshAllPackID(shipSet);
            this.triggerSceneEvent("pack:collect", shipSet);
        }
    }, {
        key: "recollectShip",
        value: function recollectShip(pindex) {
            var ship = this.dock.dockSet[pindex];
            if (!ship || ship.crash) return;

            this.PackAutoIn(ship);
            this.dock.dockSet[pindex] = null;

            this.triggerSceneEvent("dock:pack", pindex);
        }
    }, {
        key: "TriggerBuildOK",
        value: function TriggerBuildOK() {
            this.triggerSceneEvent("build:trigger");
        }
    }, {
        key: "refreshAllPackID",
        value: function refreshAllPackID(shipSet) {
            if (shipSet) {
                shipSet.packID = this.packShips.length - 1;
            } else {
                for (var index = 0; index < this.packShips.length; index++) {
                    this.packShips[index].packID = index;
                }
            }
        }
    }, {
        key: "DockAutoIn",
        value: function DockAutoIn(shipSet) {
            var dockCap = this.dock.GetShipCap();
            for (var index = 0; index < dockCap; index++) {
                var dockPos = this.dock.dockSet[index];
                if (dockPos == null) {
                    this.dock.dockSet[index] = shipSet;
                    shipSet.dockid = index;
                    shipSet.setIdle();
                    this.triggerSceneEvent("dock:insert", shipSet);
                    break;
                }
            }
        }
    }, {
        key: "SendShipToDock",
        value: function SendShipToDock(shipSet) {
            if (shipSet.packID >= 0) this.packShips.splice(shipSet.packID, 1);

            this.DockAutoIn(shipSet);

            shipSet.packID = -1;
            this.refreshAllPackID();

            if (this.CheckDockFull()) {
                this.triggerSceneEvent("dock:full");
            }
        }
    }, {
        key: "CheckDockFull",
        value: function CheckDockFull() {
            var dockCap = this.dock.GetShipCap();
            var count = 0;
            for (var index = 0; index < dockCap; index++) {
                var dockPos = this.dock.dockSet[index];
                if (dockPos != null) count++;
            }
            return count == dockCap;
        }
    }, {
        key: "StartBuild",
        value: function StartBuild(_lev) {
            var build = new _buildSet2.default(_lev);
            return build;
        }
    }, {
        key: "gainShip",
        value: function gainShip(buildList) {
            var ShipSet = buildList.getBuildResult();
            this.cagShips[this.cagShips.count] = {
                shipID: ShipSet.shipID,
                level: 0,
                dockid: -1,
                rid: -1,
                packID: -1
            };
            var cagID = this.cagShips.count;
            ShipSet.SetShipCagID(cagID);

            this.cagShips.count++;
            return ShipSet;
        }
    }, {
        key: "showResAlt",
        value: function showResAlt(key, c_data, pos, _func) {
            var resNeed;
            if (key == "ship") {
                var shipSet = c_data.obj;
                resNeed = new _resource2.default(shipSet.curData.level);
            } else if (key == "route") {
                var route = c_data.obj;
                var handle = c_data.handle; //"Unlock,LevelUp"
                if (handle == "Unlock") {
                    resNeed = new _resource2.default(route.curData.unlock);
                } else if (handle == "LevelUp") {
                    resNeed = new _resource2.default(route.curData.level);
                }
            } else if (key == "build") {
                var rank = c_data.rank;
                var handle = c_data.handle; //"Build,LevelUp"
                if (handle == "Build") {
                    resNeed = new _resource2.default(this.buildNeed[rank]);
                } else if (handle == "LevelUp") {
                    resNeed = new _resource2.default(this.buildLvl[rank]);
                }
            } else if (key == "dock") {
                resNeed = new _resource2.default(this.dock.levelUp);
            } else if (key == "repair") {
                var rank = c_data.rank;
                resNeed = new _resource2.default(this.repairNeed[rank]);
            } else if (key == "self") {
                var rank = c_data.rank;
                resNeed = new _resource2.default(this.selfNeed[rank]);
            }

            var ok = this.curResource.checkResource(resNeed);

            var _this = this;
            this.triggerSceneEvent("res:alt", pos, resNeed, ok, function () {
                _this.curResource.costRes(resNeed);
                _func();
            });
        }
    }]);

    return GameDatas;
}();

exports.default = GameDatas;

},{"../data/buildSet":8,"../data/dock":9,"../data/resource":10,"../data/route":11,"../data/ship":12,"../libs/bignumber.js":13}],16:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _ShipContainer = require("../components/ShipContainer");

var _ShipContainer2 = _interopRequireDefault(_ShipContainer);

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var RouteLay = function (_Laya$Panel) {
    _inherits(RouteLay, _Laya$Panel);

    function RouteLay() {
        _classCallCheck(this, RouteLay);

        var _this2 = _possibleConstructorReturn(this, (RouteLay.__proto__ || Object.getPrototypeOf(RouteLay)).call(this));

        _this2.showing = false;
        _this2.route = null;
        return _this2;
    }

    _createClass(RouteLay, [{
        key: "onEnable",
        value: function onEnable() {
            var _this3 = this;

            this.container = this.content.getChildByName("ShipsPanel");
            this.shipContent = this.container.getComponent(_ShipContainer2.default);
            this.RouteBG = this.content.getChildByName("RouteBG");
            this.levelBut = this.content.getChildByName("levelBut");
            this.RouteCover = this.content.getChildByName("cover");

            this.unlockBut = this.RouteCover.getChildByName("unlockBut");
            this.shipCount = this.content.getChildByName("shipCount");

            if (this.route != null) {
                this.refreshShips();
                this.refreshRoute();
            }

            this.showing = true;
            this.unlockBut.on(Laya.Event.CLICK, this, function (event) {
                _GameDatas2.default.instance.showResAlt("route", {
                    obj: _this3.route,
                    handle: "Unlock"
                }, { x: event.stageX, y: event.stageY }, function () {
                    _GameDatas2.default.instance.UnlockRoute();
                });
            });

            this.levelBut.on(Laya.Event.CLICK, this, function (event) {
                var _this = _this3;
                _GameDatas2.default.instance.showResAlt("route", {
                    obj: _this3.route,
                    handle: "LevelUp"
                }, { x: event.stageX, y: event.stageY }, function () {
                    _this.route.levelUP();
                    _this.refreshRoute();
                });
            });
        }
    }, {
        key: "setRoute",
        value: function setRoute(_route) {
            var _this4 = this;

            this.route = _route;

            var _this = this;
            this.route.setPlaceCallBack(function (ship, loseShip) {
                if (ship != null) {
                    _this.GainShip(ship);
                    _this4.shipCount.text = _this4.route.shipCount() + "/" + _this4.route.curData.maxShip;
                } else {
                    _this.LoseShip(loseShip);
                    _this4.shipCount.text = _this4.route.shipCount() + "/" + _this4.route.curData.maxShip;
                }
            });

            if (this.showing) {
                this.refreshShips();
                this.refreshRoute();
            }
        }
    }, {
        key: "refreshShips",
        value: function refreshShips() {
            this.createAllShips();
            this.updateShip(-1);
        }
    }, {
        key: "refreshRoute",
        value: function refreshRoute() {
            this.RouteBG.skin = this.route.curData.backPath;
            this.RouteCover.visible = this.routeIndex >= _GameDatas2.default.instance.unlockCount;
            this.levelBut.visible = !this.route.isMaxLevel();

            this.shipCount.text = this.route.shipCount() + "/" + this.route.curData.maxShip;
        }
    }, {
        key: "createAllShips",
        value: function createAllShips() {
            this.shipContent.setAllShip(this.route.shipOn);
            var _this = this;
            this.shipContent.eachConfig(function (obj) {
                _this.placeInitConfig(obj);
            });
        }
    }, {
        key: "placeInitConfig",
        value: function placeInitConfig(obj) {
            obj.moveSet.configAllData({
                lineLength: this.route.getDistance(),
                safeFix: this.route.curData.safeFix
            });
        }
    }, {
        key: "updateShip",
        value: function updateShip(fixID) {
            var _this = this;
            var func = function func(obj) {
                if (obj.shipset.getIconPath()) obj.moveSet.startMove();else obj.moveSet.setBlank();

                obj.moveSet.configAllData({
                    moveSpeed: obj.shipset.getData("baseSpeed"),
                    packtime: obj.shipset.getData("baseLoad")
                });
            };
            if (fixID < 0) {
                this.shipContent.eachConfig(func);
            } else {
                this.shipContent.fixIDConfig(fixID, func);
            }
        }
    }, {
        key: "GainShip",
        value: function GainShip(ship) {
            var _this = this;
            this.shipContent.addShip(ship);
            this.shipContent.fixIDConfig(ship.routeIndex, function (obj) {
                _this.placeInitConfig(obj);
            });
            this.updateShip(ship.routeIndex);
        }
    }, {
        key: "LoseShip",
        value: function LoseShip(ship) {
            this.shipContent.loseShip(ship);
        }
    }]);

    return RouteLay;
}(Laya.Panel);

exports.default = RouteLay;

},{"../components/ShipContainer":4,"../manager/GameDatas":15}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

var _buttonFloat = require("../components/buttonFloat");

var _buttonFloat2 = _interopRequireDefault(_buttonFloat);

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var BuildTrip = function (_Laya$Sprite) {
    _inherits(BuildTrip, _Laya$Sprite);

    function BuildTrip() {
        _classCallCheck(this, BuildTrip);

        var _this2 = _possibleConstructorReturn(this, (BuildTrip.__proto__ || Object.getPrototypeOf(BuildTrip)).call(this));

        _this2.attachBuild = null;
        _this2.tripID = 0;
        return _this2;
    }

    _createClass(BuildTrip, [{
        key: "onEnable",
        value: function onEnable() {
            var _this3 = this;

            (0, _nameMap2.default)(this, this, ["mainLayUp", "buildingNode", "comBut", "ShipIcon", "packBut", "dockBut"]);
            (0, _nameMap2.default)(this, this.mainLayUp, ["BuildCov"]);
            (0, _nameMap2.default)(this, this.buildingNode, ["timeLeft"]);

            this.refreshBuildTrip();
            this.showing = true;

            this.resShip = null;

            this.allbutts = [];
            this.initBuildButtons();

            this.BuildCov.on(Laya.Event.CLICK, this, function () {
                _this3.allButtonSwitch();
            });

            this.comBut.on(Laya.Event.CLICK, this, function () {
                _this3.refreshShow = true;
                _this3.resShip = _GameDatas2.default.instance.gainShip(_this3.attachBuild);
                _this3.resultRefresh();
            });

            this.packBut.on(Laya.Event.CLICK, this, function () {
                _this3.sendShipTo(0);
                _this3.attachBuild = null;
            });

            this.dockBut.on(Laya.Event.CLICK, this, function () {
                _this3.sendShipTo(1);
                _this3.attachBuild = null;
            });

            this.frameLoop(29, this, function () {
                _this3.refreshBuildTrip();
            });

            this.reEmpty();
        }
    }, {
        key: "sendShipTo",
        value: function sendShipTo(id) {
            if (this.resShip != null) {
                if (id == 1) _GameDatas2.default.instance.DockAutoIn(this.resShip);else _GameDatas2.default.instance.PackAutoIn(this.resShip);

                this.reEmpty();
            }
        }
    }, {
        key: "reEmpty",
        value: function reEmpty() {
            this.refreshShow = false;
            this.resultRefresh();

            this.attachBuild = null;
            this.resShip = null;

            this.triggerED = false;
        }
    }, {
        key: "setBuilList",
        value: function setBuilList(_buildList) {
            this.attachBuild = _buildList;
            _buildList.buildPad = this;

            if (this.showing) this.refreshBuildTrip();
        }
    }, {
        key: "resultRefresh",
        value: function resultRefresh() {
            this.ShipIcon.visible = this.refreshShow;

            this.packBut.visible = false;
            this.dockBut.visible = false;

            if (this.refreshShow) {
                this.ShipIcon.skin = this.resShip.getIconPath();
                this.comBut.visible = false;

                this.packBut.visible = true;
                this.dockBut.visible = !_GameDatas2.default.instance.CheckDockFull();
            }
        }
    }, {
        key: "initBuildButtons",
        value: function initBuildButtons() {
            var _this = this;
            var maxBuildLev = _GameDatas2.default.instance.buildLevel;
            for (var lev = 1; lev <= maxBuildLev; lev++) {
                var button = new _buttonFloat2.default(lev);
                button.setClickCallBack(function (blev, event) {
                    _GameDatas2.default.instance.showResAlt("build", {
                        handle: "Build"
                    }, { x: event.stageX, y: event.stageY }, function () {
                        _this.startBuild(blev);
                        _this.allButtonSwitch();
                    });
                });
                button.skin = "comp/button.png";
                button.zOrder = 80;
                this.allbutts.push(button);
                this.mainLayUp.addChild(button);
            }
        }
    }, {
        key: "startBuild",
        value: function startBuild(level) {
            this.setBuilList(_GameDatas2.default.instance.StartBuild(level));
        }
    }, {
        key: "refreshBuildTrip",
        value: function refreshBuildTrip() {
            this.BuildCov.visible = this.attachBuild == null;
            this.comBut.visible = false;

            if (this.attachBuild != null) {

                if (!this.refreshShow) this.comBut.visible = this.attachBuild.checkOK();

                if (this.attachBuild.checkOK()) {
                    this.timeLeft.visible = false;
                    if (!this.triggerED) {
                        this.triggerED = true;
                        _GameDatas2.default.instance.TriggerBuildOK();
                    }
                    return;
                }

                this.timeLeft.visible = true;
                var timeLeft = Math.floor(this.attachBuild.getTimeLeft());
                var leftSec = timeLeft % 60;
                var leftMin = Math.floor(timeLeft / 60);
                if (leftSec < 10) this.timeLeft.text = leftMin + ":0" + leftSec;else this.timeLeft.text = leftMin + ":" + leftSec;
            } else {
                this.timeLeft.visible = false;
            }
        }
    }, {
        key: "allButtonSwitch",
        value: function allButtonSwitch() {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.allbutts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var button = _step.value;

                    button.switchSet();
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }]);

    return BuildTrip;
}(Laya.Sprite);

exports.default = BuildTrip;

},{"../components/buttonFloat":5,"../libs/nameMap":14,"../manager/GameDatas":15}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DeskTrip = function (_Laya$Image) {
    _inherits(DeskTrip, _Laya$Image);

    function DeskTrip() {
        _classCallCheck(this, DeskTrip);

        var _this = _possibleConstructorReturn(this, (DeskTrip.__proto__ || Object.getPrototypeOf(DeskTrip)).call(this));

        _this.shipSet = [];
        return _this;
    }

    _createClass(DeskTrip, [{
        key: "onEnable",
        value: function onEnable() {
            var _this2 = this;

            (0, _nameMap2.default)(this, this, ["shipicon1", "shipicon2", "shipicon3", "shadow1", "shadow2", "shadow3", "buttonOut1", "buttonOut2", "buttonOut3"]);

            this.iconSet = [this.shipicon1, this.shipicon2, this.shipicon3];
            this.shadowSet = [this.shadow1, this.shadow2, this.shadow3];
            this.buttonAll = [this.buttonOut1, this.buttonOut2, this.buttonOut3];

            this.showing = true;

            var index = 0;
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.buttonAll[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var but = _step.value;

                    but.visible = false;
                    but.index = index++;
                    but.on(Laya.Event.CLICK, this, function (event) {
                        var bindex = event.target.index;
                        _GameDatas2.default.instance.SendShipToDock(_this2.shipSet[bindex]);
                    });
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            this.refreshShow();
        }
    }, {
        key: "setShip",
        value: function setShip(placeIndex, shipSet) {
            if (placeIndex < 0 || placeIndex >= 3) return;
            this.shipSet[placeIndex] = shipSet;
            if (this.showing) {
                this.refreshShow();
            }
        }
    }, {
        key: "refreshShow",
        value: function refreshShow() {
            var isDockFull = _GameDatas2.default.instance.CheckDockFull();
            for (var i = 0; i < 3; i++) {
                var shipSet = this.shipSet[i];

                if (shipSet != null) {
                    this.iconSet[i].skin = shipSet.curData.iconPath;
                    this.shadowSet[i].skin = shipSet.curData.iconPath;
                    this.buttonAll[i].visible = !isDockFull;
                } else {
                    this.iconSet[i].skin = "";
                    this.shadowSet[i].skin = "";
                    this.buttonAll[i].visible = false;
                }
            }
        }
    }]);

    return DeskTrip;
}(Laya.Image);

exports.default = DeskTrip;

},{"../libs/nameMap":14,"../manager/GameDatas":15}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var DockPos = function (_Laya$Box) {
    _inherits(DockPos, _Laya$Box);

    function DockPos() {
        _classCallCheck(this, DockPos);

        var _this = _possibleConstructorReturn(this, (DockPos.__proto__ || Object.getPrototypeOf(DockPos)).call(this));

        _this.shipSet = null;
        _this.showing = false;
        _this.busy = false;
        _this.dragging = false;

        _this.clickCallBack = function (s) {};
        _this.dragPlaceCallBack = function (e) {};
        return _this;
    }

    _createClass(DockPos, [{
        key: "onEnable",
        value: function onEnable() {
            var _this2 = this;

            (0, _nameMap2.default)(this, this, ["Pad", "PadActive", "PadING", "ShipIcon", "PadShadow", "BusyFlag", "repairBar"]);

            this.stateText = this.BusyFlag.getChildByName("stateText");
            this.repairLeft = this.repairBar.getChildByName("repairLeft");

            var hoverFlag = false;

            this.ShipIcon.on(Laya.Event.MOUSE_DOWN, this, function (e) {
                _this2.startDragShip(e);
            });
            this.ShipIcon.on(Laya.Event.MOUSE_UP, this, function (e) {
                _this2.endDragedShip(e, "release");
            });
            this.ShipIcon.on(Laya.Event.MOUSE_OUT, this, function (e) {
                hoverFlag = false;
                Laya.timer.frameOnce(30, _this2, function () {
                    if (!hoverFlag) _this2.endDragedShip(e, "hoverOut");
                });
            });
            this.ShipIcon.on(Laya.Event.MOUSE_OVER, this, function (e) {
                hoverFlag = true;
            });

            this.on(Laya.Event.CLICK, this, function () {
                if (!_this2.dragging && _this2.shipSet != null) {
                    _this2.clickCallBack(_this2.shipSet);
                }
            });

            this.oirPos = {
                x: this.ShipIcon.x,
                y: this.ShipIcon.y
            };

            this.showing = true;
            this.refreshState();

            this.forceBack = false;

            this.float.play();
            this.frameLoop(29, this, function () {
                _this2.updateRepair();
            });
        }
    }, {
        key: "refreshState",
        value: function refreshState() {

            this.Pad.visible = this.shipSet == null && !this.busy;
            this.PadActive.visible = this.shipSet != null && !this.busy;

            this.PadING.visible = this.busy;

            if (this.shipSet != null && this.shipSet.getIconPath()) {
                this.ShipIcon.skin = this.shipSet.getIconPath();
                this.PadShadow.skin = this.shipSet.getIconPath();
                this.ShipIcon.visible = true;
            } else this.ShipIcon.visible = false;

            this.ShipIcon.gray = this.busy;

            this.PadShadow.visible = this.ShipIcon.visible && !this.dragging && !this.busy;

            this.BusyFlag.visible = this.busy;
            this.repairBar.visible = this.shipSet != null && this.shipSet.crash && this.shipSet.repair;

            this.updateRepair();
        }
    }, {
        key: "updateRepair",
        value: function updateRepair() {
            if (this.shipSet == null) return;
            if (!this.shipSet.repair) return;

            var start = this.shipSet.repairStart;
            var now = new Date();

            var timePassBy = Math.floor((now - start) / 1000);
            var timeNeed = Math.floor(this.shipSet.curData.repair * _GameDatas2.default.instance.GetRepairFix());

            if (timePassBy >= timeNeed) this.shipSet.repairCompelete();

            var timeLeft = timeNeed - timePassBy;
            var leftSec = timeLeft % 60;
            var leftMin = Math.floor(timeLeft / 60);
            if (leftSec < 10) this.repairLeft.text = leftMin + ":0" + leftSec;else this.repairLeft.text = leftMin + ":" + leftSec;

            this.repairBar.value = timePassBy / timeNeed;
        }
    }, {
        key: "setClickCallBack",
        value: function setClickCallBack(_func) {
            this.clickCallBack = _func;
        }
    }, {
        key: "setdragPlaceCallBack",
        value: function setdragPlaceCallBack(_func) {
            this.dragPlaceCallBack = _func;
        }
    }, {
        key: "clearShip",
        value: function clearShip() {
            this.placeShip(-1);
        }
    }, {
        key: "setBusy",
        value: function setBusy() {
            this.busy = true;
            this.float.stop();
            this.refreshState();
        }
    }, {
        key: "resumeBusy",
        value: function resumeBusy() {
            this.busy = false;
            this.forceBack = false;

            this.float.play();

            this.refreshState();
        }
    }, {
        key: "placeShip",
        value: function placeShip(_ship) {
            this.shipSet = _ship;

            if (_ship != null) _ship.dockPos = this;

            if (this.showing) {
                this.refreshState();
            }
        }
    }, {
        key: "setSendBack",
        value: function setSendBack() {
            this.setWorkState("ForceBack");
            this.forceBack = true;
        }
    }, {
        key: "setCrashBack",
        value: function setCrashBack() {
            this.setWorkState("CrashBack");
            this.forceBack = true;
        }
    }, {
        key: "setWorkState",
        value: function setWorkState(_text) {
            if (this.forceBack) return;
            this.stateText.text = _text;
        }
    }, {
        key: "checkDraggable",
        value: function checkDraggable() {
            return !(this.busy || this.shipSet.repair);
        }
    }, {
        key: "startDragShip",
        value: function startDragShip(event) {
            var _this3 = this;

            if (!this.checkDraggable()) return;

            this.float.stop();
            this.dragging = true;

            var befPos = {
                x: this.ShipIcon.x + this.x + this.scene.dock.x - this.scene.dock.hScrollBar.value,
                y: this.ShipIcon.y + this.y + this.scene.dock.y
            };

            this.ShipIcon.pos(befPos.x, befPos.y);
            this.ShipIcon.startDrag();

            this.ShipIcon.zOrder = 100;
            this.scene.addChild(this.ShipIcon);

            this.frameOnce(2, this, function () {
                _this3.dragPlaceCallBack("drag", event);
            });

            this.refreshState();
            event.stopPropagation();
        }
    }, {
        key: "endDragedShip",
        value: function endDragedShip(event, release) {
            var _this4 = this;

            if (!this.dragging) return;

            this.frameOnce(2, this, function () {
                _this4.dragPlaceCallBack(release, event);
            });
        }
    }, {
        key: "backPos",
        value: function backPos() {
            this.dragging = false;

            this.ShipIcon.pos(this.oirPos.x, this.oirPos.y);
            this.ShipIcon.stopDrag();
            this.refreshState();

            this.addChild(this.ShipIcon);

            if (!this.busy) this.float.play();

            this.ShipIcon.zOrder = 0;
        }
    }]);

    return DockPos;
}(Laya.Box);

exports.default = DockPos;

},{"../libs/nameMap":14,"../manager/GameDatas":15}],20:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var InfoLay = function (_Laya$Panel) {
    _inherits(InfoLay, _Laya$Panel);

    function InfoLay() {
        _classCallCheck(this, InfoLay);

        var _this2 = _possibleConstructorReturn(this, (InfoLay.__proto__ || Object.getPrototypeOf(InfoLay)).call(this));

        _this2.ship = null;
        return _this2;
    }

    _createClass(InfoLay, [{
        key: "onEnable",
        value: function onEnable() {
            var _this3 = this;

            (0, _nameMap2.default)(this, this.content, ["shipName", "shipDesc", "ShipIcon", "proImages", "buttonBack", "buttonPic", "buttonLvlup", "levelab", "job"]);

            this.buttonBack.on(Laya.Event.CLICK, this, function () {
                _GameDatas2.default.instance.closeInfo();
            });

            this.buttonLvlup.on(Laya.Event.CLICK, this, function (event) {
                var _this = _this3;
                _GameDatas2.default.instance.showResAlt("ship", {
                    obj: _this3.ship
                }, { x: event.stageX, y: event.stageY }, function () {
                    _GameDatas2.default.instance.lvlInfoShip();
                    _this.refreshShipInfo();
                });
            });

            this.frameLoop(60, this, function () {
                _this3.refreshJOB();
            });
            this.refreshJOB();
        }
    }, {
        key: "setShipSet",
        value: function setShipSet(_shipSet) {
            this.ship = _shipSet;
            this.refreshShipInfo();
            this.refreshJOB();
        }
    }, {
        key: "refreshShipInfo",
        value: function refreshShipInfo() {
            this.shipName.text = this.ship.curData.name;
            this.shipDesc.text = this.ship.curData.desc;
            this.ShipIcon.skin = this.ship.getIconPath();

            this.buttonLvlup.visible = this.ship.curData.lvlim > this.ship.getCurrentLevel();

            this.levelab.text = "Lev:" + this.ship.getCurrentLevelText();
        }
    }, {
        key: "refreshJOB",
        value: function refreshJOB() {
            if (this.ship != null) this.job.text = this.ship.GetJobText();
        }
    }]);

    return InfoLay;
}(Laya.Panel);

exports.default = InfoLay;

},{"../libs/nameMap":14,"../manager/GameDatas":15}],21:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var PlanLay = function (_Laya$Panel) {
    _inherits(PlanLay, _Laya$Panel);

    function PlanLay() {
        _classCallCheck(this, PlanLay);

        return _possibleConstructorReturn(this, (PlanLay.__proto__ || Object.getPrototypeOf(PlanLay)).call(this));
    }

    _createClass(PlanLay, [{
        key: "onEnable",
        value: function onEnable() {
            var _this3 = this;

            (0, _nameMap2.default)(this, this.content, ["dockLev", "packLev", "buidlLev", "selfLev"]);

            var _this = this;

            this.dockLev.getChildByName("levelUp").on(Laya.Event.CLICK, this, function (event) {
                _GameDatas2.default.instance.showResAlt("dock", {}, { x: event.stageX, y: event.stageY }, function () {
                    _GameDatas2.default.instance.LevelDockUP();
                    _this.refreshLevels();
                });
            });

            this.packLev.getChildByName("levelUp").on(Laya.Event.CLICK, this, function (event) {
                _GameDatas2.default.instance.showResAlt("repair", {}, { x: event.stageX, y: event.stageY }, function () {
                    _GameDatas2.default.instance.LevelPackUP();
                    _this3.refreshLevels();
                });
            });

            this.buidlLev.getChildByName("levelUp").on(Laya.Event.CLICK, this, function (event) {
                _GameDatas2.default.instance.showResAlt("build", {
                    handle: "LevelUp"
                }, { x: event.stageX, y: event.stageY }, function () {
                    _GameDatas2.default.instance.LevelBuildUP();
                    _this3.refreshLevels();
                });
            });

            this.selfLev.getChildByName("levelUp").on(Laya.Event.CLICK, this, function (event) {
                _GameDatas2.default.instance.showResAlt("self", {}, { x: event.stageX, y: event.stageY }, function () {
                    _GameDatas2.default.instance.LevelSelfUP();
                    _this3.refreshLevels();
                });
            });

            this.levelTexts = [this.dockLev.getChildByName("level"), this.packLev.getChildByName("level"), this.buidlLev.getChildByName("level"), this.selfLev.getChildByName("level")];
            this.refreshLevels();
        }
    }, {
        key: "refreshLevels",
        value: function refreshLevels() {
            var allLevels = _GameDatas2.default.instance.levelAll;

            this.levelTexts[0].text = "Lev:" + allLevels.dock;
            this.levelTexts[1].text = "Lev:" + allLevels.repair;
            this.levelTexts[2].text = "Lev:" + allLevels.build;
            this.levelTexts[3].text = "Lev:" + allLevels.command;
        }
    }]);

    return PlanLay;
}(Laya.Panel);

exports.default = PlanLay;

},{"../libs/nameMap":14,"../manager/GameDatas":15}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ProTrip = function (_Laya$Panel) {
    _inherits(ProTrip, _Laya$Panel);

    function ProTrip() {
        _classCallCheck(this, ProTrip);

        var _this = _possibleConstructorReturn(this, (ProTrip.__proto__ || Object.getPrototypeOf(ProTrip)).call(this));

        _this.tripMap = [];
        _this.showing = false;
        _this.ship = null;
        return _this;
    }

    _createClass(ProTrip, [{
        key: "onEnable",
        value: function onEnable() {
            (0, _nameMap2.default)(this, this.content, ["baseBG", "proName"]);
            (0, _nameMap2.default)(this, this.baseBG, ["proCur", "proNextDec", "proNextAdd"]);

            this.showing = true;
            this.refreshContent();
        }
    }, {
        key: "refreshPro",
        value: function refreshPro(_shipSet) {
            this.ship = _shipSet;
            this.refreshContent();
        }
    }, {
        key: "refreshContent",
        value: function refreshContent() {
            this.proName.text = this.proText;

            if (this.ship) {
                var curValue = this.ship.getData(this.proConnect);
                var nextValue = this.ship.getNextLvlData(this.proConnect);

                var curLen = this.proCalc(curValue) * 200 + 10;
                var nextLen = this.proCalc(nextValue) * 200 + 10;

                if (curLen < nextLen) {
                    this.proCur.width = curLen;
                    this.proNextAdd.width = nextLen;
                } else if (curLen > nextLen) {
                    this.proNextDec.width = curLen;
                    this.proCur.width = nextLen;
                } else {
                    this.proCur.width = curLen;
                }

                this.proCur.visible = true;
                this.proNextAdd.visible = curLen < nextLen;
                this.proNextDec.visible = curLen > nextLen;
            }
        }
    }, {
        key: "setProName",
        value: function setProName(_text) {
            this.proText = _text;

            if (this.showing) this.refreshContent();
        }
    }, {
        key: "setProConnect",
        value: function setProConnect(_text, _lenfunc) {
            this.proConnect = _text;
            this.proCalc = _lenfunc;

            if (this.showing) this.refreshContent();
        }
    }]);

    return ProTrip;
}(Laya.Panel);

exports.default = ProTrip;

},{"../libs/nameMap":14}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

var _resource = require("../data/resource");

var _resource2 = _interopRequireDefault(_resource);

var _nameMap = require("../libs/nameMap");

var _nameMap2 = _interopRequireDefault(_nameMap);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var ResourceAlt = function (_Laya$Panel) {
    _inherits(ResourceAlt, _Laya$Panel);

    function ResourceAlt() {
        _classCallCheck(this, ResourceAlt);

        var _this = _possibleConstructorReturn(this, (ResourceAlt.__proto__ || Object.getPrototypeOf(ResourceAlt)).call(this));

        _this.res = new _resource2.default();
        _this.okCallBack = function () {};
        _this.cancelCallBack = function () {};
        return _this;
    }

    _createClass(ResourceAlt, [{
        key: "onEnable",
        value: function onEnable() {
            var _this2 = this;

            (0, _nameMap2.default)(this, this.content, ["oil", "ammo", "steel", "Al", "OKbut", "Cancelbut"]);

            this.showing = true;
            this.refreshResNum();

            this.OKbut.on(Laya.Event.CLICK, this, function () {
                _this2.okCallBack(_this2.res);
            });

            this.Cancelbut.on(Laya.Event.CLICK, this, function (event) {
                _this2.cancelCallBack();
            });
        }
    }, {
        key: "setResourceShow",
        value: function setResourceShow(_res) {
            this.res = _res;

            if (this.showing) this.refreshResNum();
        }
    }, {
        key: "setEnough",
        value: function setEnough(en_fl) {
            this.enoughFlag = en_fl;
            if (this.showing) {
                this.refreshOKBut();
            }
        }
    }, {
        key: "refreshOKBut",
        value: function refreshOKBut() {
            this.OKbut.visible = this.enoughFlag;
        }
    }, {
        key: "refreshResNum",
        value: function refreshResNum() {
            this.oil.text = this.res.oil.toUnit();
            this.ammo.text = this.res.ammo.toUnit();
            this.steel.text = this.res.steel.toUnit();
            this.Al.text = this.res.Al.toUnit();
        }
    }]);

    return ResourceAlt;
}(Laya.Panel);

exports.default = ResourceAlt;

},{"../data/resource":10,"../libs/nameMap":14,"../manager/GameDatas":15}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _bignumber = require("../libs/bignumber.js");

var _bignumber2 = _interopRequireDefault(_bignumber);

var _GameDatas = require("../manager/GameDatas");

var _GameDatas2 = _interopRequireDefault(_GameDatas);

var _SceneLayer = require("../components/SceneLayer");

var _SceneLayer2 = _interopRequireDefault(_SceneLayer);

var _targetSwitch = require("../components/targetSwitch");

var _targetSwitch2 = _interopRequireDefault(_targetSwitch);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var MainScene = function (_Laya$Scene) {
    _inherits(MainScene, _Laya$Scene);

    function MainScene() {
        _classCallCheck(this, MainScene);

        var _this2 = _possibleConstructorReturn(this, (MainScene.__proto__ || Object.getPrototypeOf(MainScene)).call(this));

        if (_GameDatas2.default.instance) _this2.MainManager = _GameDatas2.default.instance;else _this2.MainManager = new _GameDatas2.default();
        return _this2;
    }

    _createClass(MainScene, [{
        key: "onEnable",
        value: function onEnable() {
            var _this3 = this;

            var _this = this;
            this.MainManager.addResChangeCallBack(function (res) {
                _this.updateResShow(res);
                _this.updateUpgradeDetect(res);
            }, "mainScene");

            this.sceneLayer = this.getComponent(_SceneLayer2.default);

            this.initRoute();
            this.initDock();
            this.initPros();
            this.initWare();
            this.initBuild();
            this.initPlan();

            this.initResAlt();

            this.uiState = 0;

            this.backBut.on(Laya.Event.CLICK, this, function () {
                _this3.warePanel.x = -640;
                _this3.buildPanel.x = -640;
                _this3.backBut.x = -600;
                _this3.planPanel.x = -640;

                _this3.buildPanel.zOrder = 20;
                _this3.warePanel.zOrder = 20;
                _this3.planPanel.zOrder = 20;

                _this3.uiState = 0;
            });

            this.initButtonFloat();

            this.initSceneEvent();
            this.initTabSwitch();
        }
    }, {
        key: "backAllPabel",
        value: function backAllPabel() {
            this.buildPanel.zOrder = 20;
            this.warePanel.zOrder = 20;
            this.planPanel.zOrder = 20;
        }
    }, {
        key: "updateResShow",
        value: function updateResShow(res) {
            for (var key in res) {
                if (res.hasOwnProperty(key)) {
                    this[key].text = res[key].toUnit();
                }
            }
        }
    }, {
        key: "initRoute",
        value: function initRoute() {
            var data = this.MainManager.getCurrentRoute();
            this.router.setRoute(data);

            this.sceneLayer.setRoutePanel(this.router);
        }
    }, {
        key: "initDock",
        value: function initDock() {
            this.sceneLayer.setDockPanel(this.dock);

            var rect = new Laya.Rectangle(this.router.x, this.router.y, this.router.width, this.router.height);

            var _this = this;
            this.sceneLayer.setDragCallback(function (posIndex, event) {
                if (event.flag == "release") {
                    if (rect.contains(event.stageX, event.stageY)) {
                        _this.MainManager.upShipToCurrentRoute(posIndex);
                    } else {
                        _this.checkPosChange(posIndex, event.stageX, event.stageY);
                        _this.checkHandles(posIndex, event.stageX, event.stageY);
                    }
                }

                _this.buttonFloatSwitch(event.flag);
            });
        }
    }, {
        key: "initPros",
        value: function initPros() {
            this.sceneLayer.setInfoPanel(this.infoLayer.proImages);
        }
    }, {
        key: "initButtonFloat",
        value: function initButtonFloat() {
            var _this4 = this;

            this.floatMaps = [{
                target: this.Info,
                handle: function handle(pIndex) {
                    _this4.MainManager.showShipInfo(pIndex);
                }
            }, {
                target: this.Repair,
                handle: function handle(pIndex) {
                    _this4.MainManager.repairShip(pIndex);
                }
            }, {
                target: this.wareHouse,
                handle: function handle(pIndex) {
                    _this4.MainManager.recollectShip(pIndex);
                }
            }];

            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.floatMaps[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var float = _step.value;

                    float.comp = float.target.getComponent(_targetSwitch2.default);
                    float.comp.setState(1);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "initWare",
        value: function initWare() {
            var _this5 = this;

            this.wareBut.on(Laya.Event.CLICK, this, function () {
                _this5.warePanel.x = 0;
                _this5.backBut.x = 40;
                _this5.backAllPabel();
                _this5.warePanel.zOrder = 25;
                _this5.uiState = 2;
            });

            this.sceneLayer.setDeskPanel(this.warePanel.content.getChildByName("mainContent"));
        }
    }, {
        key: "initBuild",
        value: function initBuild() {
            var _this6 = this;

            this.buildBut.on(Laya.Event.CLICK, this, function () {
                _this6.buildPanel.x = 0;
                _this6.buildDot.visible = false;
                _this6.backBut.x = 450;

                _this6.backAllPabel();
                _this6.buildPanel.zOrder = 25;

                _this6.uiState = 3;

                _this6.sceneLayer.buildTripCheck();
            });

            this.buildDot.visible = false;

            this.sceneLayer.setBuildPanel(this.buildPanel.content.getChildByName("MainContent"));
        }
    }, {
        key: "initPlan",
        value: function initPlan() {
            var _this7 = this;

            this.planBut.on(Laya.Event.CLICK, this, function () {
                _this7.planPanel.x = 0;
                _this7.backBut.x = 245;

                _this7.backAllPabel();
                _this7.planPanel.zOrder = 25;
                _this7.uiState = 4;
            });
        }
    }, {
        key: "initResAlt",
        value: function initResAlt() {
            this.sceneLayer.setAltLayer();
        }
    }, {
        key: "initSceneEvent",
        value: function initSceneEvent() {
            var _this8 = this;

            this.MainManager.onSceneEvent("scene:info", function (ship) {
                _this8.sceneLayer.refreshInfoShow(ship);
                _this8.infoLayer.setShipSet(ship);
                _this8.infoLayer.x = 0;

                _this8.uiState = 1;
            });

            this.MainManager.onSceneEvent("scene:infoclose", function () {
                _this8.infoLayer.x = -640;

                _this8.uiState = 0;
            });

            this.MainManager.onSceneEvent("ship:lvlup", function (ship) {
                _this8.infoLayer.refreshShipInfo();
                _this8.sceneLayer.refreshInfoShow(ship);
            });

            this.MainManager.onSceneEvent("dock:pack", function (pindex) {
                _this8.sceneLayer.recollectPos(pindex);
            });

            this.MainManager.onSceneEvent("pack:collect", function (ship) {
                _this8.sceneLayer.insertPackShip(ship);
            });

            this.MainManager.onSceneEvent("route:unlock", function (newIndex) {
                if (newIndex) {
                    _this8.routeTable.labels = _this8.MainManager.GetAllRouter();
                    _this8.sceneLayer.unlockRoute(newIndex);
                    _this8.sceneLayer.refreshRouterZorder();
                }
                _this8.sceneLayer.updateRoute(_this8.MainManager.currentRoute);
            });

            this.MainManager.onSceneEvent("dock:insert", function (shipSet) {
                _this8.sceneLayer.insertDockPos(shipSet);
                _this8.sceneLayer.refreshAllDeskByOutShip(shipSet);
            });

            this.MainManager.onSceneEvent("dock:full", function (shipSet) {
                _this8.sceneLayer.AllDesckRefreshFull();
            });

            this.MainManager.onSceneEvent("dock:lvlup", function () {
                _this8.sceneLayer.updateAllDockPos();
            });

            this.MainManager.onSceneEvent("build:lvlup", function () {
                _this8.sceneLayer.updateAllBuildTrip();
            });

            this.MainManager.onSceneEvent("build:trigger", function () {
                _this8.buildOKTrigger();
            });

            this.MainManager.onSceneEvent("res:alt", function (pos, res, ok, _func) {
                _this8.sceneLayer.showRes(res, ok, pos.x, pos.y, _func);
            });
        }
    }, {
        key: "initTabSwitch",
        value: function initTabSwitch() {
            var _this9 = this;

            this.routeTable.labels = this.MainManager.GetAllRouter();
            this.routeTable.selectedIndex = this.MainManager.currentRoute;

            this.routeTable.selectHandler = new Laya.Handler(this, function (index) {
                _this9.MainManager.changeRouteShow(index);
                _this9.sceneLayer.refreshRouterZorder();
            });
        }
    }, {
        key: "buttonEachMap",
        value: function buttonEachMap(func) {
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = this.floatMaps[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var float = _step2.value;

                    func.call(this, float);
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }
        }
    }, {
        key: "buttonFloatSwitch",
        value: function buttonFloatSwitch(flag) {
            if (flag == "release" || flag == "hoverOut") {
                this.buttonEachMap(function (float) {
                    float.comp.setState(1);
                });
            } else {
                this.buttonEachMap(function (float) {
                    float.comp.setState(2);
                });
            }
        }
    }, {
        key: "checkPosChange",
        value: function checkPosChange(pindex, x, y) {
            var allPoses = this.sceneLayer.poses;
            var offsetPosx = this.dock.hScrollBar.value - this.dock.x;
            var offsetPosy = this.dock.y;
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = allPoses[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var posi = _step3.value;

                    var rect = new Laya.Rectangle(posi.x - offsetPosx, offsetPosy + posi.y, posi.width, posi.height);
                    if (rect.contains(x, y)) {
                        var res = this.MainManager.changeShipPos(pindex, posi.posIndex);

                        if (res) this.sceneLayer.changePos(pindex, posi.posIndex);

                        break;
                    }
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }
        }
    }, {
        key: "checkHandles",
        value: function checkHandles(pindex, x, y) {
            var _this10 = this;

            this.buttonEachMap(function (float) {
                var but = float.target;
                var rect = new Laya.Rectangle(but.x, but.y, but.width, but.height);

                if (rect.contains(x, y)) {
                    float.handle.call(_this10, pindex);
                }
            });
        }
    }, {
        key: "buildOKTrigger",
        value: function buildOKTrigger() {
            if (this.uiState == 3) return;
            this.buildDot.visible = true;
        }
    }, {
        key: "updateUpgradeDetect",
        value: function updateUpgradeDetect(resource) {}
    }]);

    return MainScene;
}(Laya.Scene);

exports.default = MainScene;

},{"../components/SceneLayer":3,"../components/targetSwitch":7,"../libs/bignumber.js":13,"../manager/GameDatas":15}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL0xheWFCb3gvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcuanMiLCJzcmMvTWFpbi5qcyIsInNyYy9jb21wb25lbnRzL1NjZW5lTGF5ZXIuanMiLCJzcmMvY29tcG9uZW50cy9TaGlwQ29udGFpbmVyLmpzIiwic3JjL2NvbXBvbmVudHMvYnV0dG9uRmxvYXQuanMiLCJzcmMvY29tcG9uZW50cy9yZXBlYXRNb3ZlLmpzIiwic3JjL2NvbXBvbmVudHMvdGFyZ2V0U3dpdGNoLmpzIiwic3JjL2RhdGEvYnVpbGRTZXQuanMiLCJzcmMvZGF0YS9kb2NrLmpzIiwic3JjL2RhdGEvcmVzb3VyY2UuanMiLCJzcmMvZGF0YS9yb3V0ZS5qcyIsInNyYy9kYXRhL3NoaXAuanMiLCJzcmMvbGlicy9iaWdudW1iZXIuanMiLCJzcmMvbGlicy9uYW1lTWFwLmpzIiwic3JjL21hbmFnZXIvR2FtZURhdGFzLmpzIiwic3JjL3BhbmVscy9Sb3V0ZUxheS5qcyIsInNyYy9wYW5lbHMvYnVpbGRUcmlwLmpzIiwic3JjL3BhbmVscy9kZXNrVHJpcC5qcyIsInNyYy9wYW5lbHMvZG9ja1Bvcy5qcyIsInNyYy9wYW5lbHMvaW5mb0xheS5qcyIsInNyYy9wYW5lbHMvcGxhbkxheS5qcyIsInNyYy9wYW5lbHMvcHJvVHJpcC5qcyIsInNyYy9wYW5lbHMvcmVzb3VyY2VBbHQuanMiLCJzcmMvc2NlbmUvbWFpblNjZW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7cWpCQ1ZBOzs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7SUFFcUIsVTs7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TUFBdkI7QUFDSDtBQUNKLGFBUEQ7QUFRSDs7O3lDQUVlO0FBQ1osZ0JBQUcsS0FBSyxPQUFMLElBQWdCLENBQW5CLEVBQXFCO0FBQ3JCLGlCQUFLLFFBQUwsQ0FBYyxPQUFkLEdBQXdCLElBQXhCO0FBQ0g7Ozs0Q0FFbUIsUSxFQUFTLENBRTVCOzs7O0VBdFNrQyxLQUFLLEs7O2tCQUF2QixTIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgbWFpblNjZW5lIGZyb20gXCIuL3NjZW5lL21haW5TY2VuZVwiXG5pbXBvcnQgUm91dGVMYXkgZnJvbSBcIi4vcGFuZWxzL1JvdXRlTGF5XCJcbmltcG9ydCBTaGlwQ29udGFpbmVyIGZyb20gXCIuL2NvbXBvbmVudHMvU2hpcENvbnRhaW5lclwiXG5pbXBvcnQgdGFyZ2V0U3dpdGNoIGZyb20gXCIuL2NvbXBvbmVudHMvdGFyZ2V0U3dpdGNoXCJcbmltcG9ydCBpbmZvTGF5IGZyb20gXCIuL3BhbmVscy9pbmZvTGF5XCJcbmltcG9ydCBwbGFuTGF5IGZyb20gXCIuL3BhbmVscy9wbGFuTGF5XCJcbmltcG9ydCBTY2VuZUxheWVyIGZyb20gXCIuL2NvbXBvbmVudHMvU2NlbmVMYXllclwiXG5pbXBvcnQgYnVpbGRUcmlwIGZyb20gXCIuL3BhbmVscy9idWlsZFRyaXBcIlxuaW1wb3J0IGRlc2tUcmlwIGZyb20gXCIuL3BhbmVscy9kZXNrVHJpcFwiXG5pbXBvcnQgZG9ja1BvcyBmcm9tIFwiLi9wYW5lbHMvZG9ja1Bvc1wiXG5pbXBvcnQgcHJvVHJpcCBmcm9tIFwiLi9wYW5lbHMvcHJvVHJpcFwiXG5pbXBvcnQgcmVzb3VyY2VBbHQgZnJvbSBcIi4vcGFuZWxzL3Jlc291cmNlQWx0XCJcbmltcG9ydCByZXBlYXRNb3ZlIGZyb20gXCIuL2NvbXBvbmVudHMvcmVwZWF0TW92ZVwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lQ29uZmlnIHtcclxuICAgIHN0YXRpYyBpbml0KCkge1xyXG4gICAgICAgIC8v5rOo5YaMU2NyaXB05oiW6ICFUnVudGltZeW8leeUqFxyXG4gICAgICAgIGxldCByZWcgPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcblx0XHRyZWcoXCJzY2VuZS9tYWluU2NlbmUuanNcIixtYWluU2NlbmUpO1xuXHRcdHJlZyhcInBhbmVscy9Sb3V0ZUxheS5qc1wiLFJvdXRlTGF5KTtcblx0XHRyZWcoXCJjb21wb25lbnRzL1NoaXBDb250YWluZXIuanNcIixTaGlwQ29udGFpbmVyKTtcblx0XHRyZWcoXCJjb21wb25lbnRzL3RhcmdldFN3aXRjaC5qc1wiLHRhcmdldFN3aXRjaCk7XG5cdFx0cmVnKFwicGFuZWxzL2luZm9MYXkuanNcIixpbmZvTGF5KTtcblx0XHRyZWcoXCJwYW5lbHMvcGxhbkxheS5qc1wiLHBsYW5MYXkpO1xuXHRcdHJlZyhcImNvbXBvbmVudHMvU2NlbmVMYXllci5qc1wiLFNjZW5lTGF5ZXIpO1xuXHRcdHJlZyhcInBhbmVscy9idWlsZFRyaXAuanNcIixidWlsZFRyaXApO1xuXHRcdHJlZyhcInBhbmVscy9kZXNrVHJpcC5qc1wiLGRlc2tUcmlwKTtcblx0XHRyZWcoXCJwYW5lbHMvZG9ja1Bvcy5qc1wiLGRvY2tQb3MpO1xuXHRcdHJlZyhcInBhbmVscy9wcm9UcmlwLmpzXCIscHJvVHJpcCk7XG5cdFx0cmVnKFwicGFuZWxzL3Jlc291cmNlQWx0LmpzXCIscmVzb3VyY2VBbHQpO1xuXHRcdHJlZyhcImNvbXBvbmVudHMvcmVwZWF0TW92ZS5qc1wiLHJlcGVhdE1vdmUpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcud2lkdGggPSA2NDA7XHJcbkdhbWVDb25maWcuaGVpZ2h0ID0gOTYwO1xyXG5HYW1lQ29uZmlnLnNjYWxlTW9kZSA9XCJzaG93YWxsXCI7XHJcbkdhbWVDb25maWcuc2NyZWVuTW9kZSA9IFwiaG9yaXpvbnRhbFwiO1xyXG5HYW1lQ29uZmlnLmFsaWduViA9IFwidG9wXCI7XHJcbkdhbWVDb25maWcuYWxpZ25IID0gXCJjZW50ZXJcIjtcclxuR2FtZUNvbmZpZy5zdGFydFNjZW5lID0gXCJNYWluLnNjZW5lXCI7XHJcbkdhbWVDb25maWcuc2NlbmVSb290ID0gXCJcIjtcclxuR2FtZUNvbmZpZy5kZWJ1ZyA9IHRydWU7XHJcbkdhbWVDb25maWcuc3RhdCA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyA9IHRydWU7XHJcbkdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb24gPSB0cnVlO1xyXG5cclxuR2FtZUNvbmZpZy5pbml0KCk7XHJcbiIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb25maWcuYWxpZ25WO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29uZmlnLmFsaWduSDtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKSB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCkge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiaW1wb3J0IEdhbWVEYXRhcyBmcm9tIFwiLi4vbWFuYWdlci9HYW1lRGF0YXNcIlxyXG5pbXBvcnQgRG9jayBmcm9tIFwiLi4vZGF0YS9kb2NrXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNjZW5lTGF5ZXIgZXh0ZW5kcyBMYXlhLlNjcmlwdHtcclxuICAgIC8qKiBAcHJvcCB7bmFtZTpkb2NrUG9zLHRpcHM6XCLkvb/nlKjnmoToiLnkvY1QYW5lbFwiLHR5cGU6UHJlZmFifSAqL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnJvdXRlTGF5LHRpcHM6XCLoiKrpgZPkvb/nlKjnmoRQYW5lbFwiLHR5cGU6UHJlZmFifSAqL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnByb1RyaXBzLHRpcHM6XCLlsZ7mgKfkvb/nlKjnmoRQYW5lbFwiLHR5cGU6UHJlZmFifSAqL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmRlc2tUcmlwLHRpcHM6XCLku5PlupPkvb/nlKjnmoRQYW5lbFwiLHR5cGU6UHJlZmFifSAqL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOmJ1aWxkVHJpcCx0aXBzOlwi5bu66YCg5L2/55So55qEUGFuZWxcIix0eXBlOlByZWZhYn0gKi9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpyZXNBbHQsdGlwczpcIui1hOa6kOeql+S9v+eUqOeahFBhbmVsXCIsdHlwZTpQcmVmYWJ9ICovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFsdExheWVyKCl7XHJcbiAgICAgICAgdGhpcy5hbHRSZXMgPSB0aGlzLnJlc0FsdC5jcmVhdGUoKTtcclxuICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKHRoaXMuYWx0UmVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbHRSZXMuek9yZGVyID0gNTAwO1xyXG4gICAgICAgIHRoaXMuYWx0UmVzLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFsdFJlcy5wb3MoLTE1MCwtMTUwKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb3ZlciA9IHRoaXMub3duZXIuQWxsQ292O1xyXG4gICAgICAgIHRoaXMuY292ZXIub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLChldmVudCk9PntcclxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY292ZXIudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuYWx0UmVzLmNhbmNlbENhbGxCYWNrID0gKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICBfdGhpcy5hbHRSZXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBfdGhpcy5hbHRSZXMucG9zKC0xNTAsLTE1MCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvdmVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Um91dGVQYW5lbChsYXllcil7XHJcbiAgICAgICAgdGhpcy5jdXJSb3V0ZXIgPSBsYXllcjtcclxuICAgICAgICB0aGlzLnJvdXRlcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hBbGxSb3V0ZXJzKCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUm91dGVyWm9yZGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RG9ja1BhbmVsKGxheWVyKXtcclxuICAgICAgICB0aGlzLmRvY2tQYW5lbCA9IGxheWVyO1xyXG4gICAgICAgIHRoaXMucG9zZXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQWxsUG9zZXMoKTtcclxuICAgICAgICB0aGlzLmRyYWdDYWxsYmFjayA9ICgpPT57fTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRJbmZvUGFuZWwobGF5ZXIpe1xyXG4gICAgICAgIHRoaXMuaW5mb1BhbmVsID0gbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5pbmZvcyA9IFtdO1xyXG5cclxuICAgICAgICB2YXIgcHJvcyA9IFtcclxuICAgICAgICAgICAge25hbWU6XCJzcGVlZFwiLHByb05hbWU6XCJiYXNlU3BlZWRcIixsZW5mdW5jOihudW0pPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVtIC8gNTAwO1xyXG4gICAgICAgICAgICB9fSxcclxuICAgICAgICAgICAge25hbWU6XCJzdGV2ZVwiLHByb05hbWU6XCJiYXNlTG9hZFwiLGxlbmZ1bmM6KG51bSk9PntcclxuICAgICAgICAgICAgICAgIHJldHVybiAyMCAvIChudW0gKyAxKTtcclxuICAgICAgICAgICAgfX0sXHJcbiAgICAgICAgICAgIHtuYW1lOlwiY2FwYWNpdHlcIixwcm9OYW1lOlwibWF4Y2FwXCIsbGVuZnVuYzoobnVtKT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bSAvIDEwMDA7XHJcbiAgICAgICAgICAgIH19LFxyXG4gICAgICAgICAgICB7bmFtZTpcInBvd2VyXCIscHJvTmFtZTpcImJhdHRsZVwiLGxlbmZ1bmM6KG51bSk9PntcclxuICAgICAgICAgICAgICAgIHJldHVybiBudW0gLyAzMDA7XHJcbiAgICAgICAgICAgIH19LFxyXG4gICAgICAgICAgICB7bmFtZTpcInJlcGFpclwiLHByb05hbWU6XCJyZXBhaXJcIixsZW5mdW5jOihudW0pPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gNCAvIChudW0gKyAxKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hBbGxQcm9zKHByb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERlc2tQYW5lbChsYXllcil7XHJcbiAgICAgICAgdGhpcy5kZXNrTGF5ID0gbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5kZXNrcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hBbGxEZXNrZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRCdWlsZFBhbmVsKGxheWVyKXtcclxuICAgICAgICB0aGlzLmJ1aWxkTGF5ID0gbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5idWlsZFRyaXBzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaEFsbEJ1aWxkcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldERyYWdDYWxsYmFjayhfZnVuYyl7XHJcbiAgICAgICAgdGhpcy5kcmFnQ2FsbGJhY2sgPSBfZnVuYztcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoQWxsUm91dGVycygpe1xyXG4gICAgICAgIHZhciBjb3VudCA9IEdhbWVEYXRhcy5pbnN0YW5jZS5nZXRSb3V0ZVVubG9ja0NvdW50KCk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBHYW1lRGF0YXMuaW5zdGFuY2UuY3VycmVudFJvdXRlO1xyXG5cclxuICAgICAgICBmb3IodmFyIGluZGV4ID0gMDtpbmRleCA8IGNvdW50O2luZGV4ICsrKXtcclxuICAgICAgICAgICAgaWYoaW5kZXggIT0gY3VycmVudCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVubG9ja1JvdXRlKGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJSb3V0ZXIucm91dGVJbmRleCA9IGN1cnJlbnQ7XHJcbiAgICAgICAgdGhpcy5yb3V0ZXMucHVzaCh0aGlzLmN1clJvdXRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFJvdXRlclpvcmRlcigpe1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gR2FtZURhdGFzLmluc3RhbmNlLmN1cnJlbnRSb3V0ZTtcclxuICAgICAgICBcclxuICAgICAgICBmb3IodmFyIGxheSBvZiB0aGlzLnJvdXRlcyl7XHJcbiAgICAgICAgICAgIGlmKGxheS5yb3V0ZUluZGV4ID09IGN1cnJlbnQpe1xyXG4gICAgICAgICAgICAgICAgbGF5LnpPcmRlciA9IDEwO1xyXG4gICAgICAgICAgICAgICAgbGF5LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxheS56T3JkZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgbGF5LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gICBcclxuXHJcbiAgICB1bmxvY2tSb3V0ZShpbmRleCl7XHJcbiAgICAgICAgdmFyIHJvdXRlID0gdGhpcy5yb3V0ZUxheS5jcmVhdGUoKTtcclxuICAgICAgICByb3V0ZS5wb3ModGhpcy5jdXJSb3V0ZXIueCx0aGlzLmN1clJvdXRlci55KTtcclxuXHJcbiAgICAgICAgcm91dGUucm91dGVJbmRleCA9IGluZGV4O1xyXG4gICAgICAgIHJvdXRlLnNldFJvdXRlKEdhbWVEYXRhcy5pbnN0YW5jZS5nZXRSb3V0ZUJ5SW5kZXgoaW5kZXgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJSb3V0ZXIucGFyZW50LmFkZENoaWxkKHJvdXRlKTtcclxuICAgICAgICB0aGlzLnJvdXRlcy5wdXNoKHJvdXRlKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSb3V0ZShpbmRleCl7XHJcbiAgICAgICAgZm9yKHZhciBsYXkgb2YgdGhpcy5yb3V0ZXMpe1xyXG4gICAgICAgICAgICBpZihsYXkucm91dGVJbmRleCA9PSBpbmRleCl7XHJcbiAgICAgICAgICAgICAgICBsYXkucmVmcmVzaFJvdXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaEFsbFBvc2VzKCl7XHJcbiAgICAgICAgdmFyIGN1ckRvY2sgPSBHYW1lRGF0YXMuaW5zdGFuY2UuZG9jaztcclxuXHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTxjdXJEb2NrLkdldFNoaXBDYXAoKTtpKyspe1xyXG4gICAgICAgICAgICB0aGlzLmluc2VydFBvcyhpLGN1ckRvY2suR2V0U2hpcFNldChpKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGN1ckRvY2suc2V0RG9ja0NhbGxCYWNrKChmbGFnLGluZGV4KT0+e1xyXG4gICAgICAgICAgICBpZihmbGFnID09IFwiYnVzeVwiKXtcclxuICAgICAgICAgICAgICAgIF90aGlzLnBvc2VzW2luZGV4XS5zZXRCdXN5KCk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGZsYWcgPT0gXCJyZXN1bWVcIil7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5wb3Nlc1tpbmRleF0ucmVzdW1lQnVzeSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zZXJ0UG9zKGluZGV4LHNoaXBTZXQpe1xyXG4gICAgICAgIHZhciBwb3NTZXQgPSB0aGlzLmRvY2tQb3MuY3JlYXRlKCk7XHJcbiAgICAgICAgcG9zU2V0LnBsYWNlU2hpcChzaGlwU2V0KTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3Nlc1tpbmRleF0gPSBwb3NTZXQ7XHJcblxyXG4gICAgICAgIHZhciBpbmRleFBvcyA9IHRoaXMuZ2V0UG9zQnlJbmRleChpbmRleCk7XHJcbiAgICAgICAgcG9zU2V0LnBvcyhpbmRleFBvcy54LGluZGV4UG9zLnkpO1xyXG4gICAgICAgIHBvc1NldC5wb3NJbmRleCA9IGluZGV4O1xyXG5cclxuICAgICAgICB0aGlzLmRvY2tQYW5lbC5hZGRDaGlsZChwb3NTZXQpO1xyXG5cclxuICAgICAgICBwb3NTZXQuc2V0Q2xpY2tDYWxsQmFjaygoc2V0KT0+e1xyXG4gICAgICAgICAgICBpZihwb3NTZXQuYnVzeSl7XHJcbiAgICAgICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2UuYmFja1NoaXAocG9zU2V0LnBvc0luZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHBvc1NldC5zZXRkcmFnUGxhY2VDYWxsQmFjaygoZmxhZyxldmVudCk9PntcclxuICAgICAgICAgICAgZXZlbnQuZmxhZyA9IGZsYWc7XHJcbiAgICAgICAgICAgIF90aGlzLmRyYWdDYWxsYmFjayhwb3NTZXQucG9zSW5kZXgsZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYoZmxhZyA9PSBcInJlbGVhc2VcIiB8fCBmbGFnID09IFwiaG92ZXJPdXRcIilcclxuICAgICAgICAgICAgICAgIHBvc1NldC5iYWNrUG9zKCk7XHJcbiAgICAgICAgfSkgIFxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUFsbERvY2tQb3MoKXtcclxuICAgICAgICB2YXIgY3VyRG9jayA9IEdhbWVEYXRhcy5pbnN0YW5jZS5kb2NrO1xyXG4gICAgICAgIGlmKHRoaXMucG9zZXMubGVuZ3RoID49IGN1ckRvY2suR2V0U2hpcENhcCgpKSByZXR1cm47XHJcblxyXG4gICAgICAgIGZvcih2YXIgc3RJbmRleCA9IHRoaXMucG9zZXMubGVuZ3RoO3N0SW5kZXggPCBjdXJEb2NrLkdldFNoaXBDYXAoKTtzdEluZGV4ICsrKXtcclxuICAgICAgICAgICAgdGhpcy5pbnNlcnRQb3Moc3RJbmRleCxjdXJEb2NrLkdldFNoaXBTZXQoc3RJbmRleCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBbGxCdWlsZFRyaXAoKXtcclxuICAgICAgICB2YXIgY291bnQgPSBHYW1lRGF0YXMuaW5zdGFuY2UuYnVpbGRDYXA7XHJcbiAgICAgICAgdmFyIHRyaXBOdW0gPSB0aGlzLmJ1aWxkVHJpcHMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IodmFyIGluZGV4ID0gdHJpcE51bTtpbmRleDxjb3VudDtpbmRleCsrKXtcclxuICAgICAgICAgICAgdmFyIHRyaXAgPSB0aGlzLmJ1aWxkVHJpcC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5idWlsZExheS5hZGRDaGlsZCh0cmlwKTtcclxuICAgICAgICAgICAgdHJpcC5wb3MoMCwyMDUgKiBpbmRleCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRUcmlwcy5wdXNoKHRyaXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbnNlcnREb2NrUG9zKHNoaXBTZXQpe1xyXG4gICAgICAgIHZhciBpbmRleCA9IHNoaXBTZXQuZG9ja2lkO1xyXG4gICAgICAgIHRoaXMucG9zZXNbaW5kZXhdLnBsYWNlU2hpcChzaGlwU2V0KTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoQWxsRGVza2VzKCl7XHJcbiAgICAgICAgdGhpcy5jdXJEZXNrID0gMDtcclxuXHJcbiAgICAgICAgdmFyIGFsbFNoaXBzID0gR2FtZURhdGFzLmluc3RhbmNlLnBhY2tTaGlwcztcclxuICAgICAgICB2YXIgY291bnQgPSBhbGxTaGlwcy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaW5kZXg9MDtpbmRleDxjb3VudDtpbmRleCs9Myl7XHJcbiAgICAgICAgICAgIHZhciB0cmlwID0gdGhpcy5kZXNrVHJpcC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdHJpcC5zZXRTaGlwKDAsYWxsU2hpcHNbaW5kZXhdKTtcclxuICAgICAgICAgICAgaWYoKytpbmRleDxjb3VudCl7XHJcbiAgICAgICAgICAgICAgICB0cmlwLnNldFNoaXAoMSxhbGxTaGlwc1tpbmRleF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCsraW5kZXg8Y291bnQpe1xyXG4gICAgICAgICAgICAgICAgdHJpcC5zZXRTaGlwKDIsYWxsU2hpcHNbaW5kZXhdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlc2tzLnB1c2godHJpcCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVza0xheS5hZGRDaGlsZCh0cmlwKTtcclxuICAgICAgICAgICAgdHJpcC5wb3MoMCwyMDAgKiBNYXRoLmZsb29yKGluZGV4LyAzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1ckRlc2sgPSBjb3VudCAlIDM7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYoY291bnQgPT0gMCl7XHJcbiAgICAgICAgICAgIHZhciB0cmlwID0gdGhpcy5kZXNrVHJpcC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5kZXNrcy5wdXNoKHRyaXApO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2tMYXkuYWRkQ2hpbGQodHJpcCk7XHJcbiAgICAgICAgICAgIHRyaXAucG9zKDAsMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hBbGxEZXNrQnlPdXRTaGlwKHNoaXBTZXQpe1xyXG4gICAgICAgIGlmKHNoaXBTZXQucGFja0lEIDwgMClyZXR1cm5cclxuXHJcbiAgICAgICAgdGhpcy5jdXJEZXNrID0gMDtcclxuXHJcbiAgICAgICAgdmFyIGFsbFNoaXBzID0gR2FtZURhdGFzLmluc3RhbmNlLnBhY2tTaGlwcztcclxuICAgICAgICB2YXIgY291bnQgPSBhbGxTaGlwcy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIHN0SW5kZXggPSBzaGlwU2V0LnBhY2tJRDtcclxuXHJcbiAgICAgICAgZm9yKHZhciBpbmRleD1zdEluZGV4O2luZGV4PGFsbFNoaXBzLmxlbmd0aDtpbmRleCsrKXtcclxuICAgICAgICAgICAgdmFyIHRyaXBJbmRleCA9IE1hdGguZmxvb3IoaW5kZXgvIDMpO1xyXG4gICAgICAgICAgICB2YXIgdHJpcCA9IHRoaXMuZGVza3NbdHJpcEluZGV4XTtcclxuICAgICAgICAgICAgdHJpcC5zZXRTaGlwKGluZGV4ICUgMyxhbGxTaGlwc1tpbmRleF0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1heFRyaXAgPSBNYXRoLmZsb29yKChjb3VudC0xKS8gMykgKyAxO1xyXG5cclxuICAgICAgICB0aGlzLmN1ckRlc2sgPSBjb3VudCAlIDM7XHJcbiAgICAgICAgaWYodGhpcy5jdXJEZXNrICE9IDApe1xyXG4gICAgICAgICAgICB2YXIgdHJpcCA9IHRoaXMuZGVza3NbbWF4VHJpcC0xXTtcclxuICAgICAgICAgICAgdHJpcC5zZXRTaGlwKHRoaXMuY3VyRGVzayxudWxsKTtcclxuICAgICAgICAgICAgaWYodGhpcy5jdXJEZXNrID09IDEpXHJcbiAgICAgICAgICAgICAgICB0cmlwLnNldFNoaXAoMixudWxsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuZGVza3MubGVuZ3RoID4gIG1heFRyaXApe1xyXG4gICAgICAgICAgICBmb3IodmFyIHRpbmRleCA9IG1heFRyaXA7dGluZGV4IDwgdGhpcy5kZXNrcy5sZW5ndGg7dGluZGV4ICsrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGVza3NbdGluZGV4XS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuZGVza3MgPSB0aGlzLmRlc2tzLnNsaWNlKDAsbWF4VHJpcClcclxuICAgIH1cclxuXHJcbiAgICBpbnNlcnRQYWNrU2hpcChzaGlwU2V0KXtcclxuICAgICAgICBpZih0aGlzLmN1ckRlc2sgPT0gMCl7XHJcbiAgICAgICAgICAgIHZhciB0cmlwID0gdGhpcy5kZXNrVHJpcC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdHJpcC5zZXRTaGlwKHRoaXMuY3VyRGVzaysrLHNoaXBTZXQpO1xyXG4gICAgICAgICAgICB0aGlzLmRlc2tzLnB1c2godHJpcCk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVza0xheS5hZGRDaGlsZCh0cmlwKTtcclxuICAgICAgICAgICAgdHJpcC5wb3MoMCwyMDAgKiAodGhpcy5kZXNrcy5sZW5ndGggLSAxKSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuZGVza3NbdGhpcy5kZXNrcy5sZW5ndGggLSAxXS5zZXRTaGlwKHRoaXMuY3VyRGVzaysrLHNoaXBTZXQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJEZXNrID0gdGhpcy5jdXJEZXNrICUgMztcclxuICAgIH1cclxuXHJcbiAgICBBbGxEZXNja1JlZnJlc2hGdWxsKCl7XHJcbiAgICAgICAgZm9yKHZhciB0cmlwIG9mIHRoaXMuZGVza3Mpe1xyXG4gICAgICAgICAgICB0cmlwLnJlZnJlc2hTaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hBbGxCdWlsZHMoKXtcclxuICAgICAgICB2YXIgY291bnQgPSBHYW1lRGF0YXMuaW5zdGFuY2UuYnVpbGRDYXA7XHJcblxyXG4gICAgICAgIGZvcih2YXIgaW5kZXg9MDtpbmRleDxjb3VudDtpbmRleCsrKXtcclxuICAgICAgICAgICAgdmFyIHRyaXAgPSB0aGlzLmJ1aWxkVHJpcC5jcmVhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5idWlsZExheS5hZGRDaGlsZCh0cmlwKTtcclxuICAgICAgICAgICAgdHJpcC5wb3MoMCwyMDUgKiBpbmRleCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRUcmlwcy5wdXNoKHRyaXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBidWlsZFRyaXBDaGVjaygpe1xyXG4gICAgICAgIGZvcih2YXIgYnJpcCBvZiB0aGlzLmJ1aWxkVHJpcHMpe1xyXG4gICAgICAgICAgICBicmlwLnJlc3VsdFJlZnJlc2goKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9zQnlJbmRleChpbmRleCl7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeDoyMDAgKiBpbmRleCxcclxuICAgICAgICAgICAgeTooaW5kZXggJSAyKSoxMjBcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlUG9zKGluZGV4MSxpbmRleDIpe1xyXG4gICAgICAgIHZhciBwb3MxID0gdGhpcy5wb3Nlc1tpbmRleDFdO1xyXG4gICAgICAgIHZhciBwb3MyID0gdGhpcy5wb3Nlc1tpbmRleDJdO1xyXG5cclxuICAgICAgICB2YXIgeHkxID0ge3g6cG9zMS54LHk6cG9zMS55fTtcclxuICAgICAgICB2YXIgeHkyID0ge3g6cG9zMi54LHk6cG9zMi55fTtcclxuXHJcbiAgICAgICAgcG9zMS5wb3NJbmRleCA9IGluZGV4MjtcclxuICAgICAgICBwb3MyLnBvc0luZGV4ID0gaW5kZXgxO1xyXG5cclxuICAgICAgICB0aGlzLnBvc2VzW2luZGV4MV0gPSBwb3MyO1xyXG4gICAgICAgIHRoaXMucG9zZXNbaW5kZXgyXSA9IHBvczE7XHJcblxyXG4gICAgICAgIHBvczEucG9zKHh5Mi54LHh5Mi55KTtcclxuICAgICAgICBwb3MyLnBvcyh4eTEueCx4eTEueSk7XHJcblxyXG4gICAgICAgIHBvczEuYmFja1BvcygpO1xyXG4gICAgICAgIHBvczIuYmFja1BvcygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlY29sbGVjdFBvcyhwaW5kZXgpe1xyXG4gICAgICAgIHRoaXMucG9zZXNbcGluZGV4XS5wbGFjZVNoaXAobnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaEFsbFByb3MocHJvcyl7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICBmb3IodmFyIHByb3NldCBvZiBwcm9zKXtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSBwcm9zZXQubmFtZTtcclxuICAgICAgICAgICAgdmFyIHByb05hbWUgPSBwcm9zZXQucHJvTmFtZTtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcm9UcmlwID0gdGhpcy5wcm9Ucmlwcy5jcmVhdGUoKTtcclxuICAgICAgICAgICAgcHJvVHJpcC5wb3MoMjUsMjUgKyBpbmRleCAqIDQwKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5mb1BhbmVsLmFkZENoaWxkKHByb1RyaXApO1xyXG5cclxuICAgICAgICAgICAgcHJvVHJpcC5zZXRQcm9OYW1lKG5hbWUpO1xyXG4gICAgICAgICAgICBwcm9UcmlwLnNldFByb0Nvbm5lY3QocHJvTmFtZSxwcm9zZXQubGVuZnVuYyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluZm9zLnB1c2gocHJvVHJpcCk7XHJcblxyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoSW5mb1Nob3coc2hpcHNldCl7XHJcbiAgICAgICAgZm9yKHZhciBwcm9UcmlwIG9mIHRoaXMuaW5mb3Mpe1xyXG4gICAgICAgICAgICBwcm9UcmlwLnJlZnJlc2hQcm8oc2hpcHNldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3dSZXMoX3Jlcyxvayx4LHksb2tDYWxsQmFjayl7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmFsdFJlcy5va0NhbGxCYWNrID0gKCk9PntcclxuICAgICAgICAgICAgb2tDYWxsQmFjaygpO1xyXG4gICAgICAgICAgICBfdGhpcy5hbHRSZXMudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBfdGhpcy5hbHRSZXMucG9zKC0xNTAsLTE1MCk7XHJcbiAgICAgICAgICAgIF90aGlzLmNvdmVyLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuYWx0UmVzLnZpc2libGUgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmFsdFJlcy5zZXRFbm91Z2gob2spO1xyXG5cclxuICAgICAgICB0aGlzLmFsdFJlcy5zZXRSZXNvdXJjZVNob3coX3Jlcyk7XHJcblxyXG4gICAgICAgIHggPSBNYXRoLm1pbig0ODAseCk7XHJcbiAgICAgICAgeSA9IE1hdGgubWluKDY2MCx5KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbHRSZXMucG9zKHgseSk7XHJcbiAgICAgICAgdGhpcy5jb3Zlci52aXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCBSZXBlYXRNb3ZlIGZyb20gXCIuLi9jb21wb25lbnRzL3JlcGVhdE1vdmVcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hpcENvbnRhaW5lciBleHRlbmRzIExheWEuU2NyaXB0e1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnNoaXBQcmUsdGlwczpcIuiIquihjOiIuVwiLHR5cGU6UHJlZmFifSAqL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnNoaXBZLHRpcHM6XCLoiKrooYzoiLlZ5Z2Q5qCHXCIsdHlwZTpJbnR9ICovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnNoaXBBcnIgPSBbXTtcclxuICAgICAgICB0aGlzLmNvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBhZGRTaGlwKF9zaGlwU2V0KXtcclxuICAgICAgICB2YXIgc2hpcEZhYiA9IHRoaXMuc2hpcFByZS5jcmVhdGUoKTtcclxuICAgICAgICBzaGlwRmFiLnNraW4gPSBfc2hpcFNldC5nZXRJY29uUGF0aCgpO1xyXG5cclxuICAgICAgICB0aGlzLm93bmVyLmFkZENoaWxkKHNoaXBGYWIpO1xyXG4gICAgICAgIHZhciBtb3ZlU2V0ID0gc2hpcEZhYi5nZXRDb21wb25lbnQoUmVwZWF0TW92ZSk7XHJcbiAgICAgICAgX3NoaXBTZXQubW92ZVNldCA9IG1vdmVTZXQ7XHJcblxyXG4gICAgICAgIHZhciB0ZXh0TWFwID0gW1wiU0FUUlRcIixcIkZPUldBUkRcIixcIlBBQ0tJTlwiLFwiQkFDS1wiLFwiUEFLQ09VVFwiXTtcclxuICAgICAgICBmb3IodmFyIGkgPS0gMjtpIDwgNztpKyspe1xyXG4gICAgICAgICAgICBtb3ZlU2V0LnNldFN0YXRlQ2FsbEJhY2soaSwocHMsY3MpPT57XHJcbiAgICAgICAgICAgICAgICBpZihfc2hpcFNldC5kb2NrUG9zICYmIGNzID49IDAgJiYgY3MgPD0gNClcclxuICAgICAgICAgICAgICAgICAgICBfc2hpcFNldC5kb2NrUG9zLnNldFdvcmtTdGF0ZSh0ZXh0TWFwW2NzXSk7XHJcbiAgICAgICAgICAgICAgICBpZihjcyA9PSA2KVxyXG4gICAgICAgICAgICAgICAgICAgIF9zaGlwU2V0LmRvY2tQb3Muc2V0V29ya1N0YXRlKFwiQkFUVExFXCIpO1xyXG4gICAgICAgICAgICAgICAgX3NoaXBTZXQudHJpZ2dlclN0YXRlKGNzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfc2hpcFNldC5zZXRDcmFzaENhbGxCYWNrKCgpPT57XHJcbiAgICAgICAgICAgIF9zaGlwU2V0LmRvY2tQb3MucmVmcmVzaFN0YXRlKCk7XHJcbiAgICAgICAgICAgIHNoaXBGYWIuc2tpbiA9IF9zaGlwU2V0LmdldEljb25QYXRoKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF9zaGlwU2V0LnNldFJlcGFpckNhbGxCYWNrKCgpPT57XHJcbiAgICAgICAgICAgIF9zaGlwU2V0LmRvY2tQb3MucmVmcmVzaFN0YXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNoaXBGYWIueSA9IHRoaXMuc2hpcFk7XHJcblxyXG4gICAgICAgIF9zaGlwU2V0LlNldFJvdXRlSW5kZXgodGhpcy5pbmRleCk7XHJcbiAgICAgICAgdGhpcy5zaGlwQXJyLnB1c2goe1xyXG4gICAgICAgICAgICBJRDp0aGlzLmluZGV4KyssXHJcbiAgICAgICAgICAgIHNoaXA6c2hpcEZhYixcclxuICAgICAgICAgICAgbW92ZVNldDptb3ZlU2V0LFxyXG4gICAgICAgICAgICBzaGlwc2V0Ol9zaGlwU2V0XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY291bnQrKztcclxuICAgICAgICBtb3ZlU2V0LnNldEJsYW5rKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9zZVNoaXAoX3NoaXBTZXQpe1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8dGhpcy5zaGlwQXJyLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5zaGlwQXJyW2ldO1xyXG4gICAgICAgICAgICBpZihvYmouc2hpcHNldCA9PSBfc2hpcFNldCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm93bmVyLnJlbW92ZUNoaWxkKG9iai5zaGlwKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudC0tO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGlwQXJyLnNwbGljZShpLDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIF9zaGlwU2V0LlNldFJvdXRlSW5kZXgoLTEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWxsU2hpcChhcnIpe1xyXG4gICAgICAgIHRoaXMub3duZXIucmVtb3ZlQ2hpbGRyZW4oKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaGlwQXJyID0gW107XHJcbiAgICAgICAgdGhpcy5jb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XHJcblxyXG4gICAgICAgIGZvcih2YXIgc2hpcCBvZiBhcnIpe1xyXG4gICAgICAgICAgICB0aGlzLmFkZFNoaXAoc2hpcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGVhY2hDb25maWcoX2Z1bmMpe1xyXG4gICAgICAgIGZvcih2YXIgb2JqIG9mIHRoaXMuc2hpcEFycil7XHJcbiAgICAgICAgICAgIF9mdW5jKG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZpeElEQ29uZmlnKElELF9mdW5jKXtcclxuICAgICAgICBmb3IodmFyIG9iaiBvZiB0aGlzLnNoaXBBcnIpe1xyXG4gICAgICAgICAgICBpZihvYmouSUQ9PUlEKSBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgX2Z1bmMob2JqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59ICAgIiwiaW1wb3J0IFRhcmdldFN3aXRjaCBmcm9tIFwiLi90YXJnZXRTd2l0Y2hcIlxyXG4gICAgXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbkZsb2F0IGV4dGVuZHMgTGF5YS5CdXR0b257XHJcbiAgICBjb25zdHJ1Y3RvcihfbGV2KXtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnJhbmtMZXYgPSBfbGV2O1xyXG4gICAgICAgIHRoaXMuY2xpY2tDYWxsQmFjayA9ICgpPT57fTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIHRoaXMubGFiZWwgPSBgUmFuazoke3RoaXMucmFua0xldn1gO1xyXG4gICAgICAgIHRoaXMub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLChldmVudCk9PntcclxuICAgICAgICAgICAgdGhpcy5jbGlja0NhbGxCYWNrKHRoaXMucmFua0xldixldmVudCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2tpbiA9IFwiaW1hZ2VzL1VJL2J1dHRvblRyaXBJbmZvLnBuZ1wiO1xyXG4gICAgICAgIHRoaXMuc3RhdGVOdW0gPSAyO1xyXG4gICAgICAgIHRoaXMubGFiZWxDb2xvcnMgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICB0aGlzLmxhYmVsU2l6ZSA9IDE2O1xyXG4gICAgICAgIC8qdGhpcy5zdHJva2VDb2xvcnMgPSBcIiMwMDAwMDBcIjtcclxuICAgICAgICB0aGlzLmxhYmVsU3Ryb2tlID0gMTsqL1xyXG4gICAgICAgIHRoaXMud2lkdGggPSA4MDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IDQwO1xyXG5cclxuICAgICAgICB2YXIgdGFyU3dpID0gdGhpcy5hZGRDb21wb25lbnQoVGFyZ2V0U3dpdGNoKTtcclxuICAgICAgICB0YXJTd2kucG9zMVggPSB0aGlzLnJhbmtMZXYgKiA4MCAtIDMwO1xyXG4gICAgICAgIHRhclN3aS5wb3MxWSA9IC00MDtcclxuICAgICAgICB0YXJTd2kucG9zMlggPSB0aGlzLnJhbmtMZXYgKiA4MCAtIDMwO1xyXG4gICAgICAgIHRhclN3aS5wb3MyWSA9IDQwO1xyXG4gICAgICAgIHRhclN3aS5zcGVlZCA9IDIwO1xyXG5cclxuICAgICAgICB0YXJTd2kub25FbmFibGUoKTtcclxuICAgICAgICB0YXJTd2kuc2V0U3RhdGUoMSk7XHJcblxyXG4gICAgICAgIHRoaXMudGFyU3dpID0gdGFyU3dpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENsaWNrQ2FsbEJhY2soX2Z1bmMpe1xyXG4gICAgICAgIHRoaXMuY2xpY2tDYWxsQmFjayA9IF9mdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaFNldCgpe1xyXG4gICAgICAgIHRoaXMudGFyU3dpLnN3aXRjaFRhcmdldCgpO1xyXG4gICAgfVxyXG5cclxufSIsIlxyXG5pbXBvcnQgQmlnTnVtIGZyb20gXCIuLi9saWJzL2JpZ251bWJlclwiXHJcblxyXG5jb25zdCBTdGF0ZSA9IHtcclxuICAgIFNUQVJUOjAsXHJcbiAgICBGT1JXQVJEOjEsXHJcbiAgICBQQUNLSU46MixcclxuICAgIEJBQ0s6MyxcclxuICAgIFBBQ0tPVVQ6NCxcclxuICAgIFJFUEFJUjo1LFxyXG4gICAgSU5URVJSQVVQVDo2LFxyXG4gICAgTk9JTkc6LTEsXHJcbiAgICBQQVVTRU5VTEw6LTJcclxufTtcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXBlYXRNb3ZlIGV4dGVuZHMgTGF5YS5TY3JpcHR7XHJcbiAgICAvKiogQHByb3Age25hbWU6cmVhbFN0YXJ0WCx0aXBzOlwi6Iiq6Lev5byA5aeL55qEWOWdkOagh1wiLHR5cGU6SW50fSAqL1xyXG4gICAgLyoqIEBwcm9wIHtuYW1lOnJlYWxFbmRYLHRpcHM6XCLoiKrot6/nu5PmnZ/nmoRY5Z2Q5qCHXCIsdHlwZTpJbnR9ICovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RBUlQ7XHJcbiAgICAgICAgdGhpcy5ldmVudE1hcCA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSA1MDtcclxuICAgICAgICB0aGlzLnBhY2t0aW1lID0gNjA7XHJcbiAgICAgICAgdGhpcy5pbnRlclByb2IgPSAwLjE1O1xyXG4gICAgICAgIHRoaXMubGluZUxlbmd0aCA9IDUwMDtcclxuXHJcbiAgICAgICAgdGhpcy5zYWZlRml4ID0gWzEwMCwxMDBdO1xyXG4gICAgICAgIHRoaXMuc2FmZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pbnRlckJlZm9yZSA9IFN0YXRlLlNUQVJUO1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVDb3VudCA9IEJpZ051bSgwKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVEYXRhV2l0aFJlYWxMZW5ndGgoKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVEYXRhV2l0aFJlYWxMZW5ndGgoKXtcclxuICAgICAgICB0aGlzLnJlYWxMZW5ndGggPSB0aGlzLnJlYWxFbmRYIC0gdGhpcy5yZWFsU3RhcnRYO1xyXG5cclxuICAgICAgICB2YXIgcGVyID0gdGhpcy5yZWFsTGVuZ3RoIC8gdGhpcy5saW5lTGVuZ3RoO1xyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkICo9IHBlcjtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTYWZlTGVuZ3RoKCl7XHJcbiAgICAgICAgdGhpcy5tb3ZlQ291bnQgPSBCaWdOdW0oMCk7XHJcblxyXG4gICAgICAgIHZhciBzYWZlTWluID0gdGhpcy5zYWZlRml4WzBdO1xyXG4gICAgICAgIHZhciBzYWZlR2FwID0gdGhpcy5zYWZlRml4WzFdIC0gdGhpcy5zYWZlRml4WzBdO1xyXG5cclxuICAgICAgICB0aGlzLnNhZmVDb3VudCA9IChNYXRoLnJhbmRvbSgpICogc2FmZUdhcCArIHNhZmVNaW4pICogdGhpcy5yZWFsTGVuZ3RoIC8gMTAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmZpZ0FsbERhdGEoX2NvbmZpZyl7XHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLF9jb25maWcpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRGF0YVdpdGhSZWFsTGVuZ3RoKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTYWZlTGVuZ3RoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLnN0YXRlID09IFN0YXRlLlNUQVJUKXtcclxuICAgICAgICAgICAgdGhpcy5DaGVja0JlZm9yZU1vdmUoKTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnN0YXRlID09IFN0YXRlLkZPUldBUkQpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVGb3J3YXJkKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJydXB0KCk7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5zdGF0ZSA9PSBTdGF0ZS5QQUNLSU4pe1xyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKFN0YXRlLk5PSU5HKTtcclxuICAgICAgICAgICAgTGF5YS50aW1lci5mcmFtZU9uY2UodGhpcy5wYWNrdGltZSx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKFN0YXRlLkJBQ0spO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnN0YXRlID09IFN0YXRlLkJBQ0spe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVCYWNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlSW50ZXJydXB0KCk7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5zdGF0ZSA9PSBTdGF0ZS5QQUNLT1VUKXtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShTdGF0ZS5OT0lORyk7XHJcbiAgICAgICAgICAgIExheWEudGltZXIuZnJhbWVPbmNlKHRoaXMucGFja3RpbWUsdGhpcywoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShTdGF0ZS5GT1JXQVJEKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5zdGF0ZSA9PSBTdGF0ZS5JTlRFUlJBVVBUKXtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIENoZWNrQmVmb3JlTW92ZSgpe1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoU3RhdGUuRk9SV0FSRCk7XHJcbiAgICAgICAgdGhpcy5vd25lci54ID0gdGhpcy5yZWFsU3RhcnRYO1xyXG4gICAgfVxyXG5cclxuICAgIG1vdmVGb3J3YXJkKCl7XHJcbiAgICAgICAgdmFyIHRlbXBTZXQgPSB0aGlzLm93bmVyLng7XHJcbiAgICAgICAgdGhpcy5vd25lci54ICs9IHRoaXMubW92ZVNwZWVkO1xyXG4gICAgICAgIHRoaXMub3duZXIuc2NhbGVYID0gMTtcclxuICAgICAgICBpZih0aGlzLm93bmVyLnggPj0gdGhpcy5yZWFsRW5kWCl7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZUNvdW50ID0gdGhpcy5tb3ZlQ291bnQucGx1cyhCaWdOdW0odGhpcy5yZWFsRW5kWCAtIHRlbXBTZXQpKTtcclxuICAgICAgICAgICAgdGhpcy5vd25lci54ID0gdGhpcy5yZWFsRW5kWDtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShTdGF0ZS5QQUNLSU4pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVDb3VudCA9IHRoaXMubW92ZUNvdW50LnBsdXMoQmlnTnVtKHRoaXMubW92ZVNwZWVkKSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbW92ZUJhY2soKXtcclxuICAgICAgICB2YXIgdGVtcFNldCA9IHRoaXMub3duZXIueDtcclxuICAgICAgICB0aGlzLm93bmVyLnggLT0gdGhpcy5tb3ZlU3BlZWQ7XHJcbiAgICAgICAgdGhpcy5vd25lci5zY2FsZVggPSAtMTtcclxuICAgICAgICBpZih0aGlzLm93bmVyLnggPD0gdGhpcy5yZWFsU3RhcnRYKXtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ291bnQgPSB0aGlzLm1vdmVDb3VudC5wbHVzKEJpZ051bSh0ZW1wU2V0IC0gdGhpcy5yZWFsU3RhcnRYKSk7XHJcbiAgICAgICAgICAgIHRoaXMub3duZXIueCA9IHRoaXMucmVhbFN0YXJ0WDtcclxuICAgICAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShTdGF0ZS5QQUNLT1VUKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlQ291bnQgPSB0aGlzLm1vdmVDb3VudC5wbHVzKEJpZ051bSh0aGlzLm1vdmVTcGVlZCkpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZUludGVycnVwdCgpe1xyXG4gICAgICAgIGlmKHRoaXMuc3RhdGUgIT0gU3RhdGUuUEFDS09VVCAmJiB0aGlzLnN0YXRlICE9IFN0YXRlLlBBQ0tJTil7XHJcbiAgICAgICAgICAgIGlmKHRoaXMubW92ZUNvdW50Lmd0KHRoaXMuc2FmZUNvdW50KSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyQmVmb3JlID0gdGhpcy5zdGF0ZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlU3RhdGUoU3RhdGUuSU5URVJSQVVQVCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNhZmVMZW5ndGgoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZUJhY2tJbnRlcigpe1xyXG4gICAgICAgIHRoaXMuY2hhbmdlU3RhdGUodGhpcy5pbnRlckJlZm9yZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhbmdlU3RhdGUoX3N0YXRlKXtcclxuICAgICAgICB2YXIgcGVyU3RhdGUgPSB0aGlzLnN0YXRlO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBfc3RhdGU7XHJcbiAgICAgICAgaWYodGhpcy5ldmVudE1hcFtfc3RhdGVdKXtcclxuICAgICAgICAgICAgdGhpcy5ldmVudE1hcFtfc3RhdGVdKHBlclN0YXRlLF9zdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFN0YXRlQ2FsbEJhY2soc3RhdGUsX2Z1bmMpe1xyXG4gICAgICAgIHRoaXMuZXZlbnRNYXBbc3RhdGVdID0gX2Z1bmM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmxhbmsoKXtcclxuICAgICAgICB0aGlzLmNoYW5nZVN0YXRlKFN0YXRlLlBBVVNFTlVMTCk7XHJcbiAgICAgICAgdGhpcy5vd25lci52aXNpYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRNb3ZlKCl7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTdGF0ZShTdGF0ZS5TVEFSVCk7XHJcblxyXG4gICAgICAgIHRoaXMub3duZXIudmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vd25lci54ID0gdGhpcy5yZWFsU3RhcnRYO1xyXG4gICAgICAgIHRoaXMub3duZXIuc2NhbGVYID0gMTtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhcmdldFN3aXRjaCBleHRlbmRzIExheWEuU2NyaXB0e1xyXG5cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpwb3MxWCx0aXBzOlwi5L2N572uMVjlnZDmoIdcIix0eXBlOkludH0gKi9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpwb3MxWSx0aXBzOlwi5L2N572uMVnlnZDmoIdcIix0eXBlOkludH0gKi9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpwb3MyWCx0aXBzOlwi5L2N572uMljlnZDmoIdcIix0eXBlOkludH0gKi9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpwb3MyWSx0aXBzOlwi5L2N572uMlnlnZDmoIdcIix0eXBlOkludH0gKi9cclxuICAgIC8qKiBAcHJvcCB7bmFtZTpzcGVlZCx0aXBzOlwi56e75Yqo6YCf5bqmXCIsdHlwZTpJbnR9ICovXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc3RhdGUgPSAxO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgdGhpcy5wb3MxID0gbmV3IExheWEuUG9pbnQodGhpcy5wb3MxWCx0aGlzLnBvczFZKTtcclxuICAgICAgICB0aGlzLnBvczIgPSBuZXcgTGF5YS5Qb2ludCh0aGlzLnBvczJYLHRoaXMucG9zMlkpO1xyXG5cclxuICAgICAgICB2YXIgZGlzMSA9IHRoaXMucG9zMS5kaXN0YW5jZSh0aGlzLm93bmVyLngsdGhpcy5vd25lci55KTtcclxuICAgICAgICB2YXIgZGlzMiA9IHRoaXMucG9zMi5kaXN0YW5jZSh0aGlzLm93bmVyLngsdGhpcy5vd25lci55KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGRpczIgPiBkaXMxID8gMSA6IDI7XHJcbiAgICB9XHJcblxyXG4gICAgb25VcGRhdGUoKXtcclxuICAgICAgICBpZih0aGlzLnN0YXRlID09IDEpe1xyXG4gICAgICAgICAgICB0aGlzLnBhY2VUb1RhcmdldCh0aGlzLnBvczEpO1xyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuc3RhdGUgPT0gMil7XHJcbiAgICAgICAgICAgIHRoaXMucGFjZVRvVGFyZ2V0KHRoaXMucG9zMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhY2VUb1RhcmdldChwb2ludCl7XHJcbiAgICAgICAgdmFyIGN1cnBvc1ggPSB0aGlzLm93bmVyLng7XHJcbiAgICAgICAgdmFyIGN1cnBvc1kgPSB0aGlzLm93bmVyLnk7XHJcblxyXG4gICAgICAgIGlmKHBvaW50LmRpc3RhbmNlKGN1cnBvc1gsY3VycG9zWSkgPCA1KXJldHVybjtcclxuXHJcbiAgICAgICAgaWYocG9pbnQuZGlzdGFuY2UoY3VycG9zWCxjdXJwb3NZKSA8IHRoaXMuc3BlZWQpe1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnBvcyhwb2ludC54LHBvaW50LnkpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB2YXIgb2ZmUG9pbnQgPSBuZXcgTGF5YS5Qb2ludChwb2ludC54IC0gY3VycG9zWCxwb2ludC55IC0gY3VycG9zWSk7XHJcbiAgICAgICAgICAgIG9mZlBvaW50Lm5vcm1hbGl6ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm93bmVyLnBvcyhjdXJwb3NYICsgb2ZmUG9pbnQueCAqIHRoaXMuc3BlZWQsY3VycG9zWSArIG9mZlBvaW50LnkgKiB0aGlzLnNwZWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoVGFyZ2V0KCl7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSgzIC0gdGhpcy5zdGF0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U3RhdGUoX3N0YXRlKXtcclxuICAgICAgICB0aGlzLnN0YXRlID0gX3N0YXRlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFNoaXAgZnJvbSBcIi4uL2RhdGEvc2hpcFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWlsZExpc3R7XHJcbiAgICBjb25zdHJ1Y3RvcihfcmFuayl7XHJcbiAgICAgICAgdGhpcy5yYW5rID0gX3JhbmsgLSAxO1xyXG4gICAgICAgIHRoaXMuc3RUaW1lID0gbmV3IERhdGUoKTtcclxuICAgICAgICB0aGlzLmJpZCA9IHRoaXMucmFuZG9tQ29kZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRCdWlsZE1hcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRCdWlsZE1hcCgpe1xyXG4gICAgICAgIHRoaXMuYnVpbGRNYXAgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5lZWQ6WzUwMCw1MDAsNTAwLDBdLFxyXG4gICAgICAgICAgICAgICAgdENvc3Q6MzBcclxuICAgICAgICAgICAgfSx7XHJcbiAgICAgICAgICAgICAgICBuZWVkOls2MDAwLDYwMDAsNjAwMCw1MF0sXHJcbiAgICAgICAgICAgICAgICB0Q29zdDoxODBcclxuICAgICAgICAgICAgfSx7XHJcbiAgICAgICAgICAgICAgICBuZWVkOlsnNzAwMDAwJywnNzAwMDAwJywnNzAwMDAwJyw0MDBdLFxyXG4gICAgICAgICAgICAgICAgdENvc3Q6MTA4MFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICByYW5kb21Db2RlKCl7XHJcbiAgICAgICAgcmV0dXJuIGAke01hdGgucmFuZG9tKCl9YC5zbGljZSgyLC0xKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUaW1lTGVmdCgpe1xyXG4gICAgICAgIHZhciB0Q29zdCA9IHRoaXMuYnVpbGRNYXBbdGhpcy5yYW5rXS50Q29zdDtcclxuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICB2YXIgdGltZVBhc3MgPSAobm93IC0gdGhpcy5zdFRpbWUpIC8gMTAwMDtcclxuICAgICAgICByZXR1cm4gdENvc3QgLSB0aW1lUGFzcztcclxuICAgIH1cclxuXHJcbiAgICBjaGVja09LKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGltZUxlZnQoKSA8PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJ1aWxkUmVzdWx0KCl7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaGlwKDAsLTEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9ja3tcclxuICAgIGNvbnN0cnVjdG9yKGx2bCl7XHJcblxyXG4gICAgICAgIHRoaXMuc2hpcENoYW5nZUNhbGxCYWNrID0gKCk9Pnt9O1xyXG5cclxuICAgICAgICB0aGlzLmluaXREb2NrTWFwKCk7XHJcbiAgICAgICAgdGhpcy5TZXRMZXZlbChsdmwpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXREb2NrTWFwKCl7XHJcbiAgICAgICAgdGhpcy5wcm9NYXAgPSBbXHJcbiAgICAgICAgICAgIHtjYXA6NCxsZXZlbDpbMjAwMCwyMDAwLDIwMDAsMTAwXX0sXHJcbiAgICAgICAgICAgIHtjYXA6NSxsZXZlbDpbMjAwMDAwLDIwMDAwMCwyMDAwMDAsMTAwMF19LFxyXG4gICAgICAgICAgICB7Y2FwOjYsbGV2ZWw6WzAsMCwwLDBdfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgdGhpcy5kb2NrU2V0ID0ge307XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RG9ja0NhbGxCYWNrKF9mdW5jKXtcclxuICAgICAgICB0aGlzLnNoaXBDaGFuZ2VDYWxsQmFjayA9IF9mdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIExldmVsVVAoKXtcclxuICAgICAgICB0aGlzLlNldExldmVsKHRoaXMubGV2ZWwgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICBTZXRMZXZlbChfbHZsKXtcclxuICAgICAgICB0aGlzLmxldmVsID0gX2x2bDtcclxuICAgICAgICB2YXIgY3VyUHJvID0gdGhpcy5wcm9NYXBbdGhpcy5sZXZlbF07XHJcbiAgICAgICAgdGhpcy5zaGlwQ2FwID0gY3VyUHJvLmNhcDtcclxuICAgICAgICB0aGlzLmxldmVsVXAgPSBjdXJQcm8ubGV2ZWw7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0U2hpcENhcCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBDYXA7XHJcbiAgICB9XHJcblxyXG4gICAgR2V0U2hpcFNldChfaW5kZXgpe1xyXG4gICAgICAgIGlmKHRoaXMuZG9ja1NldC5oYXNPd25Qcm9wZXJ0eShfaW5kZXgpKXtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9ja1NldFtfaW5kZXhdO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb3V0U2hpcChfaW5kZXgpe1xyXG4gICAgICAgIHRoaXMuc2hpcENoYW5nZUNhbGxCYWNrKFwiYnVzeVwiLF9pbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJvcFNoaXAoX2luZGV4KXtcclxuICAgICAgICB0aGlzLnNoaXBDaGFuZ2VDYWxsQmFjayhcInJlc3VtZVwiLF9pbmRleCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCIuLi9saWJzL2JpZ251bWJlci5qc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNvdXJjZXtcclxuICAgIGNvbnN0cnVjdG9yKF9hcnIpe1xyXG4gICAgICAgIHZhciBhcnIgPSBfYXJyID8gX2FyciA6IFswLDAsMCwwXTtcclxuICAgICAgICB0aGlzLnJlc051bSA9IHtcclxuICAgICAgICAgICAgb2lsOm5ldyBCaWdOdW1iZXIoYXJyWzBdKSxcclxuICAgICAgICAgICAgYW1tbzpuZXcgQmlnTnVtYmVyKGFyclsxXSksXHJcbiAgICAgICAgICAgIHN0ZWVsOm5ldyBCaWdOdW1iZXIoYXJyWzJdKSxcclxuICAgICAgICAgICAgQWw6bmV3IEJpZ051bWJlcihhcnJbM10pXHJcbiAgICAgICAgfTtcclxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsdGhpcy5yZXNOdW0pO1xyXG4gICAgICAgIHRoaXMuY2hhbmdlQ2FsbEJhY2tNYXAgPSB7fVxyXG4gICAgICAgIHRoaXMuY2hhbmdlQ2FsbEJhY2sgPSAocmVzKT0+e1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLmNoYW5nZUNhbGxCYWNrTWFwKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2hhbmdlQ2FsbEJhY2tNYXAuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB0aGlzLmNoYW5nZUNhbGxCYWNrTWFwW2tleV0pe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2FsbEJhY2tNYXBba2V5XShyZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByYW5kb21SZXNvdWNlKG1heEFycixjYXBTZXQpe1xyXG4gICAgICAgIHRoaXMucmVzTnVtLm9pbCA9IEJpZ051bWJlcihtYXhBcnJbMF0pLnRpbWVzKE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHRoaXMucmVzTnVtLmFtbW8gPSBCaWdOdW1iZXIobWF4QXJyWzFdKS50aW1lcyhNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICB0aGlzLnJlc051bS5zdGVlbCA9IEJpZ051bWJlcihtYXhBcnJbMl0pLnRpbWVzKE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHRoaXMucmVzTnVtLkFsID0gQmlnTnVtYmVyKG1heEFyclszXSkudGltZXMoTWF0aC5yYW5kb20oKSk7XHJcblxyXG4gICAgICAgIHZhciBzdW0gPSB0aGlzLnJlc051bS5vaWwucGx1cyh0aGlzLnJlc051bS5hbW1vKS5wbHVzKHRoaXMucmVzTnVtLnN0ZWVsKS5wbHVzKHRoaXMucmVzTnVtLkFsKTtcclxuXHJcbiAgICAgICAgdmFyIGNhcCA9IEJpZ051bWJlcihjYXBTZXQpO1xyXG4gICAgICAgIGlmKHN1bS5ndChjYXApKXtcclxuICAgICAgICAgICAgdmFyIGZpeCA9IGNhcC5kaXYoc3VtKTtcclxuICAgICAgICAgICAgdGhpcy5yZXNOdW0ub2lsID0gdGhpcy5yZXNOdW0ub2lsLnRpbWVzKGZpeCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzTnVtLmFtbW8gPSB0aGlzLnJlc051bS5hbW1vLnRpbWVzKGZpeCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVzTnVtLnN0ZWVsID0gdGhpcy5yZXNOdW0uc3RlZWwudGltZXMoZml4KTtcclxuICAgICAgICAgICAgdGhpcy5yZXNOdW0uQWwgPSB0aGlzLnJlc051bS5BbC50aW1lcyhmaXgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXNvdXJjZShuYW1lKVxyXG4gICAge1xyXG4gICAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMucmVzTnVtKS5pbmRleChuYW1lKSA+PSAwKVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXNOdW1baW5kZXhdO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRPYmooKXtcclxuICAgICAgICB2YXIgcmVzID0ge307XHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5yZXNOdW0pe1xyXG4gICAgICAgICAgICBpZih0aGlzLnJlc051bS5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgIHZhciBudW1iZXIgPSBCaWdOdW1iZXIodGhpcy5yZXNOdW1ba2V5XSk7XHJcbiAgICAgICAgICAgICAgICBpZighbnVtYmVyLmVxKDApKVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc1trZXldID0gbnVtYmVyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpbnREZWJ1Zygpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBSZXNvdXJjZTpbb2lsXToke3RoaXMucmVzTnVtLm9pbC50b1VuaXQoKX1cXG5bYW1tb106JHt0aGlzLnJlc051bS5hbW1vLnRvVW5pdCgpfVxcbltzdGVlbF06JHt0aGlzLnJlc051bS5zdGVlbC50b1VuaXQoKX1cXG5bQWxdOiR7dGhpcy5yZXNOdW0uQWwudG9Vbml0KCl9XFxuYCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29zdFJlcyhjb3N0KXtcclxuICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLnJlc051bSl7XHJcbiAgICAgICAgICAgIHZhciBjaGFuZ2VOdW1iZXIgPSBCaWdOdW1iZXIoY29zdFtrZXldKTtcclxuICAgICAgICAgICAgaWYodGhpcy5yZXNOdW0uaGFzT3duUHJvcGVydHkoa2V5KSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlc051bVtrZXldID0gdGhpcy5yZXNOdW1ba2V5XS5taW51cyhjaGFuZ2VOdW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhbmdlQ2FsbEJhY2suY2FsbCh0aGlzLHRoaXMucmVzTnVtKTtcclxuICAgIH1cclxuXHJcbiAgICByZXNvdXJjZUNoYW5nZShjaGFuZ2Upe1xyXG4gICAgICAgIGZvcih2YXIga2V5IGluIHRoaXMucmVzTnVtKXtcclxuICAgICAgICAgICAgdmFyIGNoYW5nZU51bWJlciA9IEJpZ051bWJlcihjaGFuZ2Vba2V5XSk7XHJcbiAgICAgICAgICAgIGlmKHRoaXMucmVzTnVtLmhhc093blByb3BlcnR5KGtleSkpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNOdW1ba2V5XSA9IHRoaXMucmVzTnVtW2tleV0ucGx1cyhjaGFuZ2VOdW1iZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhbmdlQ2FsbEJhY2suY2FsbCh0aGlzLHRoaXMucmVzTnVtKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1Jlc291cmNlKG5lZWQpe1xyXG4gICAgICAgIGZvcih2YXIga2V5IGluIHRoaXMucmVzTnVtKXtcclxuICAgICAgICAgICAgdmFyIG1hcE51bWJlciA9IEJpZ051bWJlcihuZWVkW2tleV0pO1xyXG4gICAgICAgICAgICBpZih0aGlzLnJlc051bS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNOdW1ba2V5XS5sdChtYXBOdW1iZXIpKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRDaGFuZ2VDYWxsQmFjayhmdW5jLGtleSl7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VDYWxsQmFja01hcFtrZXldID0gZnVuYztcclxuICAgIH1cclxufVxyXG4iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm91dGV7XHJcbiAgICBjb25zdHJ1Y3RvcihpZCxsdmwpe1xyXG4gICAgICAgIHRoaXMuaW5pdFJvdXRlTWFwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hpcE9uID0gW107XHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50Um91dGUoaWQsbHZsKTtcclxuICAgICAgICB0aGlzLnBsYWNlQ2FsbEJhY2sgPSAoKT0+e307XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFJvdXRlTWFwKCl7XHJcbiAgICAgICAgdGhpcy5wcm9wTWFwID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiRmlyc3QgUm91dGVcIixcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOjEwMDAwLFxyXG4gICAgICAgICAgICAgICAgYmFja1BhdGg6XCJpbWFnZXMvUm91dGVCRy5wbmdcIixcclxuICAgICAgICAgICAgICAgIHJlc291cmNlOltcclxuICAgICAgICAgICAgICAgICAgICBbMTUwLDIwLDIwMCwxXSxcclxuICAgICAgICAgICAgICAgICAgICBbMjAwLDUwLDI1MCwyXSxcclxuICAgICAgICAgICAgICAgICAgICBbMjIwLDEwMCwzMDAsNV1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBzYWZlRml4OltbMTQ1LDgyM10sWzIwMCw5MDBdLFs0MDAsMTIwMF1dLFxyXG4gICAgICAgICAgICAgICAgc2FmZU1heDpbNTAsNDAsMzBdLFxyXG4gICAgICAgICAgICAgICAgbWF4U2hpcDpbMiwzLDRdLFxyXG4gICAgICAgICAgICAgICAgbGV2ZWw6W1xyXG4gICAgICAgICAgICAgICAgICAgIFsxMDAwLDUwMCwxMDAwLDEwXSxcclxuICAgICAgICAgICAgICAgICAgICBbJzYwMDAwJywxNDAwLCc3NTAwMCcsMjUwXSxcclxuICAgICAgICAgICAgICAgICAgICBbMCwwLDAsMF1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICB1bmxvY2s6W1xyXG4gICAgICAgICAgICAgICAgICAgIFswLDAsMCwwXSxcclxuICAgICAgICAgICAgICAgICAgICBbMCwwLDAsMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgWzAsMCwwLDBdXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgbWF4TGV2ZWw6M1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiRGFuZ2VyIFJvdXRlXCIsXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZTpbNTAwMDBdLFxyXG4gICAgICAgICAgICAgICAgYmFja1BhdGg6XCJpbWFnZXMvUm91dGVCRzIucG5nXCIsXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZTpbXHJcbiAgICAgICAgICAgICAgICAgICAgWzEwMDAsNTAwMCwzNTAwLDQwXVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIHNhZmVGaXg6W1sxMjIsNTc3XV0sXHJcbiAgICAgICAgICAgICAgICBzYWZlTWF4OlsyMDBdLFxyXG4gICAgICAgICAgICAgICAgbWF4U2hpcDpbMl0sXHJcbiAgICAgICAgICAgICAgICB1bmxvY2s6W1snODAwMDAnLCc4MDAwMCcsJzgwMDAwJywnMTAwMCddXSxcclxuICAgICAgICAgICAgICAgIG1heExldmVsOjFcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTpcIkxhc3QgUm91dGVcIixcclxuICAgICAgICAgICAgICAgIGRpc3RhbmNlOlsyMDAwMDBdLFxyXG4gICAgICAgICAgICAgICAgYmFja1BhdGg6W1wiaW1hZ2VzL1JvdXRlQkczLnBuZ1wiXSxcclxuICAgICAgICAgICAgICAgIHJlc291cmNlOltcclxuICAgICAgICAgICAgICAgICAgICBbNjAwMCw0MjAwLDEzMDAwLDYwMF1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBzYWZlRml4OltbOTgsMzI0XV0sXHJcbiAgICAgICAgICAgICAgICBzYWZlTWF4Ols0MDBdLFxyXG4gICAgICAgICAgICAgICAgbWF4U2hpcDpbMl0sXHJcbiAgICAgICAgICAgICAgICBtYXhMZXZlbDoxXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEN1cnJlbnRSb3V0ZShfaWQsX2x2bCl7XHJcbiAgICAgICAgdGhpcy5yb3V0ZUlEID0gX2lkO1xyXG4gICAgICAgIHRoaXMuY3VyTGV2ZWwgPSBfbHZsO1xyXG5cclxuICAgICAgICB2YXIgZGF0YUFsbExldmVsID0gdGhpcy5wcm9wTWFwW19pZF07XHJcbiAgICAgICAgdGhpcy5jdXJEYXRhID0ge307XHJcblxyXG4gICAgICAgIGZvcih2YXIga2V5IGluIGRhdGFBbGxMZXZlbCl7XHJcbiAgICAgICAgICAgIGlmKGRhdGFBbGxMZXZlbC5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGRhdGFBbGxMZXZlbFtrZXldO1xyXG4gICAgICAgICAgICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1ckRhdGFba2V5XSA9IHZhbHVlW3RoaXMuY3VyTGV2ZWxdO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJEYXRhW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBsZXZlbFVQKCl7XHJcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50Um91dGUodGhpcy5yb3V0ZUlELHRoaXMuY3VyTGV2ZWwgKyAxKTtcclxuICAgIH1cclxuXHJcbiAgICBpc01heExldmVsKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VyTGV2ZWwgPj0gdGhpcy5jdXJEYXRhLm1heExldmVsIC0gMTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQbGFjZUNhbGxCYWNrKF9mdW5jKXtcclxuICAgICAgICB0aGlzLnBsYWNlQ2FsbEJhY2sgPSBfZnVuYztcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZVNoaXAoX3NoaXBTZXQpe1xyXG4gICAgICAgIHRoaXMuc2hpcE9uLnB1c2goX3NoaXBTZXQpO1xyXG4gICAgICAgIF9zaGlwU2V0LnBsYWNlT25Sb3V0ZSh0aGlzKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGFjZUNhbGxCYWNrKF9zaGlwU2V0KTtcclxuICAgIH1cclxuXHJcbiAgICBzaGlwRnVsbCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNoaXBPbi5sZW5ndGggPj0gdGhpcy5jdXJEYXRhLm1heFNoaXA7XHJcbiAgICB9XHJcblxyXG4gICAgc2hpcENvdW50KCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hpcE9uLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBsb3NlU2hpcChfc2hpcFNldCl7XHJcbiAgICAgICAgZm9yKHZhciBpPTA7aTx0aGlzLnNoaXBPbi5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgaWYodGhpcy5zaGlwT25baV0gPT0gX3NoaXBTZXQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGlwT24uc3BsaWNlKGksMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBsYWNlQ2FsbEJhY2sobnVsbCxfc2hpcFNldCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGlzdGFuY2UoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5jdXJEYXRhLmRpc3RhbmNlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVEYXRhcyBmcm9tIFwiLi4vbWFuYWdlci9HYW1lRGF0YXNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hpcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihfaWQsX2NpZCl7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFNoaXBNYXAoKTtcclxuXHJcbiAgICAgICAgLy90aGlzLnNoaXBJRCA9IF9pZDsgICAgICAvL+iIueeahOagh+iusElEXHJcbiAgICAgICAgLy90aGlzLkNhZ0lEID0gX2NpZDsgICAgICAvL+eOqeWutuiIueeahOiOt+W+l0lEXHJcblxyXG4gICAgICAgIHRoaXMuaW5zRGF0YSA9IHt9OyAgICAgICAgLy/lvZPliY3lrp7kvovnmoTmlbDmja7vvIzljIXmi6zljYfnuqfnrYnmlbDmja5cclxuICAgICAgICB0aGlzLmRhdGEgPSB7fTsgICAgICAgICAvL+iIueacrOi6q+eahOaVsOaNrlxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlVHJpZ2dlck1hcCA9IHt9O1xyXG4gICAgICAgIHRoaXMuc2VsZlRyaWdnZXIgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5yb3V0ZU9uID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJvdXRlSW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgdGhpcy5kb2NrUG9zID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJzdGF0ZSA9IC0xOyAvL0lETEVcclxuICAgICAgICB0aGlzLmNyYXNoID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuY3Jhc2hDYWxsQmFjayA9ICgpPT57fTtcclxuICAgICAgICB0aGlzLnJlcGFpckNhbGxCYWNrID0gKCk9Pnt9O1xyXG5cclxuICAgICAgICB0aGlzLlNldFNoaXBJRChfaWQpO1xyXG4gICAgICAgIHRoaXMuU2V0U2hpcENhZ0lEKF9jaWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRTaGlwTWFwKCl7XHJcbiAgICAgICAgdGhpcy5TaGlwTWFwID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOlwiQUFBXCIsXHJcbiAgICAgICAgICAgICAgICBpY29uUGF0aDpcImltYWdlcy9zaGlwcy9TaGlwXzFfYS5wbmdcIixcclxuICAgICAgICAgICAgICAgIGNyYXNoSWNvblBhdGg6XCJpbWFnZXMvc2hpcHMvU2hpcF8xX2IucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBiYXNlU3BlZWQ6WzUwLDEzMF0sXHJcbiAgICAgICAgICAgICAgICBiYXNlTG9hZDpbNjAsNTBdLFxyXG4gICAgICAgICAgICAgICAgbWF4Y2FwOls1MCw4MF0sXHJcbiAgICAgICAgICAgICAgICBiYXR0bGU6WzIwLDI1XSxcclxuICAgICAgICAgICAgICAgIHJlcGFpcjpbMTAsOF0sXHJcbiAgICAgICAgICAgICAgICBhdXRvUmU6W2ZhbHNlLHRydWVdLFxyXG4gICAgICAgICAgICAgICAgbGV2ZWw6W1sxMCwxMCwxMCwwXSxbMTIwLDEyMCwxMjAsMTBdXSxcclxuICAgICAgICAgICAgICAgIGRlc2M6XCLnroDku4sxMjM0NTZZVUVcIixcclxuICAgICAgICAgICAgICAgIHJhbms6MCxcclxuICAgICAgICAgICAgICAgIHJhbmtXaWdodDoyNTAsXHJcbiAgICAgICAgICAgICAgICBsdmxpbToyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6XCJCQkJcIixcclxuICAgICAgICAgICAgICAgIGljb25QYXRoOlwiaW1hZ2VzL3NoaXBzL1NoaXBfMl9hLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgY3Jhc2hJY29uUGF0aDpcImltYWdlcy9zaGlwcy9TaGlwXzJfYi5wbmdcIixcclxuICAgICAgICAgICAgICAgIGJhc2VTcGVlZDpbODAsMjAwLDIyMF0sXHJcbiAgICAgICAgICAgICAgICBiYXNlTG9hZDpbMTIwLDEwMCw4MF0sXHJcbiAgICAgICAgICAgICAgICBtYXhjYXA6WzE1MCwyMDAsMjIwXSxcclxuICAgICAgICAgICAgICAgIGJhdHRsZTpbMjUsMzAsNTBdLFxyXG4gICAgICAgICAgICAgICAgcmVwYWlyOlsyMCwxMCwxMl0sXHJcbiAgICAgICAgICAgICAgICBhdXRvUmU6W3RydWUsdHJ1ZSx0cnVlXSxcclxuICAgICAgICAgICAgICAgIGRlc2M6XCLnrKzkuozkuKroiLnnmoTnroDku4sxMjM0NTZBY2VrYXNkXCIsXHJcbiAgICAgICAgICAgICAgICByYW5rOjAsXHJcbiAgICAgICAgICAgICAgICByYW5rV2lnaHQ6MTUwLFxyXG4gICAgICAgICAgICAgICAgbHZsaW06M1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBTZXRTaGlwSUQoX2lkKXtcclxuICAgICAgICB0aGlzLnNoaXBJRCA9IF9pZDtcclxuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLlNoaXBNYXBbX2lkXTtcclxuICAgIH1cclxuXHJcbiAgICBHZXRKb2JUZXh0KCl7XHJcbiAgICAgICAgaWYodGhpcy5kb2NraWQgPCAwKXtcclxuICAgICAgICAgICAgcmV0dXJuIFwi5LuT5bqT5Lit5a2Y5pS+4oCm4oCmXCI7Ly/mmL7nhLbkuI3kvJrlh7rnjrDlnKjkv6Hmga/kuK1cclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnJvdXRlT24gIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY3Jhc2gpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGDoiKrpgZMke3RoaXMucm91dGVPbi5jdXJEYXRhLm5hbWV9IOWPl+aNn+i/lOiIquS4rWA7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGDoiKrpgZMke3RoaXMucm91dGVPbi5jdXJEYXRhLm5hbWV9IOato+W4uOW3peS9nOS4rWA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYodGhpcy5jcmFzaCAmJiAhdGhpcy5yZXBhaXIpe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGDoiLnlnZ7kuK3nrYnlvoXkv67nkIZgO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnJlcGFpcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYOS/rueQhuS4rWA7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGDoiLnlnZ7kuK3nrYnlvoXku7vliqFgO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFNldFNoaXBDYWdJRChfY2lkKXtcclxuICAgICAgICBpZihfY2lkPDApcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLkNhZ0lEID0gX2NpZDtcclxuICAgICAgICB0aGlzLmluc0RhdGEgPSBHYW1lRGF0YXMuaW5zdGFuY2UuZ2V0Q2FnU2hpcChfY2lkKTtcclxuICAgICAgICB0aGlzLlNldFNoaXBJRCh0aGlzLmluc0RhdGEuc2hpcElEKTtcclxuXHJcbiAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLHRoaXMuaW5zRGF0YSk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VyRGF0YSA9IHt9O1xyXG4gICAgICAgIGZvcih2YXIga2V5IGluIHRoaXMuZGF0YSl7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0aGlzLmRhdGFba2V5XSkgPT09IFwiW29iamVjdCBBcnJheV1cIil7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJEYXRhW2tleV0gPSB0aGlzLmRhdGFba2V5XVt0aGlzLmluc0RhdGEubGV2ZWxdO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJEYXRhW2tleV0gPSB0aGlzLmRhdGFba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVCYXR0bGVDYWxsQmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1cnJlbnRMZXZlbCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmluc0RhdGEubGV2ZWwgKyAxO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1cnJlbnRMZXZlbFRleHQoKXtcclxuICAgICAgICBpZih0aGlzLmdldEN1cnJlbnRMZXZlbCgpIDwgdGhpcy5jdXJEYXRhLmx2bGltKXtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuaW5zRGF0YS5sZXZlbCArIDF9YDtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmV0dXJuICdNYXgnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0U2VsZkNhbGxCYWNrKCl7XHJcbiAgICAgICAgdGhpcy5zZWxmVHJpZ2dlciA9IHt9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldENyYXNoQ2FsbEJhY2soX2Z1bmMpe1xyXG4gICAgICAgIHRoaXMuY3Jhc2hDYWxsQmFjayA9IF9mdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFJlcGFpckNhbGxCYWNrKF9mdW5jKXtcclxuICAgICAgICB0aGlzLnJlcGFpckNhbGxCYWNrID0gX2Z1bmM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YShrZXkpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1ckRhdGFba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROZXh0THZsRGF0YShrZXkpe1xyXG4gICAgICAgIHZhciBhcnJheSA9IHRoaXMuZGF0YVtrZXldO1xyXG4gICAgICAgIHZhciBjdXJMdmwgPSB0aGlzLmdldEN1cnJlbnRMZXZlbCgpO1xyXG4gICAgICAgIGlmKGFycmF5KXtcclxuICAgICAgICAgICAgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFycmF5KSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiKXtcclxuICAgICAgICAgICAgICAgIGlmKGFycmF5Lmxlbmd0aCA+IGN1ckx2bClyZXR1cm4gYXJyYXlbY3VyTHZsXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcnJheVtjdXJMdmwgLSAxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJY29uUGF0aCgpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Jhc2ggPyB0aGlzLmN1ckRhdGEuY3Jhc2hJY29uUGF0aCA6IHRoaXMuY3VyRGF0YS5pY29uUGF0aDtcclxuICAgIH1cclxuXHJcbiAgICBwbGFjZU9uUm91dGUoX3JvdXRlKXtcclxuICAgICAgICB0aGlzLnJvdXRlT24gPSBfcm91dGU7XHJcbiAgICAgICAgdGhpcy5yb3V0ZUJlZm9yZUNyYXNoID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0U2VsZkNhbGxCYWNrKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVCYXR0bGVDYWxsQmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldElkbGUoKXtcclxuICAgICAgICBpZih0aGlzLnJvdXRlT24pe1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlT24ubG9zZVNoaXAodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKHRoaXMuZG9ja1BvcylcclxuICAgICAgICAgICAgdGhpcy5kb2NrUG9zLnJlc3VtZUJ1c3koKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5jcmFzaCAmJiB0aGlzLmN1ckRhdGEuYXV0b1JlKXtcclxuICAgICAgICAgICAgdGhpcy5TdGFydFJlcGFpcigpO1xyXG4gICAgICAgICAgICB0aGlzLnJvdXRlQmVmb3JlQ3Jhc2ggPSB0aGlzLnJvdXRlT247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJvdXRlT24gPSBudWxsO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclN0YXRlKC0xKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0lkbGUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5yb3V0ZU9uID09IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgU2V0Um91dGVJbmRleChfaW5kZXgpe1xyXG4gICAgICAgIHRoaXMucm91dGVJbmRleCA9IF9pbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTdGF0ZVRyaWdnZXIoc3N0YXRlLG9iaixfZnVuYyl7XHJcbiAgICAgICAgdmFyIGJ1aWxkID0ge1xyXG4gICAgICAgICAgICBvYmo6b2JqLFxyXG4gICAgICAgICAgICBmdW5jOl9mdW5jXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuc3RhdGVUcmlnZ2VyTWFwW3NzdGF0ZV0pe1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlVHJpZ2dlck1hcFtzc3RhdGVdID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnN0YXRlVHJpZ2dlck1hcFtzc3RhdGVdLnB1c2goYnVpbGQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNlbGZUcmlnZ2VyKHNzdGF0ZSxfZnVuYyl7XHJcbiAgICAgICAgdGhpcy5zZWxmVHJpZ2dlcltzc3RhdGVdID0gX2Z1bmM7XHJcbiAgICB9XHJcblxyXG4gICAgdHJpZ2dlclN0YXRlKHNzdGF0ZSl7XHJcblxyXG4gICAgICAgIHZhciBraWNrTGlzdCA9IFtdO1xyXG4gICAgICAgIHZhciBhbGxDYWxsQmFjayA9IHRoaXMuc3RhdGVUcmlnZ2VyTWFwW3NzdGF0ZV07XHJcblxyXG4gICAgICAgIGlmKGFsbENhbGxCYWNrKXtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8YWxsQ2FsbEJhY2subGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FsbEJhY2sgPSBhbGxDYWxsQmFja1tpXTtcclxuICAgICAgICAgICAgICAgIGlmKGNhbGxCYWNrLm9iail7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IGNhbGxCYWNrLmZ1bmMuY2FsbChjYWxsQmFjay5vYmosdGhpcy5jdXJzdGF0ZSx0aGlzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzKWtpY2tMaXN0LnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBraWNrTGlzdC5wdXNoKGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBraWNrTGlzdC5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaW5kZXggb2Yga2lja0xpc3Qpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZVRyaWdnZXJNYXBbc3N0YXRlXS5zcGxpY2UoaW5kZXgsMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc2VsZlRyaWdnZXJbc3N0YXRlXSl7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZlRyaWdnZXJbc3N0YXRlXS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdXJzdGF0ZSA9IHNzdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZW5kQmFjaygpe1xyXG4gICAgICAgIGlmKHRoaXMuY3Vyc3RhdGUgPT0gMSB8fCB0aGlzLmN1cnN0YXRlID09IDIpe1xyXG4gICAgICAgICAgICB0aGlzLm1vdmVTZXQuY2hhbmdlU3RhdGUoMyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZlRyaWdnZXIoNCwoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZGxlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYodGhpcy5kb2NrUG9zKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5kb2NrUG9zLnNldFNlbmRCYWNrKCk7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5jdXJzdGF0ZSA9PSAzIHx8IHRoaXMuY3Vyc3RhdGUgPT0gNCl7XHJcbiAgICAgICAgICAgIHRoaXMubW92ZVNldC5jaGFuZ2VTdGF0ZSh0aGlzLmN1cnN0YXRlKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZWxmVHJpZ2dlcigxLCgpPT57XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldElkbGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmRvY2tQb3MpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2tQb3Muc2V0U2VuZEJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyogQmF0dGxlIFdhaXQgKi9cclxuICAgIHVwZGF0ZUJhdHRsZUNhbGxCYWNrKCl7XHJcbiAgICAgICAgdGhpcy5zZXRTZWxmVHJpZ2dlcig2LCgpPT57XHJcbiAgICAgICAgICAgIHZhciB0ZW1wU3RhdGUgPSB0aGlzLmN1cnN0YXRlO1xyXG4gICAgICAgICAgICBMYXlhLnRpbWVyLmZyYW1lT25jZSgxMjAsdGhpcywoKT0+e1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzdGF0ZSA9IHRlbXBTdGF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZihNYXRoLnJhbmRvbSgpICogdGhpcy5yb3V0ZU9uLmN1ckRhdGEuc2FmZU1heCA+IHRoaXMuY3VyRGF0YS5iYXR0bGUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q3Jhc2goKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVNldC5yZUJhY2tJbnRlcigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDcmFzaCgpe1xyXG4gICAgICAgIHRoaXMuY3Jhc2ggPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmNyYXNoQ2FsbEJhY2soKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5kb2NrUG9zKVxyXG4gICAgICAgICAgICB0aGlzLmRvY2tQb3Muc2V0Q3Jhc2hCYWNrKCk7XHJcbiAgICAgICAgdGhpcy5zZW5kQmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIFN0YXJ0UmVwYWlyKCl7XHJcbiAgICAgICAgaWYoIXRoaXMuY3Jhc2gpcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnJlcGFpciA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXBhaXJTdGFydCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgdGhpcy5yZXBhaXJDYWxsQmFjaygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlcGFpckNvbXBlbGV0ZSgpe1xyXG4gICAgICAgIHRoaXMucmVwYWlyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXBhaXJTdGFydCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jcmFzaCA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZih0aGlzLmN1ckRhdGEuYXV0b1JlICYmIHRoaXMucm91dGVCZWZvcmVDcmFzaCl7XHJcbiAgICAgICAgICAgIHRoaXMucm91dGVCZWZvcmVDcmFzaC5wbGFjZVNoaXAodGhpcyk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmRvY2tQb3MpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2tQb3Muc2V0QnVzeSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZXBhaXJDYWxsQmFjaygpO1xyXG4gICAgfVxyXG59IiwiOyhmdW5jdGlvbiAoZ2xvYmFsT2JqZWN0KSB7XHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuLypcclxuICogICAgICBiaWdudW1iZXIuanMgdjguMS4xXHJcbiAqICAgICAgQSBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIGFyYml0cmFyeS1wcmVjaXNpb24gYXJpdGhtZXRpYy5cclxuICogICAgICBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWdudW1iZXIuanNcclxuICogICAgICBDb3B5cmlnaHQgKGMpIDIwMTkgTWljaGFlbCBNY2xhdWdobGluIDxNOGNoODhsQGdtYWlsLmNvbT5cclxuICogICAgICBNSVQgTGljZW5zZWQuXHJcbiAqXHJcbiAqICAgICAgQmlnTnVtYmVyLnByb3RvdHlwZSBtZXRob2RzICAgICB8ICBCaWdOdW1iZXIgbWV0aG9kc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGFic29sdXRlVmFsdWUgICAgICAgICAgICBhYnMgICAgfCAgY2xvbmVcclxuICogICAgICBjb21wYXJlZFRvICAgICAgICAgICAgICAgICAgICAgIHwgIGNvbmZpZyAgICAgICAgICAgICAgIHNldFxyXG4gKiAgICAgIGRlY2ltYWxQbGFjZXMgICAgICAgICAgICBkcCAgICAgfCAgICAgIERFQ0lNQUxfUExBQ0VTXHJcbiAqICAgICAgZGl2aWRlZEJ5ICAgICAgICAgICAgICAgIGRpdiAgICB8ICAgICAgUk9VTkRJTkdfTU9ERVxyXG4gKiAgICAgIGRpdmlkZWRUb0ludGVnZXJCeSAgICAgICBpZGl2ICAgfCAgICAgIEVYUE9ORU5USUFMX0FUXHJcbiAqICAgICAgZXhwb25lbnRpYXRlZEJ5ICAgICAgICAgIHBvdyAgICB8ICAgICAgUkFOR0VcclxuICogICAgICBpbnRlZ2VyVmFsdWUgICAgICAgICAgICAgICAgICAgIHwgICAgICBDUllQVE9cclxuICogICAgICBpc0VxdWFsVG8gICAgICAgICAgICAgICAgZXEgICAgIHwgICAgICBNT0RVTE9fTU9ERVxyXG4gKiAgICAgIGlzRmluaXRlICAgICAgICAgICAgICAgICAgICAgICAgfCAgICAgIFBPV19QUkVDSVNJT05cclxuICogICAgICBpc0dyZWF0ZXJUaGFuICAgICAgICAgICAgZ3QgICAgIHwgICAgICBGT1JNQVRcclxuICogICAgICBpc0dyZWF0ZXJUaGFuT3JFcXVhbFRvICAgZ3RlICAgIHwgICAgICBBTFBIQUJFVFxyXG4gKiAgICAgIGlzSW50ZWdlciAgICAgICAgICAgICAgICAgICAgICAgfCAgaXNCaWdOdW1iZXJcclxuICogICAgICBpc0xlc3NUaGFuICAgICAgICAgICAgICAgbHQgICAgIHwgIG1heGltdW0gICAgICAgICAgICAgIG1heFxyXG4gKiAgICAgIGlzTGVzc1RoYW5PckVxdWFsVG8gICAgICBsdGUgICAgfCAgbWluaW11bSAgICAgICAgICAgICAgbWluXHJcbiAqICAgICAgaXNOYU4gICAgICAgICAgICAgICAgICAgICAgICAgICB8ICByYW5kb21cclxuICogICAgICBpc05lZ2F0aXZlICAgICAgICAgICAgICAgICAgICAgIHwgIHN1bVxyXG4gKiAgICAgIGlzUG9zaXRpdmUgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIGlzWmVybyAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1pbnVzICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIG1vZHVsbyAgICAgICAgICAgICAgICAgICBtb2QgICAgfFxyXG4gKiAgICAgIG11bHRpcGxpZWRCeSAgICAgICAgICAgICB0aW1lcyAgfFxyXG4gKiAgICAgIG5lZ2F0ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHBsdXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHByZWNpc2lvbiAgICAgICAgICAgICAgICBzZCAgICAgfFxyXG4gKiAgICAgIHNoaWZ0ZWRCeSAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHNxdWFyZVJvb3QgICAgICAgICAgICAgICBzcXJ0ICAgfFxyXG4gKiAgICAgIHRvRXhwb25lbnRpYWwgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRml4ZWQgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRm9ybWF0ICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvRnJhY3Rpb24gICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvSlNPTiAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvTnVtYmVyICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvUHJlY2lzaW9uICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHRvU3RyaW5nICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgICAgIHZhbHVlT2YgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKlxyXG4gKi9cclxuXHJcblxyXG4gIHZhciBCaWdOdW1iZXIsXHJcbiAgICBpc051bWVyaWMgPSAvXi0/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKSg/OmVbKy1dP1xcZCspPyQvaSxcclxuICAgIGhhc1N5bWJvbCA9IHR5cGVvZiBTeW1ib2wgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09ICdzeW1ib2wnLFxyXG5cclxuICAgIG1hdGhjZWlsID0gTWF0aC5jZWlsLFxyXG4gICAgbWF0aGZsb29yID0gTWF0aC5mbG9vcixcclxuXHJcbiAgICBiaWdudW1iZXJFcnJvciA9ICdbQmlnTnVtYmVyIEVycm9yXSAnLFxyXG4gICAgdG9vTWFueURpZ2l0cyA9IGJpZ251bWJlckVycm9yICsgJ051bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6ICcsXHJcblxyXG4gICAgQkFTRSA9IDFlMTQsXHJcbiAgICBMT0dfQkFTRSA9IDE0LFxyXG4gICAgTUFYX1NBRkVfSU5URUdFUiA9IDB4MWZmZmZmZmZmZmZmZmYsICAgICAgICAgLy8gMl41MyAtIDFcclxuICAgIC8vIE1BWF9JTlQzMiA9IDB4N2ZmZmZmZmYsICAgICAgICAgICAgICAgICAgIC8vIDJeMzEgLSAxXHJcbiAgICBQT1dTX1RFTiA9IFsxLCAxMCwgMTAwLCAxZTMsIDFlNCwgMWU1LCAxZTYsIDFlNywgMWU4LCAxZTksIDFlMTAsIDFlMTEsIDFlMTIsIDFlMTNdLFxyXG4gICAgU1FSVF9CQVNFID0gMWU3LFxyXG5cclxuICAgIC8vIEVESVRBQkxFXHJcbiAgICAvLyBUaGUgbGltaXQgb24gdGhlIHZhbHVlIG9mIERFQ0lNQUxfUExBQ0VTLCBUT19FWFBfTkVHLCBUT19FWFBfUE9TLCBNSU5fRVhQLCBNQVhfRVhQLCBhbmRcclxuICAgIC8vIHRoZSBhcmd1bWVudHMgdG8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQsIGFuZCB0b1ByZWNpc2lvbi5cclxuICAgIE1BWCA9IDFFOTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gTUFYX0lOVDMyXHJcblxyXG5cclxuICAvKlxyXG4gICAqIENyZWF0ZSBhbmQgcmV0dXJuIGEgQmlnTnVtYmVyIGNvbnN0cnVjdG9yLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNsb25lKGNvbmZpZ09iamVjdCkge1xyXG4gICAgdmFyIGRpdiwgY29udmVydEJhc2UsIHBhcnNlTnVtZXJpYyxcclxuICAgICAgUCA9IEJpZ051bWJlci5wcm90b3R5cGUgPSB7IGNvbnN0cnVjdG9yOiBCaWdOdW1iZXIsIHRvU3RyaW5nOiBudWxsLCB2YWx1ZU9mOiBudWxsIH0sXHJcbiAgICAgIE9ORSA9IG5ldyBCaWdOdW1iZXIoMSksXHJcblxyXG5cclxuICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBFRElUQUJMRSBDT05GSUcgREVGQVVMVFMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHJcbiAgICAgIC8vIFRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdyBtdXN0IGJlIGludGVnZXJzIHdpdGhpbiB0aGUgaW5jbHVzaXZlIHJhbmdlcyBzdGF0ZWQuXHJcbiAgICAgIC8vIFRoZSB2YWx1ZXMgY2FuIGFsc28gYmUgY2hhbmdlZCBhdCBydW4tdGltZSB1c2luZyBCaWdOdW1iZXIuc2V0LlxyXG5cclxuICAgICAgLy8gVGhlIG1heGltdW0gbnVtYmVyIG9mIGRlY2ltYWwgcGxhY2VzIGZvciBvcGVyYXRpb25zIGludm9sdmluZyBkaXZpc2lvbi5cclxuICAgICAgREVDSU1BTF9QTEFDRVMgPSAyMCwgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgICAgLy8gVGhlIHJvdW5kaW5nIG1vZGUgdXNlZCB3aGVuIHJvdW5kaW5nIHRvIHRoZSBhYm92ZSBkZWNpbWFsIHBsYWNlcywgYW5kIHdoZW4gdXNpbmdcclxuICAgICAgLy8gdG9FeHBvbmVudGlhbCwgdG9GaXhlZCwgdG9Gb3JtYXQgYW5kIHRvUHJlY2lzaW9uLCBhbmQgcm91bmQgKGRlZmF1bHQgdmFsdWUpLlxyXG4gICAgICAvLyBVUCAgICAgICAgIDAgQXdheSBmcm9tIHplcm8uXHJcbiAgICAgIC8vIERPV04gICAgICAgMSBUb3dhcmRzIHplcm8uXHJcbiAgICAgIC8vIENFSUwgICAgICAgMiBUb3dhcmRzICtJbmZpbml0eS5cclxuICAgICAgLy8gRkxPT1IgICAgICAzIFRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICAvLyBIQUxGX1VQICAgIDQgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIHVwLlxyXG4gICAgICAvLyBIQUxGX0RPV04gIDUgVG93YXJkcyBuZWFyZXN0IG5laWdoYm91ci4gSWYgZXF1aWRpc3RhbnQsIGRvd24uXHJcbiAgICAgIC8vIEhBTEZfRVZFTiAgNiBUb3dhcmRzIG5lYXJlc3QgbmVpZ2hib3VyLiBJZiBlcXVpZGlzdGFudCwgdG93YXJkcyBldmVuIG5laWdoYm91ci5cclxuICAgICAgLy8gSEFMRl9DRUlMICA3IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzICtJbmZpbml0eS5cclxuICAgICAgLy8gSEFMRl9GTE9PUiA4IFRvd2FyZHMgbmVhcmVzdCBuZWlnaGJvdXIuIElmIGVxdWlkaXN0YW50LCB0b3dhcmRzIC1JbmZpbml0eS5cclxuICAgICAgUk9VTkRJTkdfTU9ERSA9IDQsICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDhcclxuXHJcbiAgICAgIC8vIEVYUE9ORU5USUFMX0FUIDogW1RPX0VYUF9ORUcgLCBUT19FWFBfUE9TXVxyXG5cclxuICAgICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBiZW5lYXRoIHdoaWNoIHRvU3RyaW5nIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgIC8vIE51bWJlciB0eXBlOiAtN1xyXG4gICAgICBUT19FWFBfTkVHID0gLTcsICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDAgdG8gLU1BWFxyXG5cclxuICAgICAgLy8gVGhlIGV4cG9uZW50IHZhbHVlIGF0IGFuZCBhYm92ZSB3aGljaCB0b1N0cmluZyByZXR1cm5zIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICAvLyBOdW1iZXIgdHlwZTogMjFcclxuICAgICAgVE9fRVhQX1BPUyA9IDIxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIE1BWFxyXG5cclxuICAgICAgLy8gUkFOR0UgOiBbTUlOX0VYUCwgTUFYX0VYUF1cclxuXHJcbiAgICAgIC8vIFRoZSBtaW5pbXVtIGV4cG9uZW50IHZhbHVlLCBiZW5lYXRoIHdoaWNoIHVuZGVyZmxvdyB0byB6ZXJvIG9jY3Vycy5cclxuICAgICAgLy8gTnVtYmVyIHR5cGU6IC0zMjQgICg1ZS0zMjQpXHJcbiAgICAgIE1JTl9FWFAgPSAtMWU3LCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLTEgdG8gLU1BWFxyXG5cclxuICAgICAgLy8gVGhlIG1heGltdW0gZXhwb25lbnQgdmFsdWUsIGFib3ZlIHdoaWNoIG92ZXJmbG93IHRvIEluZmluaXR5IG9jY3Vycy5cclxuICAgICAgLy8gTnVtYmVyIHR5cGU6ICAzMDggICgxLjc5NzY5MzEzNDg2MjMxNTdlKzMwOClcclxuICAgICAgLy8gRm9yIE1BWF9FWFAgPiAxZTcsIGUuZy4gbmV3IEJpZ051bWJlcignMWUxMDAwMDAwMDAnKS5wbHVzKDEpIG1heSBiZSBzbG93LlxyXG4gICAgICBNQVhfRVhQID0gMWU3LCAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDEgdG8gTUFYXHJcblxyXG4gICAgICAvLyBXaGV0aGVyIHRvIHVzZSBjcnlwdG9ncmFwaGljYWxseS1zZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uLCBpZiBhdmFpbGFibGUuXHJcbiAgICAgIENSWVBUTyA9IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJ1ZSBvciBmYWxzZVxyXG5cclxuICAgICAgLy8gVGhlIG1vZHVsbyBtb2RlIHVzZWQgd2hlbiBjYWxjdWxhdGluZyB0aGUgbW9kdWx1czogYSBtb2Qgbi5cclxuICAgICAgLy8gVGhlIHF1b3RpZW50IChxID0gYSAvIG4pIGlzIGNhbGN1bGF0ZWQgYWNjb3JkaW5nIHRvIHRoZSBjb3JyZXNwb25kaW5nIHJvdW5kaW5nIG1vZGUuXHJcbiAgICAgIC8vIFRoZSByZW1haW5kZXIgKHIpIGlzIGNhbGN1bGF0ZWQgYXM6IHIgPSBhIC0gbiAqIHEuXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIFVQICAgICAgICAwIFRoZSByZW1haW5kZXIgaXMgcG9zaXRpdmUgaWYgdGhlIGRpdmlkZW5kIGlzIG5lZ2F0aXZlLCBlbHNlIGlzIG5lZ2F0aXZlLlxyXG4gICAgICAvLyBET1dOICAgICAgMSBUaGUgcmVtYWluZGVyIGhhcyB0aGUgc2FtZSBzaWduIGFzIHRoZSBkaXZpZGVuZC5cclxuICAgICAgLy8gICAgICAgICAgICAgVGhpcyBtb2R1bG8gbW9kZSBpcyBjb21tb25seSBrbm93biBhcyAndHJ1bmNhdGVkIGRpdmlzaW9uJyBhbmQgaXNcclxuICAgICAgLy8gICAgICAgICAgICAgZXF1aXZhbGVudCB0byAoYSAlIG4pIGluIEphdmFTY3JpcHQuXHJcbiAgICAgIC8vIEZMT09SICAgICAzIFRoZSByZW1haW5kZXIgaGFzIHRoZSBzYW1lIHNpZ24gYXMgdGhlIGRpdmlzb3IgKFB5dGhvbiAlKS5cclxuICAgICAgLy8gSEFMRl9FVkVOIDYgVGhpcyBtb2R1bG8gbW9kZSBpbXBsZW1lbnRzIHRoZSBJRUVFIDc1NCByZW1haW5kZXIgZnVuY3Rpb24uXHJcbiAgICAgIC8vIEVVQ0xJRCAgICA5IEV1Y2xpZGlhbiBkaXZpc2lvbi4gcSA9IHNpZ24obikgKiBmbG9vcihhIC8gYWJzKG4pKS5cclxuICAgICAgLy8gICAgICAgICAgICAgVGhlIHJlbWFpbmRlciBpcyBhbHdheXMgcG9zaXRpdmUuXHJcbiAgICAgIC8vXHJcbiAgICAgIC8vIFRoZSB0cnVuY2F0ZWQgZGl2aXNpb24sIGZsb29yZWQgZGl2aXNpb24sIEV1Y2xpZGlhbiBkaXZpc2lvbiBhbmQgSUVFRSA3NTQgcmVtYWluZGVyXHJcbiAgICAgIC8vIG1vZGVzIGFyZSBjb21tb25seSB1c2VkIGZvciB0aGUgbW9kdWx1cyBvcGVyYXRpb24uXHJcbiAgICAgIC8vIEFsdGhvdWdoIHRoZSBvdGhlciByb3VuZGluZyBtb2RlcyBjYW4gYWxzbyBiZSB1c2VkLCB0aGV5IG1heSBub3QgZ2l2ZSB1c2VmdWwgcmVzdWx0cy5cclxuICAgICAgTU9EVUxPX01PREUgPSAxLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyAwIHRvIDlcclxuXHJcbiAgICAgIC8vIFRoZSBtYXhpbXVtIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHMgb2YgdGhlIHJlc3VsdCBvZiB0aGUgZXhwb25lbnRpYXRlZEJ5IG9wZXJhdGlvbi5cclxuICAgICAgLy8gSWYgUE9XX1BSRUNJU0lPTiBpcyAwLCB0aGVyZSB3aWxsIGJlIHVubGltaXRlZCBzaWduaWZpY2FudCBkaWdpdHMuXHJcbiAgICAgIFBPV19QUkVDSVNJT04gPSAwLCAgICAgICAgICAgICAgICAgICAgLy8gMCB0byBNQVhcclxuXHJcbiAgICAgIC8vIFRoZSBmb3JtYXQgc3BlY2lmaWNhdGlvbiB1c2VkIGJ5IHRoZSBCaWdOdW1iZXIucHJvdG90eXBlLnRvRm9ybWF0IG1ldGhvZC5cclxuICAgICAgRk9STUFUID0ge1xyXG4gICAgICAgIHByZWZpeDogJycsXHJcbiAgICAgICAgZ3JvdXBTaXplOiAzLFxyXG4gICAgICAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcclxuICAgICAgICBncm91cFNlcGFyYXRvcjogJywnLFxyXG4gICAgICAgIGRlY2ltYWxTZXBhcmF0b3I6ICcuJyxcclxuICAgICAgICBmcmFjdGlvbkdyb3VwU2l6ZTogMCxcclxuICAgICAgICBmcmFjdGlvbkdyb3VwU2VwYXJhdG9yOiAnXFx4QTAnLCAgICAgIC8vIG5vbi1icmVha2luZyBzcGFjZVxyXG4gICAgICAgIHN1ZmZpeDogJydcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vIFRoZSBhbHBoYWJldCB1c2VkIGZvciBiYXNlIGNvbnZlcnNpb24uIEl0IG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzIGxvbmcsIHdpdGggbm8gJysnLFxyXG4gICAgICAvLyAnLScsICcuJywgd2hpdGVzcGFjZSwgb3IgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgICAvLyAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVokXydcclxuICAgICAgQUxQSEFCRVQgPSAnMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JztcclxuXHJcblxyXG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4gICAgLy8gQ09OU1RSVUNUT1JcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFRoZSBCaWdOdW1iZXIgY29uc3RydWN0b3IgYW5kIGV4cG9ydGVkIGZ1bmN0aW9uLlxyXG4gICAgICogQ3JlYXRlIGFuZCByZXR1cm4gYSBuZXcgaW5zdGFuY2Ugb2YgYSBCaWdOdW1iZXIgb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIHYge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBBIG51bWVyaWMgdmFsdWUuXHJcbiAgICAgKiBbYl0ge251bWJlcn0gVGhlIGJhc2Ugb2Ygdi4gSW50ZWdlciwgMiB0byBBTFBIQUJFVC5sZW5ndGggaW5jbHVzaXZlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBCaWdOdW1iZXIodiwgYikge1xyXG4gICAgICB2YXIgYWxwaGFiZXQsIGMsIGNhc2VDaGFuZ2VkLCBlLCBpLCBpc051bSwgbGVuLCBzdHIsXHJcbiAgICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBFbmFibGUgY29uc3RydWN0b3IgY2FsbCB3aXRob3V0IGBuZXdgLlxyXG4gICAgICBpZiAoISh4IGluc3RhbmNlb2YgQmlnTnVtYmVyKSkgcmV0dXJuIG5ldyBCaWdOdW1iZXIodiwgYik7XHJcblxyXG4gICAgICBpZiAoYiA9PSBudWxsKSB7XHJcblxyXG4gICAgICAgIGlmICh2ICYmIHYuX2lzQmlnTnVtYmVyID09PSB0cnVlKSB7XHJcbiAgICAgICAgICB4LnMgPSB2LnM7XHJcblxyXG4gICAgICAgICAgaWYgKCF2LmMgfHwgdi5lID4gTUFYX0VYUCkge1xyXG4gICAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh2LmUgPCBNSU5fRVhQKSB7XHJcbiAgICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHguZSA9IHYuZTtcclxuICAgICAgICAgICAgeC5jID0gdi5jLnNsaWNlKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKChpc051bSA9IHR5cGVvZiB2ID09ICdudW1iZXInKSAmJiB2ICogMCA9PSAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gVXNlIGAxIC8gbmAgdG8gaGFuZGxlIG1pbnVzIHplcm8gYWxzby5cclxuICAgICAgICAgIHgucyA9IDEgLyB2IDwgMCA/ICh2ID0gLXYsIC0xKSA6IDE7XHJcblxyXG4gICAgICAgICAgLy8gRmFzdCBwYXRoIGZvciBpbnRlZ2Vycywgd2hlcmUgbiA8IDIxNDc0ODM2NDggKDIqKjMxKS5cclxuICAgICAgICAgIGlmICh2ID09PSB+fnYpIHtcclxuICAgICAgICAgICAgZm9yIChlID0gMCwgaSA9IHY7IGkgPj0gMTA7IGkgLz0gMTAsIGUrKyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHguZSA9IGU7XHJcbiAgICAgICAgICAgICAgeC5jID0gW3ZdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgaWYgKCFpc051bWVyaWMudGVzdChzdHIgPSBTdHJpbmcodikpKSByZXR1cm4gcGFyc2VOdW1lcmljKHgsIHN0ciwgaXNOdW0pO1xyXG5cclxuICAgICAgICAgIHgucyA9IHN0ci5jaGFyQ29kZUF0KDApID09IDQ1ID8gKHN0ciA9IHN0ci5zbGljZSgxKSwgLTEpIDogMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcblxyXG4gICAgICAgIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgICAgICAgaWYgKChpID0gc3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcblxyXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIGV4cG9uZW50LlxyXG4gICAgICAgICAgaWYgKGUgPCAwKSBlID0gaTtcclxuICAgICAgICAgIGUgKz0gK3N0ci5zbGljZShpICsgMSk7XHJcbiAgICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZSA8IDApIHtcclxuXHJcbiAgICAgICAgICAvLyBJbnRlZ2VyLlxyXG4gICAgICAgICAgZSA9IHN0ci5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuXHJcbiAgICAgICAgLy8gQWxsb3cgZXhwb25lbnRpYWwgbm90YXRpb24gdG8gYmUgdXNlZCB3aXRoIGJhc2UgMTAgYXJndW1lbnQsIHdoaWxlXHJcbiAgICAgICAgLy8gYWxzbyByb3VuZGluZyB0byBERUNJTUFMX1BMQUNFUyBhcyB3aXRoIG90aGVyIGJhc2VzLlxyXG4gICAgICAgIGlmIChiID09IDEwKSB7XHJcbiAgICAgICAgICB4ID0gbmV3IEJpZ051bWJlcih2KTtcclxuICAgICAgICAgIHJldHVybiByb3VuZCh4LCBERUNJTUFMX1BMQUNFUyArIHguZSArIDEsIFJPVU5ESU5HX01PREUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RyID0gU3RyaW5nKHYpO1xyXG5cclxuICAgICAgICBpZiAoaXNOdW0gPSB0eXBlb2YgdiA9PSAnbnVtYmVyJykge1xyXG5cclxuICAgICAgICAgIC8vIEF2b2lkIHBvdGVudGlhbCBpbnRlcnByZXRhdGlvbiBvZiBJbmZpbml0eSBhbmQgTmFOIGFzIGJhc2UgNDQrIHZhbHVlcy5cclxuICAgICAgICAgIGlmICh2ICogMCAhPSAwKSByZXR1cm4gcGFyc2VOdW1lcmljKHgsIHN0ciwgaXNOdW0sIGIpO1xyXG5cclxuICAgICAgICAgIHgucyA9IDEgLyB2IDwgMCA/IChzdHIgPSBzdHIuc2xpY2UoMSksIC0xKSA6IDE7XHJcblxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE51bWJlciBwcmltaXRpdmUgaGFzIG1vcmUgdGhhbiAxNSBzaWduaWZpY2FudCBkaWdpdHM6IHtufSdcclxuICAgICAgICAgIGlmIChCaWdOdW1iZXIuREVCVUcgJiYgc3RyLnJlcGxhY2UoL14wXFwuMCp8XFwuLywgJycpLmxlbmd0aCA+IDE1KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAodG9vTWFueURpZ2l0cyArIHYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4LnMgPSBzdHIuY2hhckNvZGVBdCgwKSA9PT0gNDUgPyAoc3RyID0gc3RyLnNsaWNlKDEpLCAtMSkgOiAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWxwaGFiZXQgPSBBTFBIQUJFVC5zbGljZSgwLCBiKTtcclxuICAgICAgICBlID0gaSA9IDA7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRoYXQgc3RyIGlzIGEgdmFsaWQgYmFzZSBiIG51bWJlci5cclxuICAgICAgICAvLyBEb24ndCB1c2UgUmVnRXhwLCBzbyBhbHBoYWJldCBjYW4gY29udGFpbiBzcGVjaWFsIGNoYXJhY3RlcnMuXHJcbiAgICAgICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcclxuICAgICAgICAgIGlmIChhbHBoYWJldC5pbmRleE9mKGMgPSBzdHIuY2hhckF0KGkpKSA8IDApIHtcclxuICAgICAgICAgICAgaWYgKGMgPT0gJy4nKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmICcuJyBpcyBub3QgdGhlIGZpcnN0IGNoYXJhY3RlciBhbmQgaXQgaGFzIG5vdCBiZSBmb3VuZCBiZWZvcmUuXHJcbiAgICAgICAgICAgICAgaWYgKGkgPiBlKSB7XHJcbiAgICAgICAgICAgICAgICBlID0gbGVuO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFjYXNlQ2hhbmdlZCkge1xyXG5cclxuICAgICAgICAgICAgICAvLyBBbGxvdyBlLmcuIGhleGFkZWNpbWFsICdGRicgYXMgd2VsbCBhcyAnZmYnLlxyXG4gICAgICAgICAgICAgIGlmIChzdHIgPT0gc3RyLnRvVXBwZXJDYXNlKCkgJiYgKHN0ciA9IHN0ci50b0xvd2VyQ2FzZSgpKSB8fFxyXG4gICAgICAgICAgICAgICAgICBzdHIgPT0gc3RyLnRvTG93ZXJDYXNlKCkgJiYgKHN0ciA9IHN0ci50b1VwcGVyQ2FzZSgpKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZUNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgZSA9IDA7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bWVyaWMoeCwgU3RyaW5nKHYpLCBpc051bSwgYik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQcmV2ZW50IGxhdGVyIGNoZWNrIGZvciBsZW5ndGggb24gY29udmVydGVkIG51bWJlci5cclxuICAgICAgICBpc051bSA9IGZhbHNlO1xyXG4gICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHN0ciwgYiwgMTAsIHgucyk7XHJcblxyXG4gICAgICAgIC8vIERlY2ltYWwgcG9pbnQ/XHJcbiAgICAgICAgaWYgKChlID0gc3RyLmluZGV4T2YoJy4nKSkgPiAtMSkgc3RyID0gc3RyLnJlcGxhY2UoJy4nLCAnJyk7XHJcbiAgICAgICAgZWxzZSBlID0gc3RyLmxlbmd0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IDA7IHN0ci5jaGFyQ29kZUF0KGkpID09PSA0ODsgaSsrKTtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yIChsZW4gPSBzdHIubGVuZ3RoOyBzdHIuY2hhckNvZGVBdCgtLWxlbikgPT09IDQ4Oyk7XHJcblxyXG4gICAgICBpZiAoc3RyID0gc3RyLnNsaWNlKGksICsrbGVuKSkge1xyXG4gICAgICAgIGxlbiAtPSBpO1xyXG5cclxuICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTnVtYmVyIHByaW1pdGl2ZSBoYXMgbW9yZSB0aGFuIDE1IHNpZ25pZmljYW50IGRpZ2l0czoge259J1xyXG4gICAgICAgIGlmIChpc051bSAmJiBCaWdOdW1iZXIuREVCVUcgJiZcclxuICAgICAgICAgIGxlbiA+IDE1ICYmICh2ID4gTUFYX1NBRkVfSU5URUdFUiB8fCB2ICE9PSBtYXRoZmxvb3IodikpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAodG9vTWFueURpZ2l0cyArICh4LnMgKiB2KSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAgLy8gT3ZlcmZsb3c/XHJcbiAgICAgICAgaWYgKChlID0gZSAtIGkgLSAxKSA+IE1BWF9FWFApIHtcclxuXHJcbiAgICAgICAgICAvLyBJbmZpbml0eS5cclxuICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFVuZGVyZmxvdz9cclxuICAgICAgICB9IGVsc2UgaWYgKGUgPCBNSU5fRVhQKSB7XHJcblxyXG4gICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeC5lID0gZTtcclxuICAgICAgICAgIHguYyA9IFtdO1xyXG5cclxuICAgICAgICAgIC8vIFRyYW5zZm9ybSBiYXNlXHJcblxyXG4gICAgICAgICAgLy8gZSBpcyB0aGUgYmFzZSAxMCBleHBvbmVudC5cclxuICAgICAgICAgIC8vIGkgaXMgd2hlcmUgdG8gc2xpY2Ugc3RyIHRvIGdldCB0aGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgY29lZmZpY2llbnQgYXJyYXkuXHJcbiAgICAgICAgICBpID0gKGUgKyAxKSAlIExPR19CQVNFO1xyXG4gICAgICAgICAgaWYgKGUgPCAwKSBpICs9IExPR19CQVNFOyAgLy8gaSA8IDFcclxuXHJcbiAgICAgICAgICBpZiAoaSA8IGxlbikge1xyXG4gICAgICAgICAgICBpZiAoaSkgeC5jLnB1c2goK3N0ci5zbGljZSgwLCBpKSk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxlbiAtPSBMT0dfQkFTRTsgaSA8IGxlbjspIHtcclxuICAgICAgICAgICAgICB4LmMucHVzaCgrc3RyLnNsaWNlKGksIGkgKz0gTE9HX0JBU0UpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaSA9IExPR19CQVNFIC0gKHN0ciA9IHN0ci5zbGljZShpKSkubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaSAtPSBsZW47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgICB4LmMucHVzaCgrc3RyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIFplcm8uXHJcbiAgICAgICAgeC5jID0gW3guZSA9IDBdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIENPTlNUUlVDVE9SIFBST1BFUlRJRVNcclxuXHJcblxyXG4gICAgQmlnTnVtYmVyLmNsb25lID0gY2xvbmU7XHJcblxyXG4gICAgQmlnTnVtYmVyLlJPVU5EX1VQID0gMDtcclxuICAgIEJpZ051bWJlci5ST1VORF9ET1dOID0gMTtcclxuICAgIEJpZ051bWJlci5ST1VORF9DRUlMID0gMjtcclxuICAgIEJpZ051bWJlci5ST1VORF9GTE9PUiA9IDM7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9VUCA9IDQ7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9ET1dOID0gNTtcclxuICAgIEJpZ051bWJlci5ST1VORF9IQUxGX0VWRU4gPSA2O1xyXG4gICAgQmlnTnVtYmVyLlJPVU5EX0hBTEZfQ0VJTCA9IDc7XHJcbiAgICBCaWdOdW1iZXIuUk9VTkRfSEFMRl9GTE9PUiA9IDg7XHJcbiAgICBCaWdOdW1iZXIuRVVDTElEID0gOTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIENvbmZpZ3VyZSBpbmZyZXF1ZW50bHktY2hhbmdpbmcgbGlicmFyeS13aWRlIHNldHRpbmdzLlxyXG4gICAgICpcclxuICAgICAqIEFjY2VwdCBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIG9wdGlvbmFsIHByb3BlcnRpZXMgKGlmIHRoZSB2YWx1ZSBvZiBhIHByb3BlcnR5IGlzXHJcbiAgICAgKiBhIG51bWJlciwgaXQgbXVzdCBiZSBhbiBpbnRlZ2VyIHdpdGhpbiB0aGUgaW5jbHVzaXZlIHJhbmdlIHN0YXRlZCk6XHJcbiAgICAgKlxyXG4gICAgICogICBERUNJTUFMX1BMQUNFUyAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIE1BWFxyXG4gICAgICogICBST1VORElOR19NT0RFICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDhcclxuICAgICAqICAgRVhQT05FTlRJQUxfQVQgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggIG9yICBbLU1BWCB0byAwLCAwIHRvIE1BWF1cclxuICAgICAqICAgUkFOR0UgICAgICAgICAgICB7bnVtYmVyfG51bWJlcltdfSAgLU1BWCB0byBNQVggKG5vdCB6ZXJvKSAgb3IgIFstTUFYIHRvIC0xLCAxIHRvIE1BWF1cclxuICAgICAqICAgQ1JZUFRPICAgICAgICAgICB7Ym9vbGVhbn0gICAgICAgICAgdHJ1ZSBvciBmYWxzZVxyXG4gICAgICogICBNT0RVTE9fTU9ERSAgICAgIHtudW1iZXJ9ICAgICAgICAgICAwIHRvIDlcclxuICAgICAqICAgUE9XX1BSRUNJU0lPTiAgICAgICB7bnVtYmVyfSAgICAgICAgICAgMCB0byBNQVhcclxuICAgICAqICAgQUxQSEFCRVQgICAgICAgICB7c3RyaW5nfSAgICAgICAgICAgQSBzdHJpbmcgb2YgdHdvIG9yIG1vcmUgdW5pcXVlIGNoYXJhY3RlcnMgd2hpY2ggZG9lc1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3QgY29udGFpbiAnLicuXHJcbiAgICAgKiAgIEZPUk1BVCAgICAgICAgICAge29iamVjdH0gICAgICAgICAgIEFuIG9iamVjdCB3aXRoIHNvbWUgb2YgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICogICAgIHByZWZpeCAgICAgICAgICAgICAgICAge3N0cmluZ31cclxuICAgICAqICAgICBncm91cFNpemUgICAgICAgICAgICAgIHtudW1iZXJ9XHJcbiAgICAgKiAgICAgc2Vjb25kYXJ5R3JvdXBTaXplICAgICB7bnVtYmVyfVxyXG4gICAgICogICAgIGdyb3VwU2VwYXJhdG9yICAgICAgICAge3N0cmluZ31cclxuICAgICAqICAgICBkZWNpbWFsU2VwYXJhdG9yICAgICAgIHtzdHJpbmd9XHJcbiAgICAgKiAgICAgZnJhY3Rpb25Hcm91cFNpemUgICAgICB7bnVtYmVyfVxyXG4gICAgICogICAgIGZyYWN0aW9uR3JvdXBTZXBhcmF0b3Ige3N0cmluZ31cclxuICAgICAqICAgICBzdWZmaXggICAgICAgICAgICAgICAgIHtzdHJpbmd9XHJcbiAgICAgKlxyXG4gICAgICogKFRoZSB2YWx1ZXMgYXNzaWduZWQgdG8gdGhlIGFib3ZlIEZPUk1BVCBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90IGNoZWNrZWQgZm9yIHZhbGlkaXR5LilcclxuICAgICAqXHJcbiAgICAgKiBFLmcuXHJcbiAgICAgKiBCaWdOdW1iZXIuY29uZmlnKHsgREVDSU1BTF9QTEFDRVMgOiAyMCwgUk9VTkRJTkdfTU9ERSA6IDQgfSlcclxuICAgICAqXHJcbiAgICAgKiBJZ25vcmUgcHJvcGVydGllcy9wYXJhbWV0ZXJzIHNldCB0byBudWxsIG9yIHVuZGVmaW5lZCwgZXhjZXB0IGZvciBBTFBIQUJFVC5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYW4gb2JqZWN0IHdpdGggdGhlIHByb3BlcnRpZXMgY3VycmVudCB2YWx1ZXMuXHJcbiAgICAgKi9cclxuICAgIEJpZ051bWJlci5jb25maWcgPSBCaWdOdW1iZXIuc2V0ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICB2YXIgcCwgdjtcclxuXHJcbiAgICAgIGlmIChvYmogIT0gbnVsbCkge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSAnb2JqZWN0Jykge1xyXG5cclxuICAgICAgICAgIC8vIERFQ0lNQUxfUExBQ0VTIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBERUNJTUFMX1BMQUNFUyB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnREVDSU1BTF9QTEFDRVMnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2LCAwLCBNQVgsIHApO1xyXG4gICAgICAgICAgICBERUNJTUFMX1BMQUNFUyA9IHY7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUk9VTkRJTkdfTU9ERSB7bnVtYmVyfSBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFJPVU5ESU5HX01PREUge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ1JPVU5ESU5HX01PREUnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgICBpbnRDaGVjayh2LCAwLCA4LCBwKTtcclxuICAgICAgICAgICAgUk9VTkRJTkdfTU9ERSA9IHY7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRVhQT05FTlRJQUxfQVQge251bWJlcnxudW1iZXJbXX1cclxuICAgICAgICAgIC8vIEludGVnZXIsIC1NQVggdG8gTUFYIGluY2x1c2l2ZSBvclxyXG4gICAgICAgICAgLy8gW2ludGVnZXIgLU1BWCB0byAwIGluY2x1c2l2ZSwgMCB0byBNQVggaW5jbHVzaXZlXS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBFWFBPTkVOVElBTF9BVCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7dn0nXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnRVhQT05FTlRJQUxfQVQnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgICBpZiAodiAmJiB2LnBvcCkge1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHZbMF0sIC1NQVgsIDAsIHApO1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHZbMV0sIDAsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgICAgVE9fRVhQX05FRyA9IHZbMF07XHJcbiAgICAgICAgICAgICAgVE9fRVhQX1BPUyA9IHZbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaW50Q2hlY2sodiwgLU1BWCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgICBUT19FWFBfTkVHID0gLShUT19FWFBfUE9TID0gdiA8IDAgPyAtdiA6IHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUkFOR0Uge251bWJlcnxudW1iZXJbXX0gTm9uLXplcm8gaW50ZWdlciwgLU1BWCB0byBNQVggaW5jbHVzaXZlIG9yXHJcbiAgICAgICAgICAvLyBbaW50ZWdlciAtTUFYIHRvIC0xIGluY2x1c2l2ZSwgaW50ZWdlciAxIHRvIE1BWCBpbmNsdXNpdmVdLlxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIFJBTkdFIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZXxjYW5ub3QgYmUgemVyb306IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdSQU5HRScpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcbiAgICAgICAgICAgIGlmICh2ICYmIHYucG9wKSB7XHJcbiAgICAgICAgICAgICAgaW50Q2hlY2sodlswXSwgLU1BWCwgLTEsIHApO1xyXG4gICAgICAgICAgICAgIGludENoZWNrKHZbMV0sIDEsIE1BWCwgcCk7XHJcbiAgICAgICAgICAgICAgTUlOX0VYUCA9IHZbMF07XHJcbiAgICAgICAgICAgICAgTUFYX0VYUCA9IHZbMV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaW50Q2hlY2sodiwgLU1BWCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgICAgTUlOX0VYUCA9IC0oTUFYX0VYUCA9IHYgPCAwID8gLXYgOiB2KTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyBwICsgJyBjYW5ub3QgYmUgemVybzogJyArIHYpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENSWVBUTyB7Ym9vbGVhbn0gdHJ1ZSBvciBmYWxzZS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBDUllQVE8gbm90IHRydWUgb3IgZmFsc2U6IHt2fSdcclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBjcnlwdG8gdW5hdmFpbGFibGUnXHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHAgPSAnQ1JZUFRPJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaWYgKHYgPT09ICEhdikge1xyXG4gICAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNyeXB0byAhPSAndW5kZWZpbmVkJyAmJiBjcnlwdG8gJiZcclxuICAgICAgICAgICAgICAgICAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcyB8fCBjcnlwdG8ucmFuZG9tQnl0ZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgIENSWVBUTyA9IHY7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBDUllQVE8gPSAhdjtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdjcnlwdG8gdW5hdmFpbGFibGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgQ1JZUFRPID0gdjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgbm90IHRydWUgb3IgZmFsc2U6ICcgKyB2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE1PRFVMT19NT0RFIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gOSBpbmNsdXNpdmUuXHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gTU9EVUxPX01PREUge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3Z9J1xyXG4gICAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwID0gJ01PRFVMT19NT0RFJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgMCwgOSwgcCk7XHJcbiAgICAgICAgICAgIE1PRFVMT19NT0RFID0gdjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBQT1dfUFJFQ0lTSU9OIHtudW1iZXJ9IEludGVnZXIsIDAgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAgICAgIC8vICdbQmlnTnVtYmVyIEVycm9yXSBQT1dfUFJFQ0lTSU9OIHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdQT1dfUFJFQ0lTSU9OJykpIHtcclxuICAgICAgICAgICAgdiA9IG9ialtwXTtcclxuICAgICAgICAgICAgaW50Q2hlY2sodiwgMCwgTUFYLCBwKTtcclxuICAgICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IHY7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRk9STUFUIHtvYmplY3R9XHJcbiAgICAgICAgICAvLyAnW0JpZ051bWJlciBFcnJvcl0gRk9STUFUIG5vdCBhbiBvYmplY3Q6IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdGT1JNQVQnKSkge1xyXG4gICAgICAgICAgICB2ID0gb2JqW3BdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ29iamVjdCcpIEZPUk1BVCA9IHY7XHJcbiAgICAgICAgICAgIGVsc2UgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArIHAgKyAnIG5vdCBhbiBvYmplY3Q6ICcgKyB2KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBBTFBIQUJFVCB7c3RyaW5nfVxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIEFMUEhBQkVUIGludmFsaWQ6IHt2fSdcclxuICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocCA9ICdBTFBIQUJFVCcpKSB7XHJcbiAgICAgICAgICAgIHYgPSBvYmpbcF07XHJcblxyXG4gICAgICAgICAgICAvLyBEaXNhbGxvdyBpZiBvbmx5IG9uZSBjaGFyYWN0ZXIsXHJcbiAgICAgICAgICAgIC8vIG9yIGlmIGl0IGNvbnRhaW5zICcrJywgJy0nLCAnLicsIHdoaXRlc3BhY2UsIG9yIGEgcmVwZWF0ZWQgY2hhcmFjdGVyLlxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHYgPT0gJ3N0cmluZycgJiYgIS9eLiR8WystLlxcc118KC4pLipcXDEvLnRlc3QodikpIHtcclxuICAgICAgICAgICAgICBBTFBIQUJFVCA9IHY7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAgICAgKGJpZ251bWJlckVycm9yICsgcCArICcgaW52YWxpZDogJyArIHYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE9iamVjdCBleHBlY3RlZDoge3Z9J1xyXG4gICAgICAgICAgdGhyb3cgRXJyb3JcclxuICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnT2JqZWN0IGV4cGVjdGVkOiAnICsgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgREVDSU1BTF9QTEFDRVM6IERFQ0lNQUxfUExBQ0VTLFxyXG4gICAgICAgIFJPVU5ESU5HX01PREU6IFJPVU5ESU5HX01PREUsXHJcbiAgICAgICAgRVhQT05FTlRJQUxfQVQ6IFtUT19FWFBfTkVHLCBUT19FWFBfUE9TXSxcclxuICAgICAgICBSQU5HRTogW01JTl9FWFAsIE1BWF9FWFBdLFxyXG4gICAgICAgIENSWVBUTzogQ1JZUFRPLFxyXG4gICAgICAgIE1PRFVMT19NT0RFOiBNT0RVTE9fTU9ERSxcclxuICAgICAgICBQT1dfUFJFQ0lTSU9OOiBQT1dfUFJFQ0lTSU9OLFxyXG4gICAgICAgIEZPUk1BVDogRk9STUFULFxyXG4gICAgICAgIEFMUEhBQkVUOiBBTFBIQUJFVFxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHYgaXMgYSBCaWdOdW1iZXIgaW5zdGFuY2UsIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKlxyXG4gICAgICogSWYgQmlnTnVtYmVyLkRFQlVHIGlzIHRydWUsIHRocm93IGlmIGEgQmlnTnVtYmVyIGluc3RhbmNlIGlzIG5vdCB3ZWxsLWZvcm1lZC5cclxuICAgICAqXHJcbiAgICAgKiB2IHthbnl9XHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEludmFsaWQgQmlnTnVtYmVyOiB7dn0nXHJcbiAgICAgKi9cclxuICAgIEJpZ051bWJlci5pc0JpZ051bWJlciA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgIGlmICghdiB8fCB2Ll9pc0JpZ051bWJlciAhPT0gdHJ1ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBpZiAoIUJpZ051bWJlci5ERUJVRykgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICB2YXIgaSwgbixcclxuICAgICAgICBjID0gdi5jLFxyXG4gICAgICAgIGUgPSB2LmUsXHJcbiAgICAgICAgcyA9IHYucztcclxuXHJcbiAgICAgIG91dDogaWYgKHt9LnRvU3RyaW5nLmNhbGwoYykgPT0gJ1tvYmplY3QgQXJyYXldJykge1xyXG5cclxuICAgICAgICBpZiAoKHMgPT09IDEgfHwgcyA9PT0gLTEpICYmIGUgPj0gLU1BWCAmJiBlIDw9IE1BWCAmJiBlID09PSBtYXRoZmxvb3IoZSkpIHtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGUgZmlyc3QgZWxlbWVudCBpcyB6ZXJvLCB0aGUgQmlnTnVtYmVyIHZhbHVlIG11c3QgYmUgemVyby5cclxuICAgICAgICAgIGlmIChjWzBdID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChlID09PSAwICYmIGMubGVuZ3RoID09PSAxKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIENhbGN1bGF0ZSBudW1iZXIgb2YgZGlnaXRzIHRoYXQgY1swXSBzaG91bGQgaGF2ZSwgYmFzZWQgb24gdGhlIGV4cG9uZW50LlxyXG4gICAgICAgICAgaSA9IChlICsgMSkgJSBMT0dfQkFTRTtcclxuICAgICAgICAgIGlmIChpIDwgMSkgaSArPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgICAvLyBDYWxjdWxhdGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBjWzBdLlxyXG4gICAgICAgICAgLy9pZiAoTWF0aC5jZWlsKE1hdGgubG9nKGNbMF0gKyAxKSAvIE1hdGguTE4xMCkgPT0gaSkge1xyXG4gICAgICAgICAgaWYgKFN0cmluZyhjWzBdKS5sZW5ndGggPT0gaSkge1xyXG5cclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICBuID0gY1tpXTtcclxuICAgICAgICAgICAgICBpZiAobiA8IDAgfHwgbiA+PSBCQVNFIHx8IG4gIT09IG1hdGhmbG9vcihuKSkgYnJlYWsgb3V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBMYXN0IGVsZW1lbnQgY2Fubm90IGJlIHplcm8sIHVubGVzcyBpdCBpcyB0aGUgb25seSBlbGVtZW50LlxyXG4gICAgICAgICAgICBpZiAobiAhPT0gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgLy8gSW5maW5pdHkvTmFOXHJcbiAgICAgIH0gZWxzZSBpZiAoYyA9PT0gbnVsbCAmJiBlID09PSBudWxsICYmIChzID09PSBudWxsIHx8IHMgPT09IDEgfHwgcyA9PT0gLTEpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0ludmFsaWQgQmlnTnVtYmVyOiAnICsgdik7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWF4aW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIEJpZ051bWJlci5tYXhpbXVtID0gQmlnTnVtYmVyLm1heCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIG1heE9yTWluKGFyZ3VtZW50cywgUC5sdCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgbWluaW11bSBvZiB0aGUgYXJndW1lbnRzLlxyXG4gICAgICpcclxuICAgICAqIGFyZ3VtZW50cyB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9XHJcbiAgICAgKi9cclxuICAgIEJpZ051bWJlci5taW5pbXVtID0gQmlnTnVtYmVyLm1pbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIG1heE9yTWluKGFyZ3VtZW50cywgUC5ndCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aXRoIGEgcmFuZG9tIHZhbHVlIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiAwIGFuZCBsZXNzIHRoYW4gMSxcclxuICAgICAqIGFuZCB3aXRoIGRwLCBvciBERUNJTUFMX1BMQUNFUyBpZiBkcCBpcyBvbWl0dGVkLCBkZWNpbWFsIHBsYWNlcyAob3IgbGVzcyBpZiB0cmFpbGluZ1xyXG4gICAgICogemVyb3MgYXJlIHByb2R1Y2VkKS5cclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcH0nXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gY3J5cHRvIHVuYXZhaWxhYmxlJ1xyXG4gICAgICovXHJcbiAgICBCaWdOdW1iZXIucmFuZG9tID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHBvdzJfNTMgPSAweDIwMDAwMDAwMDAwMDAwO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIGEgNTMgYml0IGludGVnZXIgbiwgd2hlcmUgMCA8PSBuIDwgOTAwNzE5OTI1NDc0MDk5Mi5cclxuICAgICAgLy8gQ2hlY2sgaWYgTWF0aC5yYW5kb20oKSBwcm9kdWNlcyBtb3JlIHRoYW4gMzIgYml0cyBvZiByYW5kb21uZXNzLlxyXG4gICAgICAvLyBJZiBpdCBkb2VzLCBhc3N1bWUgYXQgbGVhc3QgNTMgYml0cyBhcmUgcHJvZHVjZWQsIG90aGVyd2lzZSBhc3N1bWUgYXQgbGVhc3QgMzAgYml0cy5cclxuICAgICAgLy8gMHg0MDAwMDAwMCBpcyAyXjMwLCAweDgwMDAwMCBpcyAyXjIzLCAweDFmZmZmZiBpcyAyXjIxIC0gMS5cclxuICAgICAgdmFyIHJhbmRvbTUzYml0SW50ID0gKE1hdGgucmFuZG9tKCkgKiBwb3cyXzUzKSAmIDB4MWZmZmZmXHJcbiAgICAgICA/IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1hdGhmbG9vcihNYXRoLnJhbmRvbSgpICogcG93Ml81Myk7IH1cclxuICAgICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKChNYXRoLnJhbmRvbSgpICogMHg0MDAwMDAwMCB8IDApICogMHg4MDAwMDApICtcclxuICAgICAgICAgKE1hdGgucmFuZG9tKCkgKiAweDgwMDAwMCB8IDApOyB9O1xyXG5cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICAgIHZhciBhLCBiLCBlLCBrLCB2LFxyXG4gICAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgICBjID0gW10sXHJcbiAgICAgICAgICByYW5kID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG5cclxuICAgICAgICBpZiAoZHAgPT0gbnVsbCkgZHAgPSBERUNJTUFMX1BMQUNFUztcclxuICAgICAgICBlbHNlIGludENoZWNrKGRwLCAwLCBNQVgpO1xyXG5cclxuICAgICAgICBrID0gbWF0aGNlaWwoZHAgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgIGlmIChDUllQVE8pIHtcclxuXHJcbiAgICAgICAgICAvLyBCcm93c2VycyBzdXBwb3J0aW5nIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMuXHJcbiAgICAgICAgICBpZiAoY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xyXG5cclxuICAgICAgICAgICAgYSA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KGsgKj0gMikpO1xyXG5cclxuICAgICAgICAgICAgZm9yICg7IGkgPCBrOykge1xyXG5cclxuICAgICAgICAgICAgICAvLyA1MyBiaXRzOlxyXG4gICAgICAgICAgICAgIC8vICgoTWF0aC5wb3coMiwgMzIpIC0gMSkgKiBNYXRoLnBvdygyLCAyMSkpLnRvU3RyaW5nKDIpXHJcbiAgICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDBcclxuICAgICAgICAgICAgICAvLyAoKE1hdGgucG93KDIsIDMyKSAtIDEpID4+PiAxMSkudG9TdHJpbmcoMilcclxuICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAxMTExMSAxMTExMTExMSAxMTExMTExMVxyXG4gICAgICAgICAgICAgIC8vIDB4MjAwMDAgaXMgMl4yMS5cclxuICAgICAgICAgICAgICB2ID0gYVtpXSAqIDB4MjAwMDAgKyAoYVtpICsgMV0gPj4+IDExKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gUmVqZWN0aW9uIHNhbXBsaW5nOlxyXG4gICAgICAgICAgICAgIC8vIDAgPD0gdiA8IDkwMDcxOTkyNTQ3NDA5OTJcclxuICAgICAgICAgICAgICAvLyBQcm9iYWJpbGl0eSB0aGF0IHYgPj0gOWUxNSwgaXNcclxuICAgICAgICAgICAgICAvLyA3MTk5MjU0NzQwOTkyIC8gOTAwNzE5OTI1NDc0MDk5MiB+PSAwLjAwMDgsIGkuZS4gMSBpbiAxMjUxXHJcbiAgICAgICAgICAgICAgaWYgKHYgPj0gOWUxNSkge1xyXG4gICAgICAgICAgICAgICAgYiA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDIpKTtcclxuICAgICAgICAgICAgICAgIGFbaV0gPSBiWzBdO1xyXG4gICAgICAgICAgICAgICAgYVtpICsgMV0gPSBiWzFdO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gMCA8PSB2IDw9IDg5OTk5OTk5OTk5OTk5OTlcclxuICAgICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgICAgYy5wdXNoKHYgJSAxZTE0KTtcclxuICAgICAgICAgICAgICAgIGkgKz0gMjtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSA9IGsgLyAyO1xyXG5cclxuICAgICAgICAgIC8vIE5vZGUuanMgc3VwcG9ydGluZyBjcnlwdG8ucmFuZG9tQnl0ZXMuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNyeXB0by5yYW5kb21CeXRlcykge1xyXG5cclxuICAgICAgICAgICAgLy8gYnVmZmVyXHJcbiAgICAgICAgICAgIGEgPSBjcnlwdG8ucmFuZG9tQnl0ZXMoayAqPSA3KTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoOyBpIDwgazspIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gMHgxMDAwMDAwMDAwMDAwIGlzIDJeNDgsIDB4MTAwMDAwMDAwMDAgaXMgMl40MFxyXG4gICAgICAgICAgICAgIC8vIDB4MTAwMDAwMDAwIGlzIDJeMzIsIDB4MTAwMDAwMCBpcyAyXjI0XHJcbiAgICAgICAgICAgICAgLy8gMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTEgMTExMTExMTFcclxuICAgICAgICAgICAgICAvLyAwIDw9IHYgPCA5MDA3MTk5MjU0NzQwOTkyXHJcbiAgICAgICAgICAgICAgdiA9ICgoYVtpXSAmIDMxKSAqIDB4MTAwMDAwMDAwMDAwMCkgKyAoYVtpICsgMV0gKiAweDEwMDAwMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgICAgKGFbaSArIDJdICogMHgxMDAwMDAwMDApICsgKGFbaSArIDNdICogMHgxMDAwMDAwKSArXHJcbiAgICAgICAgICAgICAgICAgKGFbaSArIDRdIDw8IDE2KSArIChhW2kgKyA1XSA8PCA4KSArIGFbaSArIDZdO1xyXG5cclxuICAgICAgICAgICAgICBpZiAodiA+PSA5ZTE1KSB7XHJcbiAgICAgICAgICAgICAgICBjcnlwdG8ucmFuZG9tQnl0ZXMoNykuY29weShhLCBpKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIDAgPD0gKHYgJSAxZTE0KSA8PSA5OTk5OTk5OTk5OTk5OVxyXG4gICAgICAgICAgICAgICAgYy5wdXNoKHYgJSAxZTE0KTtcclxuICAgICAgICAgICAgICAgIGkgKz0gNztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSA9IGsgLyA3O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgQ1JZUFRPID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnY3J5cHRvIHVuYXZhaWxhYmxlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBVc2UgTWF0aC5yYW5kb20uXHJcbiAgICAgICAgaWYgKCFDUllQVE8pIHtcclxuXHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGs7KSB7XHJcbiAgICAgICAgICAgIHYgPSByYW5kb201M2JpdEludCgpO1xyXG4gICAgICAgICAgICBpZiAodiA8IDllMTUpIGNbaSsrXSA9IHYgJSAxZTE0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgayA9IGNbLS1pXTtcclxuICAgICAgICBkcCAlPSBMT0dfQkFTRTtcclxuXHJcbiAgICAgICAgLy8gQ29udmVydCB0cmFpbGluZyBkaWdpdHMgdG8gemVyb3MgYWNjb3JkaW5nIHRvIGRwLlxyXG4gICAgICAgIGlmIChrICYmIGRwKSB7XHJcbiAgICAgICAgICB2ID0gUE9XU19URU5bTE9HX0JBU0UgLSBkcF07XHJcbiAgICAgICAgICBjW2ldID0gbWF0aGZsb29yKGsgLyB2KSAqIHY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgdHJhaWxpbmcgZWxlbWVudHMgd2hpY2ggYXJlIHplcm8uXHJcbiAgICAgICAgZm9yICg7IGNbaV0gPT09IDA7IGMucG9wKCksIGktLSk7XHJcblxyXG4gICAgICAgIC8vIFplcm8/XHJcbiAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICBjID0gW2UgPSAwXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBsZWFkaW5nIGVsZW1lbnRzIHdoaWNoIGFyZSB6ZXJvIGFuZCBhZGp1c3QgZXhwb25lbnQgYWNjb3JkaW5nbHkuXHJcbiAgICAgICAgICBmb3IgKGUgPSAtMSA7IGNbMF0gPT09IDA7IGMuc3BsaWNlKDAsIDEpLCBlIC09IExPR19CQVNFKTtcclxuXHJcbiAgICAgICAgICAvLyBDb3VudCB0aGUgZGlnaXRzIG9mIHRoZSBmaXJzdCBlbGVtZW50IG9mIGMgdG8gZGV0ZXJtaW5lIGxlYWRpbmcgemVyb3MsIGFuZC4uLlxyXG4gICAgICAgICAgZm9yIChpID0gMSwgdiA9IGNbMF07IHYgPj0gMTA7IHYgLz0gMTAsIGkrKyk7XHJcblxyXG4gICAgICAgICAgLy8gYWRqdXN0IHRoZSBleHBvbmVudCBhY2NvcmRpbmdseS5cclxuICAgICAgICAgIGlmIChpIDwgTE9HX0JBU0UpIGUgLT0gTE9HX0JBU0UgLSBpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmFuZC5lID0gZTtcclxuICAgICAgICByYW5kLmMgPSBjO1xyXG4gICAgICAgIHJldHVybiByYW5kO1xyXG4gICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgc3VtIG9mIHRoZSBhcmd1bWVudHMuXHJcbiAgICAgKlxyXG4gICAgICogYXJndW1lbnRzIHtudW1iZXJ8c3RyaW5nfEJpZ051bWJlcn1cclxuICAgICAqL1xyXG4gICAgQmlnTnVtYmVyLnN1bSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGkgPSAxLFxyXG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHMsXHJcbiAgICAgICAgc3VtID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuICAgICAgZm9yICg7IGkgPCBhcmdzLmxlbmd0aDspIHN1bSA9IHN1bS5wbHVzKGFyZ3NbaSsrXSk7XHJcbiAgICAgIHJldHVybiBzdW07XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvLyBQUklWQVRFIEZVTkNUSU9OU1xyXG5cclxuXHJcbiAgICAvLyBDYWxsZWQgYnkgQmlnTnVtYmVyIGFuZCBCaWdOdW1iZXIucHJvdG90eXBlLnRvU3RyaW5nLlxyXG4gICAgY29udmVydEJhc2UgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgZGVjaW1hbCA9ICcwMTIzNDU2Nzg5JztcclxuXHJcbiAgICAgIC8qXHJcbiAgICAgICAqIENvbnZlcnQgc3RyaW5nIG9mIGJhc2VJbiB0byBhbiBhcnJheSBvZiBudW1iZXJzIG9mIGJhc2VPdXQuXHJcbiAgICAgICAqIEVnLiB0b0Jhc2VPdXQoJzI1NScsIDEwLCAxNikgcmV0dXJucyBbMTUsIDE1XS5cclxuICAgICAgICogRWcuIHRvQmFzZU91dCgnZmYnLCAxNiwgMTApIHJldHVybnMgWzIsIDUsIDVdLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gdG9CYXNlT3V0KHN0ciwgYmFzZUluLCBiYXNlT3V0LCBhbHBoYWJldCkge1xyXG4gICAgICAgIHZhciBqLFxyXG4gICAgICAgICAgYXJyID0gWzBdLFxyXG4gICAgICAgICAgYXJyTCxcclxuICAgICAgICAgIGkgPSAwLFxyXG4gICAgICAgICAgbGVuID0gc3RyLmxlbmd0aDtcclxuXHJcbiAgICAgICAgZm9yICg7IGkgPCBsZW47KSB7XHJcbiAgICAgICAgICBmb3IgKGFyckwgPSBhcnIubGVuZ3RoOyBhcnJMLS07IGFyclthcnJMXSAqPSBiYXNlSW4pO1xyXG5cclxuICAgICAgICAgIGFyclswXSArPSBhbHBoYWJldC5pbmRleE9mKHN0ci5jaGFyQXQoaSsrKSk7XHJcblxyXG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGFyci5sZW5ndGg7IGorKykge1xyXG5cclxuICAgICAgICAgICAgaWYgKGFycltqXSA+IGJhc2VPdXQgLSAxKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGFycltqICsgMV0gPT0gbnVsbCkgYXJyW2ogKyAxXSA9IDA7XHJcbiAgICAgICAgICAgICAgYXJyW2ogKyAxXSArPSBhcnJbal0gLyBiYXNlT3V0IHwgMDtcclxuICAgICAgICAgICAgICBhcnJbal0gJT0gYmFzZU91dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFyci5yZXZlcnNlKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENvbnZlcnQgYSBudW1lcmljIHN0cmluZyBvZiBiYXNlSW4gdG8gYSBudW1lcmljIHN0cmluZyBvZiBiYXNlT3V0LlxyXG4gICAgICAvLyBJZiB0aGUgY2FsbGVyIGlzIHRvU3RyaW5nLCB3ZSBhcmUgY29udmVydGluZyBmcm9tIGJhc2UgMTAgdG8gYmFzZU91dC5cclxuICAgICAgLy8gSWYgdGhlIGNhbGxlciBpcyBCaWdOdW1iZXIsIHdlIGFyZSBjb252ZXJ0aW5nIGZyb20gYmFzZUluIHRvIGJhc2UgMTAuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RyLCBiYXNlSW4sIGJhc2VPdXQsIHNpZ24sIGNhbGxlcklzVG9TdHJpbmcpIHtcclxuICAgICAgICB2YXIgYWxwaGFiZXQsIGQsIGUsIGssIHIsIHgsIHhjLCB5LFxyXG4gICAgICAgICAgaSA9IHN0ci5pbmRleE9mKCcuJyksXHJcbiAgICAgICAgICBkcCA9IERFQ0lNQUxfUExBQ0VTLFxyXG4gICAgICAgICAgcm0gPSBST1VORElOR19NT0RFO1xyXG5cclxuICAgICAgICAvLyBOb24taW50ZWdlci5cclxuICAgICAgICBpZiAoaSA+PSAwKSB7XHJcbiAgICAgICAgICBrID0gUE9XX1BSRUNJU0lPTjtcclxuXHJcbiAgICAgICAgICAvLyBVbmxpbWl0ZWQgcHJlY2lzaW9uLlxyXG4gICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IDA7XHJcbiAgICAgICAgICBzdHIgPSBzdHIucmVwbGFjZSgnLicsICcnKTtcclxuICAgICAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKGJhc2VJbik7XHJcbiAgICAgICAgICB4ID0geS5wb3coc3RyLmxlbmd0aCAtIGkpO1xyXG4gICAgICAgICAgUE9XX1BSRUNJU0lPTiA9IGs7XHJcblxyXG4gICAgICAgICAgLy8gQ29udmVydCBzdHIgYXMgaWYgYW4gaW50ZWdlciwgdGhlbiByZXN0b3JlIHRoZSBmcmFjdGlvbiBwYXJ0IGJ5IGRpdmlkaW5nIHRoZVxyXG4gICAgICAgICAgLy8gcmVzdWx0IGJ5IGl0cyBiYXNlIHJhaXNlZCB0byBhIHBvd2VyLlxyXG5cclxuICAgICAgICAgIHkuYyA9IHRvQmFzZU91dCh0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyh4LmMpLCB4LmUsICcwJyksXHJcbiAgICAgICAgICAgMTAsIGJhc2VPdXQsIGRlY2ltYWwpO1xyXG4gICAgICAgICAgeS5lID0geS5jLmxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbnZlcnQgdGhlIG51bWJlciBhcyBpbnRlZ2VyLlxyXG5cclxuICAgICAgICB4YyA9IHRvQmFzZU91dChzdHIsIGJhc2VJbiwgYmFzZU91dCwgY2FsbGVySXNUb1N0cmluZ1xyXG4gICAgICAgICA/IChhbHBoYWJldCA9IEFMUEhBQkVULCBkZWNpbWFsKVxyXG4gICAgICAgICA6IChhbHBoYWJldCA9IGRlY2ltYWwsIEFMUEhBQkVUKSk7XHJcblxyXG4gICAgICAgIC8vIHhjIG5vdyByZXByZXNlbnRzIHN0ciBhcyBhbiBpbnRlZ2VyIGFuZCBjb252ZXJ0ZWQgdG8gYmFzZU91dC4gZSBpcyB0aGUgZXhwb25lbnQuXHJcbiAgICAgICAgZSA9IGsgPSB4Yy5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKDsgeGNbLS1rXSA9PSAwOyB4Yy5wb3AoKSk7XHJcblxyXG4gICAgICAgIC8vIFplcm8/XHJcbiAgICAgICAgaWYgKCF4Y1swXSkgcmV0dXJuIGFscGhhYmV0LmNoYXJBdCgwKTtcclxuXHJcbiAgICAgICAgLy8gRG9lcyBzdHIgcmVwcmVzZW50IGFuIGludGVnZXI/IElmIHNvLCBubyBuZWVkIGZvciB0aGUgZGl2aXNpb24uXHJcbiAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICAtLWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHguYyA9IHhjO1xyXG4gICAgICAgICAgeC5lID0gZTtcclxuXHJcbiAgICAgICAgICAvLyBUaGUgc2lnbiBpcyBuZWVkZWQgZm9yIGNvcnJlY3Qgcm91bmRpbmcuXHJcbiAgICAgICAgICB4LnMgPSBzaWduO1xyXG4gICAgICAgICAgeCA9IGRpdih4LCB5LCBkcCwgcm0sIGJhc2VPdXQpO1xyXG4gICAgICAgICAgeGMgPSB4LmM7XHJcbiAgICAgICAgICByID0geC5yO1xyXG4gICAgICAgICAgZSA9IHguZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHhjIG5vdyByZXByZXNlbnRzIHN0ciBjb252ZXJ0ZWQgdG8gYmFzZU91dC5cclxuXHJcbiAgICAgICAgLy8gVEhlIGluZGV4IG9mIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICBkID0gZSArIGRwICsgMTtcclxuXHJcbiAgICAgICAgLy8gVGhlIHJvdW5kaW5nIGRpZ2l0OiB0aGUgZGlnaXQgdG8gdGhlIHJpZ2h0IG9mIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAgIGkgPSB4Y1tkXTtcclxuXHJcbiAgICAgICAgLy8gTG9vayBhdCB0aGUgcm91bmRpbmcgZGlnaXRzIGFuZCBtb2RlIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHJvdW5kIHVwLlxyXG5cclxuICAgICAgICBrID0gYmFzZU91dCAvIDI7XHJcbiAgICAgICAgciA9IHIgfHwgZCA8IDAgfHwgeGNbZCArIDFdICE9IG51bGw7XHJcblxyXG4gICAgICAgIHIgPSBybSA8IDQgPyAoaSAhPSBudWxsIHx8IHIpICYmIChybSA9PSAwIHx8IHJtID09ICh4LnMgPCAwID8gMyA6IDIpKVxyXG4gICAgICAgICAgICAgIDogaSA+IGsgfHwgaSA9PSBrICYmKHJtID09IDQgfHwgciB8fCBybSA9PSA2ICYmIHhjW2QgLSAxXSAmIDEgfHxcclxuICAgICAgICAgICAgICAgcm0gPT0gKHgucyA8IDAgPyA4IDogNykpO1xyXG5cclxuICAgICAgICAvLyBJZiB0aGUgaW5kZXggb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG5vdCBncmVhdGVyIHRoYW4gemVybywgb3IgeGMgcmVwcmVzZW50c1xyXG4gICAgICAgIC8vIHplcm8sIHRoZW4gdGhlIHJlc3VsdCBvZiB0aGUgYmFzZSBjb252ZXJzaW9uIGlzIHplcm8gb3IsIGlmIHJvdW5kaW5nIHVwLCBhIHZhbHVlXHJcbiAgICAgICAgLy8gc3VjaCBhcyAwLjAwMDAxLlxyXG4gICAgICAgIGlmIChkIDwgMSB8fCAheGNbMF0pIHtcclxuXHJcbiAgICAgICAgICAvLyAxXi1kcCBvciAwXHJcbiAgICAgICAgICBzdHIgPSByID8gdG9GaXhlZFBvaW50KGFscGhhYmV0LmNoYXJBdCgxKSwgLWRwLCBhbHBoYWJldC5jaGFyQXQoMCkpIDogYWxwaGFiZXQuY2hhckF0KDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgLy8gVHJ1bmNhdGUgeGMgdG8gdGhlIHJlcXVpcmVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAgICAgIHhjLmxlbmd0aCA9IGQ7XHJcblxyXG4gICAgICAgICAgLy8gUm91bmQgdXA/XHJcbiAgICAgICAgICBpZiAocikge1xyXG5cclxuICAgICAgICAgICAgLy8gUm91bmRpbmcgdXAgbWF5IG1lYW4gdGhlIHByZXZpb3VzIGRpZ2l0IGhhcyB0byBiZSByb3VuZGVkIHVwIGFuZCBzbyBvbi5cclxuICAgICAgICAgICAgZm9yICgtLWJhc2VPdXQ7ICsreGNbLS1kXSA+IGJhc2VPdXQ7KSB7XHJcbiAgICAgICAgICAgICAgeGNbZF0gPSAwO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIWQpIHtcclxuICAgICAgICAgICAgICAgICsrZTtcclxuICAgICAgICAgICAgICAgIHhjID0gWzFdLmNvbmNhdCh4Yyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgICAgZm9yIChrID0geGMubGVuZ3RoOyAheGNbLS1rXTspO1xyXG5cclxuICAgICAgICAgIC8vIEUuZy4gWzQsIDExLCAxNV0gYmVjb21lcyA0YmYuXHJcbiAgICAgICAgICBmb3IgKGkgPSAwLCBzdHIgPSAnJzsgaSA8PSBrOyBzdHIgKz0gYWxwaGFiZXQuY2hhckF0KHhjW2krK10pKTtcclxuXHJcbiAgICAgICAgICAvLyBBZGQgbGVhZGluZyB6ZXJvcywgZGVjaW1hbCBwb2ludCBhbmQgdHJhaWxpbmcgemVyb3MgYXMgcmVxdWlyZWQuXHJcbiAgICAgICAgICBzdHIgPSB0b0ZpeGVkUG9pbnQoc3RyLCBlLCBhbHBoYWJldC5jaGFyQXQoMCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGhlIGNhbGxlciB3aWxsIGFkZCB0aGUgc2lnbi5cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICB9O1xyXG4gICAgfSkoKTtcclxuXHJcblxyXG4gICAgLy8gUGVyZm9ybSBkaXZpc2lvbiBpbiB0aGUgc3BlY2lmaWVkIGJhc2UuIENhbGxlZCBieSBkaXYgYW5kIGNvbnZlcnRCYXNlLlxyXG4gICAgZGl2ID0gKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgIC8vIEFzc3VtZSBub24temVybyB4IGFuZCBrLlxyXG4gICAgICBmdW5jdGlvbiBtdWx0aXBseSh4LCBrLCBiYXNlKSB7XHJcbiAgICAgICAgdmFyIG0sIHRlbXAsIHhsbywgeGhpLFxyXG4gICAgICAgICAgY2FycnkgPSAwLFxyXG4gICAgICAgICAgaSA9IHgubGVuZ3RoLFxyXG4gICAgICAgICAga2xvID0gayAlIFNRUlRfQkFTRSxcclxuICAgICAgICAgIGtoaSA9IGsgLyBTUVJUX0JBU0UgfCAwO1xyXG5cclxuICAgICAgICBmb3IgKHggPSB4LnNsaWNlKCk7IGktLTspIHtcclxuICAgICAgICAgIHhsbyA9IHhbaV0gJSBTUVJUX0JBU0U7XHJcbiAgICAgICAgICB4aGkgPSB4W2ldIC8gU1FSVF9CQVNFIHwgMDtcclxuICAgICAgICAgIG0gPSBraGkgKiB4bG8gKyB4aGkgKiBrbG87XHJcbiAgICAgICAgICB0ZW1wID0ga2xvICogeGxvICsgKChtICUgU1FSVF9CQVNFKSAqIFNRUlRfQkFTRSkgKyBjYXJyeTtcclxuICAgICAgICAgIGNhcnJ5ID0gKHRlbXAgLyBiYXNlIHwgMCkgKyAobSAvIFNRUlRfQkFTRSB8IDApICsga2hpICogeGhpO1xyXG4gICAgICAgICAgeFtpXSA9IHRlbXAgJSBiYXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNhcnJ5KSB4ID0gW2NhcnJ5XS5jb25jYXQoeCk7XHJcblxyXG4gICAgICAgIHJldHVybiB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjb21wYXJlKGEsIGIsIGFMLCBiTCkge1xyXG4gICAgICAgIHZhciBpLCBjbXA7XHJcblxyXG4gICAgICAgIGlmIChhTCAhPSBiTCkge1xyXG4gICAgICAgICAgY21wID0gYUwgPiBiTCA/IDEgOiAtMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgIGZvciAoaSA9IGNtcCA9IDA7IGkgPCBhTDsgaSsrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoYVtpXSAhPSBiW2ldKSB7XHJcbiAgICAgICAgICAgICAgY21wID0gYVtpXSA+IGJbaV0gPyAxIDogLTE7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjbXA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHN1YnRyYWN0KGEsIGIsIGFMLCBiYXNlKSB7XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG5cclxuICAgICAgICAvLyBTdWJ0cmFjdCBiIGZyb20gYS5cclxuICAgICAgICBmb3IgKDsgYUwtLTspIHtcclxuICAgICAgICAgIGFbYUxdIC09IGk7XHJcbiAgICAgICAgICBpID0gYVthTF0gPCBiW2FMXSA/IDEgOiAwO1xyXG4gICAgICAgICAgYVthTF0gPSBpICogYmFzZSArIGFbYUxdIC0gYlthTF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKDsgIWFbMF0gJiYgYS5sZW5ndGggPiAxOyBhLnNwbGljZSgwLCAxKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHg6IGRpdmlkZW5kLCB5OiBkaXZpc29yLlxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHgsIHksIGRwLCBybSwgYmFzZSkge1xyXG4gICAgICAgIHZhciBjbXAsIGUsIGksIG1vcmUsIG4sIHByb2QsIHByb2RMLCBxLCBxYywgcmVtLCByZW1MLCByZW0wLCB4aSwgeEwsIHljMCxcclxuICAgICAgICAgIHlMLCB5eixcclxuICAgICAgICAgIHMgPSB4LnMgPT0geS5zID8gMSA6IC0xLFxyXG4gICAgICAgICAgeGMgPSB4LmMsXHJcbiAgICAgICAgICB5YyA9IHkuYztcclxuXHJcbiAgICAgICAgLy8gRWl0aGVyIE5hTiwgSW5maW5pdHkgb3IgMD9cclxuICAgICAgICBpZiAoIXhjIHx8ICF4Y1swXSB8fCAheWMgfHwgIXljWzBdKSB7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoXHJcblxyXG4gICAgICAgICAgIC8vIFJldHVybiBOYU4gaWYgZWl0aGVyIE5hTiwgb3IgYm90aCBJbmZpbml0eSBvciAwLlxyXG4gICAgICAgICAgICF4LnMgfHwgIXkucyB8fCAoeGMgPyB5YyAmJiB4Y1swXSA9PSB5Y1swXSA6ICF5YykgPyBOYU4gOlxyXG5cclxuICAgICAgICAgICAgLy8gUmV0dXJuIMKxMCBpZiB4IGlzIMKxMCBvciB5IGlzIMKxSW5maW5pdHksIG9yIHJldHVybiDCsUluZmluaXR5IGFzIHkgaXMgwrEwLlxyXG4gICAgICAgICAgICB4YyAmJiB4Y1swXSA9PSAwIHx8ICF5YyA/IHMgKiAwIDogcyAvIDBcclxuICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHEgPSBuZXcgQmlnTnVtYmVyKHMpO1xyXG4gICAgICAgIHFjID0gcS5jID0gW107XHJcbiAgICAgICAgZSA9IHguZSAtIHkuZTtcclxuICAgICAgICBzID0gZHAgKyBlICsgMTtcclxuXHJcbiAgICAgICAgaWYgKCFiYXNlKSB7XHJcbiAgICAgICAgICBiYXNlID0gQkFTRTtcclxuICAgICAgICAgIGUgPSBiaXRGbG9vcih4LmUgLyBMT0dfQkFTRSkgLSBiaXRGbG9vcih5LmUgLyBMT0dfQkFTRSk7XHJcbiAgICAgICAgICBzID0gcyAvIExPR19CQVNFIHwgMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlc3VsdCBleHBvbmVudCBtYXkgYmUgb25lIGxlc3MgdGhlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiBlLlxyXG4gICAgICAgIC8vIFRoZSBjb2VmZmljaWVudHMgb2YgdGhlIEJpZ051bWJlcnMgZnJvbSBjb252ZXJ0QmFzZSBtYXkgaGF2ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgICBmb3IgKGkgPSAwOyB5Y1tpXSA9PSAoeGNbaV0gfHwgMCk7IGkrKyk7XHJcblxyXG4gICAgICAgIGlmICh5Y1tpXSA+ICh4Y1tpXSB8fCAwKSkgZS0tO1xyXG5cclxuICAgICAgICBpZiAocyA8IDApIHtcclxuICAgICAgICAgIHFjLnB1c2goMSk7XHJcbiAgICAgICAgICBtb3JlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeEwgPSB4Yy5sZW5ndGg7XHJcbiAgICAgICAgICB5TCA9IHljLmxlbmd0aDtcclxuICAgICAgICAgIGkgPSAwO1xyXG4gICAgICAgICAgcyArPSAyO1xyXG5cclxuICAgICAgICAgIC8vIE5vcm1hbGlzZSB4YyBhbmQgeWMgc28gaGlnaGVzdCBvcmRlciBkaWdpdCBvZiB5YyBpcyA+PSBiYXNlIC8gMi5cclxuXHJcbiAgICAgICAgICBuID0gbWF0aGZsb29yKGJhc2UgLyAoeWNbMF0gKyAxKSk7XHJcblxyXG4gICAgICAgICAgLy8gTm90IG5lY2Vzc2FyeSwgYnV0IHRvIGhhbmRsZSBvZGQgYmFzZXMgd2hlcmUgeWNbMF0gPT0gKGJhc2UgLyAyKSAtIDEuXHJcbiAgICAgICAgICAvLyBpZiAobiA+IDEgfHwgbisrID09IDEgJiYgeWNbMF0gPCBiYXNlIC8gMikge1xyXG4gICAgICAgICAgaWYgKG4gPiAxKSB7XHJcbiAgICAgICAgICAgIHljID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICB4YyA9IG11bHRpcGx5KHhjLCBuLCBiYXNlKTtcclxuICAgICAgICAgICAgeUwgPSB5Yy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHhMID0geGMubGVuZ3RoO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHhpID0geUw7XHJcbiAgICAgICAgICByZW0gPSB4Yy5zbGljZSgwLCB5TCk7XHJcbiAgICAgICAgICByZW1MID0gcmVtLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAvLyBBZGQgemVyb3MgdG8gbWFrZSByZW1haW5kZXIgYXMgbG9uZyBhcyBkaXZpc29yLlxyXG4gICAgICAgICAgZm9yICg7IHJlbUwgPCB5TDsgcmVtW3JlbUwrK10gPSAwKTtcclxuICAgICAgICAgIHl6ID0geWMuc2xpY2UoKTtcclxuICAgICAgICAgIHl6ID0gWzBdLmNvbmNhdCh5eik7XHJcbiAgICAgICAgICB5YzAgPSB5Y1swXTtcclxuICAgICAgICAgIGlmICh5Y1sxXSA+PSBiYXNlIC8gMikgeWMwKys7XHJcbiAgICAgICAgICAvLyBOb3QgbmVjZXNzYXJ5LCBidXQgdG8gcHJldmVudCB0cmlhbCBkaWdpdCBuID4gYmFzZSwgd2hlbiB1c2luZyBiYXNlIDMuXHJcbiAgICAgICAgICAvLyBlbHNlIGlmIChiYXNlID09IDMgJiYgeWMwID09IDEpIHljMCA9IDEgKyAxZS0xNTtcclxuXHJcbiAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIG4gPSAwO1xyXG5cclxuICAgICAgICAgICAgLy8gQ29tcGFyZSBkaXZpc29yIGFuZCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgIGNtcCA9IGNvbXBhcmUoeWMsIHJlbSwgeUwsIHJlbUwpO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgZGl2aXNvciA8IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgaWYgKGNtcCA8IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRyaWFsIGRpZ2l0LCBuLlxyXG5cclxuICAgICAgICAgICAgICByZW0wID0gcmVtWzBdO1xyXG4gICAgICAgICAgICAgIGlmICh5TCAhPSByZW1MKSByZW0wID0gcmVtMCAqIGJhc2UgKyAocmVtWzFdIHx8IDApO1xyXG5cclxuICAgICAgICAgICAgICAvLyBuIGlzIGhvdyBtYW55IHRpbWVzIHRoZSBkaXZpc29yIGdvZXMgaW50byB0aGUgY3VycmVudCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgbiA9IG1hdGhmbG9vcihyZW0wIC8geWMwKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gIEFsZ29yaXRobTpcclxuICAgICAgICAgICAgICAvLyAgcHJvZHVjdCA9IGRpdmlzb3IgbXVsdGlwbGllZCBieSB0cmlhbCBkaWdpdCAobikuXHJcbiAgICAgICAgICAgICAgLy8gIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgIC8vICBJZiBwcm9kdWN0IGlzIGdyZWF0ZXIgdGhhbiByZW1haW5kZXI6XHJcbiAgICAgICAgICAgICAgLy8gICAgU3VidHJhY3QgZGl2aXNvciBmcm9tIHByb2R1Y3QsIGRlY3JlbWVudCB0cmlhbCBkaWdpdC5cclxuICAgICAgICAgICAgICAvLyAgU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAvLyAgSWYgcHJvZHVjdCB3YXMgbGVzcyB0aGFuIHJlbWFpbmRlciBhdCB0aGUgbGFzdCBjb21wYXJlOlxyXG4gICAgICAgICAgICAgIC8vICAgIENvbXBhcmUgbmV3IHJlbWFpbmRlciBhbmQgZGl2aXNvci5cclxuICAgICAgICAgICAgICAvLyAgICBJZiByZW1haW5kZXIgaXMgZ3JlYXRlciB0aGFuIGRpdmlzb3I6XHJcbiAgICAgICAgICAgICAgLy8gICAgICBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLCBpbmNyZW1lbnQgdHJpYWwgZGlnaXQuXHJcblxyXG4gICAgICAgICAgICAgIGlmIChuID4gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIG4gbWF5IGJlID4gYmFzZSBvbmx5IHdoZW4gYmFzZSBpcyAzLlxyXG4gICAgICAgICAgICAgICAgaWYgKG4gPj0gYmFzZSkgbiA9IGJhc2UgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yICogdHJpYWwgZGlnaXQuXHJcbiAgICAgICAgICAgICAgICBwcm9kID0gbXVsdGlwbHkoeWMsIG4sIGJhc2UpO1xyXG4gICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgcHJvZHVjdCBhbmQgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCA+IHJlbWFpbmRlciB0aGVuIHRyaWFsIGRpZ2l0IG4gdG9vIGhpZ2guXHJcbiAgICAgICAgICAgICAgICAvLyBuIGlzIDEgdG9vIGhpZ2ggYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCBpcyBub3Qga25vd24gdG8gaGF2ZVxyXG4gICAgICAgICAgICAgICAgLy8gZXZlciBiZWVuIG1vcmUgdGhhbiAxIHRvbyBoaWdoLlxyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGNvbXBhcmUocHJvZCwgcmVtLCBwcm9kTCwgcmVtTCkgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICBuLS07XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBTdWJ0cmFjdCBkaXZpc29yIGZyb20gcHJvZHVjdC5cclxuICAgICAgICAgICAgICAgICAgc3VidHJhY3QocHJvZCwgeUwgPCBwcm9kTCA/IHl6IDogeWMsIHByb2RMLCBiYXNlKTtcclxuICAgICAgICAgICAgICAgICAgcHJvZEwgPSBwcm9kLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgY21wID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIG4gaXMgMCBvciAxLCBjbXAgaXMgLTEuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBuIGlzIDAsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY29tcGFyZSB5YyBhbmQgcmVtIGFnYWluIGJlbG93LFxyXG4gICAgICAgICAgICAgICAgLy8gc28gY2hhbmdlIGNtcCB0byAxIHRvIGF2b2lkIGl0LlxyXG4gICAgICAgICAgICAgICAgLy8gSWYgbiBpcyAxLCBsZWF2ZSBjbXAgYXMgLTEsIHNvIHljIGFuZCByZW0gYXJlIGNvbXBhcmVkIGFnYWluLlxyXG4gICAgICAgICAgICAgICAgaWYgKG4gPT0gMCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgLy8gZGl2aXNvciA8IHJlbWFpbmRlciwgc28gbiBtdXN0IGJlIGF0IGxlYXN0IDEuXHJcbiAgICAgICAgICAgICAgICAgIGNtcCA9IG4gPSAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHByb2R1Y3QgPSBkaXZpc29yXHJcbiAgICAgICAgICAgICAgICBwcm9kID0geWMuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIHByb2RMID0gcHJvZC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAocHJvZEwgPCByZW1MKSBwcm9kID0gWzBdLmNvbmNhdChwcm9kKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gU3VidHJhY3QgcHJvZHVjdCBmcm9tIHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICBzdWJ0cmFjdChyZW0sIHByb2QsIHJlbUwsIGJhc2UpO1xyXG4gICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgICAgLy8gSWYgcHJvZHVjdCB3YXMgPCByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgaWYgKGNtcCA9PSAtMSkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgZGl2aXNvciBhbmQgbmV3IHJlbWFpbmRlci5cclxuICAgICAgICAgICAgICAgIC8vIElmIGRpdmlzb3IgPCBuZXcgcmVtYWluZGVyLCBzdWJ0cmFjdCBkaXZpc29yIGZyb20gcmVtYWluZGVyLlxyXG4gICAgICAgICAgICAgICAgLy8gVHJpYWwgZGlnaXQgbiB0b28gbG93LlxyXG4gICAgICAgICAgICAgICAgLy8gbiBpcyAxIHRvbyBsb3cgYWJvdXQgNSUgb2YgdGhlIHRpbWUsIGFuZCB2ZXJ5IHJhcmVseSAyIHRvbyBsb3cuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY29tcGFyZSh5YywgcmVtLCB5TCwgcmVtTCkgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgIG4rKztcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFN1YnRyYWN0IGRpdmlzb3IgZnJvbSByZW1haW5kZXIuXHJcbiAgICAgICAgICAgICAgICAgIHN1YnRyYWN0KHJlbSwgeUwgPCByZW1MID8geXogOiB5YywgcmVtTCwgYmFzZSk7XHJcbiAgICAgICAgICAgICAgICAgIHJlbUwgPSByZW0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT09IDApIHtcclxuICAgICAgICAgICAgICBuKys7XHJcbiAgICAgICAgICAgICAgcmVtID0gWzBdO1xyXG4gICAgICAgICAgICB9IC8vIGVsc2UgY21wID09PSAxIGFuZCBuIHdpbGwgYmUgMFxyXG5cclxuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXh0IGRpZ2l0LCBuLCB0byB0aGUgcmVzdWx0IGFycmF5LlxyXG4gICAgICAgICAgICBxY1tpKytdID0gbjtcclxuXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgcmVtYWluZGVyLlxyXG4gICAgICAgICAgICBpZiAocmVtWzBdKSB7XHJcbiAgICAgICAgICAgICAgcmVtW3JlbUwrK10gPSB4Y1t4aV0gfHwgMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZW0gPSBbeGNbeGldXTtcclxuICAgICAgICAgICAgICByZW1MID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSB3aGlsZSAoKHhpKysgPCB4TCB8fCByZW1bMF0gIT0gbnVsbCkgJiYgcy0tKTtcclxuXHJcbiAgICAgICAgICBtb3JlID0gcmVtWzBdICE9IG51bGw7XHJcblxyXG4gICAgICAgICAgLy8gTGVhZGluZyB6ZXJvP1xyXG4gICAgICAgICAgaWYgKCFxY1swXSkgcWMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJhc2UgPT0gQkFTRSkge1xyXG5cclxuICAgICAgICAgIC8vIFRvIGNhbGN1bGF0ZSBxLmUsIGZpcnN0IGdldCB0aGUgbnVtYmVyIG9mIGRpZ2l0cyBvZiBxY1swXS5cclxuICAgICAgICAgIGZvciAoaSA9IDEsIHMgPSBxY1swXTsgcyA+PSAxMDsgcyAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgICAgICByb3VuZChxLCBkcCArIChxLmUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgKyAxLCBybSwgbW9yZSk7XHJcblxyXG4gICAgICAgIC8vIENhbGxlciBpcyBjb252ZXJ0QmFzZS5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcS5lID0gZTtcclxuICAgICAgICAgIHEuciA9ICttb3JlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHE7XHJcbiAgICAgIH07XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyIG4gaW4gZml4ZWQtcG9pbnQgb3IgZXhwb25lbnRpYWxcclxuICAgICAqIG5vdGF0aW9uIHJvdW5kZWQgdG8gdGhlIHNwZWNpZmllZCBkZWNpbWFsIHBsYWNlcyBvciBzaWduaWZpY2FudCBkaWdpdHMuXHJcbiAgICAgKlxyXG4gICAgICogbjogYSBCaWdOdW1iZXIuXHJcbiAgICAgKiBpOiB0aGUgaW5kZXggb2YgdGhlIGxhc3QgZGlnaXQgcmVxdWlyZWQgKGkuZS4gdGhlIGRpZ2l0IHRoYXQgbWF5IGJlIHJvdW5kZWQgdXApLlxyXG4gICAgICogcm06IHRoZSByb3VuZGluZyBtb2RlLlxyXG4gICAgICogaWQ6IDEgKHRvRXhwb25lbnRpYWwpIG9yIDIgKHRvUHJlY2lzaW9uKS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZm9ybWF0KG4sIGksIHJtLCBpZCkge1xyXG4gICAgICB2YXIgYzAsIGUsIG5lLCBsZW4sIHN0cjtcclxuXHJcbiAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgaWYgKCFuLmMpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICBjMCA9IG4uY1swXTtcclxuICAgICAgbmUgPSBuLmU7XHJcblxyXG4gICAgICBpZiAoaSA9PSBudWxsKSB7XHJcbiAgICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG4gICAgICAgIHN0ciA9IGlkID09IDEgfHwgaWQgPT0gMiAmJiAobmUgPD0gVE9fRVhQX05FRyB8fCBuZSA+PSBUT19FWFBfUE9TKVxyXG4gICAgICAgICA/IHRvRXhwb25lbnRpYWwoc3RyLCBuZSlcclxuICAgICAgICAgOiB0b0ZpeGVkUG9pbnQoc3RyLCBuZSwgJzAnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgaSwgcm0pO1xyXG5cclxuICAgICAgICAvLyBuLmUgbWF5IGhhdmUgY2hhbmdlZCBpZiB0aGUgdmFsdWUgd2FzIHJvdW5kZWQgdXAuXHJcbiAgICAgICAgZSA9IG4uZTtcclxuXHJcbiAgICAgICAgc3RyID0gY29lZmZUb1N0cmluZyhuLmMpO1xyXG4gICAgICAgIGxlbiA9IHN0ci5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIHRvUHJlY2lzaW9uIHJldHVybnMgZXhwb25lbnRpYWwgbm90YXRpb24gaWYgdGhlIG51bWJlciBvZiBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgICAgICAvLyBzcGVjaWZpZWQgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgZGlnaXRzIG5lY2Vzc2FyeSB0byByZXByZXNlbnQgdGhlIGludGVnZXJcclxuICAgICAgICAvLyBwYXJ0IG9mIHRoZSB2YWx1ZSBpbiBmaXhlZC1wb2ludCBub3RhdGlvbi5cclxuXHJcbiAgICAgICAgLy8gRXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgICAgaWYgKGlkID09IDEgfHwgaWQgPT0gMiAmJiAoaSA8PSBlIHx8IGUgPD0gVE9fRVhQX05FRykpIHtcclxuXHJcbiAgICAgICAgICAvLyBBcHBlbmQgemVyb3M/XHJcbiAgICAgICAgICBmb3IgKDsgbGVuIDwgaTsgc3RyICs9ICcwJywgbGVuKyspO1xyXG4gICAgICAgICAgc3RyID0gdG9FeHBvbmVudGlhbChzdHIsIGUpO1xyXG5cclxuICAgICAgICAvLyBGaXhlZC1wb2ludCBub3RhdGlvbi5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaSAtPSBuZTtcclxuICAgICAgICAgIHN0ciA9IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgICAgICAgLy8gQXBwZW5kIHplcm9zP1xyXG4gICAgICAgICAgaWYgKGUgKyAxID4gbGVuKSB7XHJcbiAgICAgICAgICAgIGlmICgtLWkgPiAwKSBmb3IgKHN0ciArPSAnLic7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpICs9IGUgLSBsZW47XHJcbiAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgIGlmIChlICsgMSA9PSBsZW4pIHN0ciArPSAnLic7XHJcbiAgICAgICAgICAgICAgZm9yICg7IGktLTsgc3RyICs9ICcwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuLnMgPCAwICYmIGMwID8gJy0nICsgc3RyIDogc3RyO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBIYW5kbGUgQmlnTnVtYmVyLm1heCBhbmQgQmlnTnVtYmVyLm1pbi5cclxuICAgIGZ1bmN0aW9uIG1heE9yTWluKGFyZ3MsIG1ldGhvZCkge1xyXG4gICAgICB2YXIgbixcclxuICAgICAgICBpID0gMSxcclxuICAgICAgICBtID0gbmV3IEJpZ051bWJlcihhcmdzWzBdKTtcclxuXHJcbiAgICAgIGZvciAoOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKGFyZ3NbaV0pO1xyXG5cclxuICAgICAgICAvLyBJZiBhbnkgbnVtYmVyIGlzIE5hTiwgcmV0dXJuIE5hTi5cclxuICAgICAgICBpZiAoIW4ucykge1xyXG4gICAgICAgICAgbSA9IG47XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZC5jYWxsKG0sIG4pKSB7XHJcbiAgICAgICAgICBtID0gbjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBtO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogU3RyaXAgdHJhaWxpbmcgemVyb3MsIGNhbGN1bGF0ZSBiYXNlIDEwIGV4cG9uZW50IGFuZCBjaGVjayBhZ2FpbnN0IE1JTl9FWFAgYW5kIE1BWF9FWFAuXHJcbiAgICAgKiBDYWxsZWQgYnkgbWludXMsIHBsdXMgYW5kIHRpbWVzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBub3JtYWxpc2UobiwgYywgZSkge1xyXG4gICAgICB2YXIgaSA9IDEsXHJcbiAgICAgICAgaiA9IGMubGVuZ3RoO1xyXG5cclxuICAgICAgIC8vIFJlbW92ZSB0cmFpbGluZyB6ZXJvcy5cclxuICAgICAgZm9yICg7ICFjWy0tal07IGMucG9wKCkpO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBiYXNlIDEwIGV4cG9uZW50LiBGaXJzdCBnZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgY1swXS5cclxuICAgICAgZm9yIChqID0gY1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuXHJcbiAgICAgIC8vIE92ZXJmbG93P1xyXG4gICAgICBpZiAoKGUgPSBpICsgZSAqIExPR19CQVNFIC0gMSkgPiBNQVhfRVhQKSB7XHJcblxyXG4gICAgICAgIC8vIEluZmluaXR5LlxyXG4gICAgICAgIG4uYyA9IG4uZSA9IG51bGw7XHJcblxyXG4gICAgICAvLyBVbmRlcmZsb3c/XHJcbiAgICAgIH0gZWxzZSBpZiAoZSA8IE1JTl9FWFApIHtcclxuXHJcbiAgICAgICAgLy8gWmVyby5cclxuICAgICAgICBuLmMgPSBbbi5lID0gMF07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbi5lID0gZTtcclxuICAgICAgICBuLmMgPSBjO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gSGFuZGxlIHZhbHVlcyB0aGF0IGZhaWwgdGhlIHZhbGlkaXR5IHRlc3QgaW4gQmlnTnVtYmVyLlxyXG4gICAgcGFyc2VOdW1lcmljID0gKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGJhc2VQcmVmaXggPSAvXigtPykwKFt4Ym9dKSg/PVxcd1tcXHcuXSokKS9pLFxyXG4gICAgICAgIGRvdEFmdGVyID0gL14oW14uXSspXFwuJC8sXHJcbiAgICAgICAgZG90QmVmb3JlID0gL15cXC4oW14uXSspJC8sXHJcbiAgICAgICAgaXNJbmZpbml0eU9yTmFOID0gL14tPyhJbmZpbml0eXxOYU4pJC8sXHJcbiAgICAgICAgd2hpdGVzcGFjZU9yUGx1cyA9IC9eXFxzKlxcKyg/PVtcXHcuXSl8Xlxccyt8XFxzKyQvZztcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoeCwgc3RyLCBpc051bSwgYikge1xyXG4gICAgICAgIHZhciBiYXNlLFxyXG4gICAgICAgICAgcyA9IGlzTnVtID8gc3RyIDogc3RyLnJlcGxhY2Uod2hpdGVzcGFjZU9yUGx1cywgJycpO1xyXG5cclxuICAgICAgICAvLyBObyBleGNlcHRpb24gb24gwrFJbmZpbml0eSBvciBOYU4uXHJcbiAgICAgICAgaWYgKGlzSW5maW5pdHlPck5hTi50ZXN0KHMpKSB7XHJcbiAgICAgICAgICB4LnMgPSBpc05hTihzKSA/IG51bGwgOiBzIDwgMCA/IC0xIDogMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCFpc051bSkge1xyXG5cclxuICAgICAgICAgICAgLy8gYmFzZVByZWZpeCA9IC9eKC0/KTAoW3hib10pKD89XFx3W1xcdy5dKiQpL2lcclxuICAgICAgICAgICAgcyA9IHMucmVwbGFjZShiYXNlUHJlZml4LCBmdW5jdGlvbiAobSwgcDEsIHAyKSB7XHJcbiAgICAgICAgICAgICAgYmFzZSA9IChwMiA9IHAyLnRvTG93ZXJDYXNlKCkpID09ICd4JyA/IDE2IDogcDIgPT0gJ2InID8gMiA6IDg7XHJcbiAgICAgICAgICAgICAgcmV0dXJuICFiIHx8IGIgPT0gYmFzZSA/IHAxIDogbTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYikge1xyXG4gICAgICAgICAgICAgIGJhc2UgPSBiO1xyXG5cclxuICAgICAgICAgICAgICAvLyBFLmcuICcxLicgdG8gJzEnLCAnLjEnIHRvICcwLjEnXHJcbiAgICAgICAgICAgICAgcyA9IHMucmVwbGFjZShkb3RBZnRlciwgJyQxJykucmVwbGFjZShkb3RCZWZvcmUsICcwLiQxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChzdHIgIT0gcykgcmV0dXJuIG5ldyBCaWdOdW1iZXIocywgYmFzZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIG51bWJlcjoge259J1xyXG4gICAgICAgICAgLy8gJ1tCaWdOdW1iZXIgRXJyb3JdIE5vdCBhIGJhc2Uge2J9IG51bWJlcjoge259J1xyXG4gICAgICAgICAgaWYgKEJpZ051bWJlci5ERUJVRykge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAgIChiaWdudW1iZXJFcnJvciArICdOb3QgYScgKyAoYiA/ICcgYmFzZSAnICsgYiA6ICcnKSArICcgbnVtYmVyOiAnICsgc3RyKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBOYU5cclxuICAgICAgICAgIHgucyA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4LmMgPSB4LmUgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9KSgpO1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUm91bmQgeCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybS4gQ2hlY2sgZm9yIG92ZXIvdW5kZXItZmxvdy5cclxuICAgICAqIElmIHIgaXMgdHJ1dGh5LCBpdCBpcyBrbm93biB0aGF0IHRoZXJlIGFyZSBtb3JlIGRpZ2l0cyBhZnRlciB0aGUgcm91bmRpbmcgZGlnaXQuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHJvdW5kKHgsIHNkLCBybSwgcikge1xyXG4gICAgICB2YXIgZCwgaSwgaiwgaywgbiwgbmksIHJkLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHBvd3MxMCA9IFBPV1NfVEVOO1xyXG5cclxuICAgICAgLy8gaWYgeCBpcyBub3QgSW5maW5pdHkgb3IgTmFOLi4uXHJcbiAgICAgIGlmICh4Yykge1xyXG5cclxuICAgICAgICAvLyByZCBpcyB0aGUgcm91bmRpbmcgZGlnaXQsIGkuZS4gdGhlIGRpZ2l0IGFmdGVyIHRoZSBkaWdpdCB0aGF0IG1heSBiZSByb3VuZGVkIHVwLlxyXG4gICAgICAgIC8vIG4gaXMgYSBiYXNlIDFlMTQgbnVtYmVyLCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgb2YgYXJyYXkgeC5jIGNvbnRhaW5pbmcgcmQuXHJcbiAgICAgICAgLy8gbmkgaXMgdGhlIGluZGV4IG9mIG4gd2l0aGluIHguYy5cclxuICAgICAgICAvLyBkIGlzIHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXHJcbiAgICAgICAgLy8gaSBpcyB0aGUgaW5kZXggb2YgcmQgd2l0aGluIG4gaW5jbHVkaW5nIGxlYWRpbmcgemVyb3MuXHJcbiAgICAgICAgLy8gaiBpcyB0aGUgYWN0dWFsIGluZGV4IG9mIHJkIHdpdGhpbiBuIChpZiA8IDAsIHJkIGlzIGEgbGVhZGluZyB6ZXJvKS5cclxuICAgICAgICBvdXQ6IHtcclxuXHJcbiAgICAgICAgICAvLyBHZXQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQgb2YgeGMuXHJcbiAgICAgICAgICBmb3IgKGQgPSAxLCBrID0geGNbMF07IGsgPj0gMTA7IGsgLz0gMTAsIGQrKyk7XHJcbiAgICAgICAgICBpID0gc2QgLSBkO1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSByb3VuZGluZyBkaWdpdCBpcyBpbiB0aGUgZmlyc3QgZWxlbWVudCBvZiB4Yy4uLlxyXG4gICAgICAgICAgaWYgKGkgPCAwKSB7XHJcbiAgICAgICAgICAgIGkgKz0gTE9HX0JBU0U7XHJcbiAgICAgICAgICAgIGogPSBzZDtcclxuICAgICAgICAgICAgbiA9IHhjW25pID0gMF07XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHJvdW5kaW5nIGRpZ2l0IGF0IGluZGV4IGogb2Ygbi5cclxuICAgICAgICAgICAgcmQgPSBuIC8gcG93czEwW2QgLSBqIC0gMV0gJSAxMCB8IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuaSA9IG1hdGhjZWlsKChpICsgMSkgLyBMT0dfQkFTRSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmkgPj0geGMubGVuZ3RoKSB7XHJcblxyXG4gICAgICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZGVkIGJ5IHNxcnQuXHJcbiAgICAgICAgICAgICAgICBmb3IgKDsgeGMubGVuZ3RoIDw9IG5pOyB4Yy5wdXNoKDApKTtcclxuICAgICAgICAgICAgICAgIG4gPSByZCA9IDA7XHJcbiAgICAgICAgICAgICAgICBkID0gMTtcclxuICAgICAgICAgICAgICAgIGkgJT0gTE9HX0JBU0U7XHJcbiAgICAgICAgICAgICAgICBqID0gaSAtIExPR19CQVNFICsgMTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYnJlYWsgb3V0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBuID0gayA9IHhjW25pXTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSBudW1iZXIgb2YgZGlnaXRzIG9mIG4uXHJcbiAgICAgICAgICAgICAgZm9yIChkID0gMTsgayA+PSAxMDsgayAvPSAxMCwgZCsrKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiByZCB3aXRoaW4gbi5cclxuICAgICAgICAgICAgICBpICU9IExPR19CQVNFO1xyXG5cclxuICAgICAgICAgICAgICAvLyBHZXQgdGhlIGluZGV4IG9mIHJkIHdpdGhpbiBuLCBhZGp1c3RlZCBmb3IgbGVhZGluZyB6ZXJvcy5cclxuICAgICAgICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIGxlYWRpbmcgemVyb3Mgb2YgbiBpcyBnaXZlbiBieSBMT0dfQkFTRSAtIGQuXHJcbiAgICAgICAgICAgICAgaiA9IGkgLSBMT0dfQkFTRSArIGQ7XHJcblxyXG4gICAgICAgICAgICAgIC8vIEdldCB0aGUgcm91bmRpbmcgZGlnaXQgYXQgaW5kZXggaiBvZiBuLlxyXG4gICAgICAgICAgICAgIHJkID0gaiA8IDAgPyAwIDogbiAvIHBvd3MxMFtkIC0gaiAtIDFdICUgMTAgfCAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgciA9IHIgfHwgc2QgPCAwIHx8XHJcblxyXG4gICAgICAgICAgLy8gQXJlIHRoZXJlIGFueSBub24temVybyBkaWdpdHMgYWZ0ZXIgdGhlIHJvdW5kaW5nIGRpZ2l0P1xyXG4gICAgICAgICAgLy8gVGhlIGV4cHJlc3Npb24gIG4gJSBwb3dzMTBbZCAtIGogLSAxXSAgcmV0dXJucyBhbGwgZGlnaXRzIG9mIG4gdG8gdGhlIHJpZ2h0XHJcbiAgICAgICAgICAvLyBvZiB0aGUgZGlnaXQgYXQgaiwgZS5nLiBpZiBuIGlzIDkwODcxNCBhbmQgaiBpcyAyLCB0aGUgZXhwcmVzc2lvbiBnaXZlcyA3MTQuXHJcbiAgICAgICAgICAgeGNbbmkgKyAxXSAhPSBudWxsIHx8IChqIDwgMCA/IG4gOiBuICUgcG93czEwW2QgLSBqIC0gMV0pO1xyXG5cclxuICAgICAgICAgIHIgPSBybSA8IDRcclxuICAgICAgICAgICA/IChyZCB8fCByKSAmJiAocm0gPT0gMCB8fCBybSA9PSAoeC5zIDwgMCA/IDMgOiAyKSlcclxuICAgICAgICAgICA6IHJkID4gNSB8fCByZCA9PSA1ICYmIChybSA9PSA0IHx8IHIgfHwgcm0gPT0gNiAmJlxyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgZGlnaXQgdG8gdGhlIGxlZnQgb2YgdGhlIHJvdW5kaW5nIGRpZ2l0IGlzIG9kZC5cclxuICAgICAgICAgICAgKChpID4gMCA/IGogPiAwID8gbiAvIHBvd3MxMFtkIC0gal0gOiAwIDogeGNbbmkgLSAxXSkgJSAxMCkgJiAxIHx8XHJcbiAgICAgICAgICAgICBybSA9PSAoeC5zIDwgMCA/IDggOiA3KSk7XHJcblxyXG4gICAgICAgICAgaWYgKHNkIDwgMSB8fCAheGNbMF0pIHtcclxuICAgICAgICAgICAgeGMubGVuZ3RoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGlmIChyKSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgc2QgdG8gZGVjaW1hbCBwbGFjZXMuXHJcbiAgICAgICAgICAgICAgc2QgLT0geC5lICsgMTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gMSwgMC4xLCAwLjAxLCAwLjAwMSwgMC4wMDAxIGV0Yy5cclxuICAgICAgICAgICAgICB4Y1swXSA9IHBvd3MxMFsoTE9HX0JBU0UgLSBzZCAlIExPR19CQVNFKSAlIExPR19CQVNFXTtcclxuICAgICAgICAgICAgICB4LmUgPSAtc2QgfHwgMDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gWmVyby5cclxuICAgICAgICAgICAgICB4Y1swXSA9IHguZSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJlbW92ZSBleGNlc3MgZGlnaXRzLlxyXG4gICAgICAgICAgaWYgKGkgPT0gMCkge1xyXG4gICAgICAgICAgICB4Yy5sZW5ndGggPSBuaTtcclxuICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgIG5pLS07XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4Yy5sZW5ndGggPSBuaSArIDE7XHJcbiAgICAgICAgICAgIGsgPSBwb3dzMTBbTE9HX0JBU0UgLSBpXTtcclxuXHJcbiAgICAgICAgICAgIC8vIEUuZy4gNTY3MDAgYmVjb21lcyA1NjAwMCBpZiA3IGlzIHRoZSByb3VuZGluZyBkaWdpdC5cclxuICAgICAgICAgICAgLy8gaiA+IDAgbWVhbnMgaSA+IG51bWJlciBvZiBsZWFkaW5nIHplcm9zIG9mIG4uXHJcbiAgICAgICAgICAgIHhjW25pXSA9IGogPiAwID8gbWF0aGZsb29yKG4gLyBwb3dzMTBbZCAtIGpdICUgcG93czEwW2pdKSAqIGsgOiAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFJvdW5kIHVwP1xyXG4gICAgICAgICAgaWYgKHIpIHtcclxuXHJcbiAgICAgICAgICAgIGZvciAoOyA7KSB7XHJcblxyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBkaWdpdCB0byBiZSByb3VuZGVkIHVwIGlzIGluIHRoZSBmaXJzdCBlbGVtZW50IG9mIHhjLi4uXHJcbiAgICAgICAgICAgICAgaWYgKG5pID09IDApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpIHdpbGwgYmUgdGhlIGxlbmd0aCBvZiB4Y1swXSBiZWZvcmUgayBpcyBhZGRlZC5cclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IDEsIGogPSB4Y1swXTsgaiA+PSAxMDsgaiAvPSAxMCwgaSsrKTtcclxuICAgICAgICAgICAgICAgIGogPSB4Y1swXSArPSBrO1xyXG4gICAgICAgICAgICAgICAgZm9yIChrID0gMTsgaiA+PSAxMDsgaiAvPSAxMCwgaysrKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBpICE9IGsgdGhlIGxlbmd0aCBoYXMgaW5jcmVhc2VkLlxyXG4gICAgICAgICAgICAgICAgaWYgKGkgIT0gaykge1xyXG4gICAgICAgICAgICAgICAgICB4LmUrKztcclxuICAgICAgICAgICAgICAgICAgaWYgKHhjWzBdID09IEJBU0UpIHhjWzBdID0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgeGNbbmldICs9IGs7XHJcbiAgICAgICAgICAgICAgICBpZiAoeGNbbmldICE9IEJBU0UpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgeGNbbmktLV0gPSAwO1xyXG4gICAgICAgICAgICAgICAgayA9IDE7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gUmVtb3ZlIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgICAgICAgZm9yIChpID0geGMubGVuZ3RoOyB4Y1stLWldID09PSAwOyB4Yy5wb3AoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBPdmVyZmxvdz8gSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKHguZSA+IE1BWF9FWFApIHtcclxuICAgICAgICAgIHguYyA9IHguZSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIFVuZGVyZmxvdz8gWmVyby5cclxuICAgICAgICB9IGVsc2UgaWYgKHguZSA8IE1JTl9FWFApIHtcclxuICAgICAgICAgIHguYyA9IFt4LmUgPSAwXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB4O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiB2YWx1ZU9mKG4pIHtcclxuICAgICAgdmFyIHN0cixcclxuICAgICAgICBlID0gbi5lO1xyXG5cclxuICAgICAgaWYgKGUgPT09IG51bGwpIHJldHVybiBuLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICBzdHIgPSBjb2VmZlRvU3RyaW5nKG4uYyk7XHJcblxyXG4gICAgICBzdHIgPSBlIDw9IFRPX0VYUF9ORUcgfHwgZSA+PSBUT19FWFBfUE9TXHJcbiAgICAgICAgPyB0b0V4cG9uZW50aWFsKHN0ciwgZSlcclxuICAgICAgICA6IHRvRml4ZWRQb2ludChzdHIsIGUsICcwJyk7XHJcblxyXG4gICAgICByZXR1cm4gbi5zIDwgMCA/ICctJyArIHN0ciA6IHN0cjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gUFJPVE9UWVBFL0lOU1RBTkNFIE1FVEhPRFNcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLlxyXG4gICAgICovXHJcbiAgICBQLmFic29sdXRlVmFsdWUgPSBQLmFicyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHggPSBuZXcgQmlnTnVtYmVyKHRoaXMpO1xyXG4gICAgICBpZiAoeC5zIDwgMCkgeC5zID0gMTtcclxuICAgICAgcmV0dXJuIHg7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuXHJcbiAgICAgKiAgIDEgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAgICogICAtMSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICAgKiAgIDAgaWYgdGhleSBoYXZlIHRoZSBzYW1lIHZhbHVlLFxyXG4gICAgICogICBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiBlaXRoZXIgaXMgTmFOLlxyXG4gICAgICovXHJcbiAgICBQLmNvbXBhcmVkVG8gPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBJZiBkcCBpcyB1bmRlZmluZWQgb3IgbnVsbCBvciB0cnVlIG9yIGZhbHNlLCByZXR1cm4gdGhlIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlcyBvZiB0aGVcclxuICAgICAqIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyDCsUluZmluaXR5IG9yIE5hTi5cclxuICAgICAqXHJcbiAgICAgKiBPdGhlcndpc2UsIGlmIGRwIGlzIGEgbnVtYmVyLCByZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzXHJcbiAgICAgKiBCaWdOdW1iZXIgcm91bmRlZCB0byBhIG1heGltdW0gb2YgZHAgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzOiBpbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAuZGVjaW1hbFBsYWNlcyA9IFAuZHAgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgZHAgKyB4LmUgKyAxLCBybSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghKGMgPSB4LmMpKSByZXR1cm4gbnVsbDtcclxuICAgICAgbiA9ICgodiA9IGMubGVuZ3RoIC0gMSkgLSBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkpICogTE9HX0JBU0U7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IG51bWJlci5cclxuICAgICAgaWYgKHYgPSBjW3ZdKSBmb3IgKDsgdiAlIDEwID09IDA7IHYgLz0gMTAsIG4tLSk7XHJcbiAgICAgIGlmIChuIDwgMCkgbiA9IDA7XHJcblxyXG4gICAgICByZXR1cm4gbjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgbiAvIDAgPSBJXHJcbiAgICAgKiAgbiAvIE4gPSBOXHJcbiAgICAgKiAgbiAvIEkgPSAwXHJcbiAgICAgKiAgMCAvIG4gPSAwXHJcbiAgICAgKiAgMCAvIDAgPSBOXHJcbiAgICAgKiAgMCAvIE4gPSBOXHJcbiAgICAgKiAgMCAvIEkgPSAwXHJcbiAgICAgKiAgTiAvIG4gPSBOXHJcbiAgICAgKiAgTiAvIDAgPSBOXHJcbiAgICAgKiAgTiAvIE4gPSBOXHJcbiAgICAgKiAgTiAvIEkgPSBOXHJcbiAgICAgKiAgSSAvIG4gPSBJXHJcbiAgICAgKiAgSSAvIDAgPSBJXHJcbiAgICAgKiAgSSAvIE4gPSBOXHJcbiAgICAgKiAgSSAvIEkgPSBOXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgZGl2aWRlZCBieSB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKSwgcm91bmRlZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kIFJPVU5ESU5HX01PREUuXHJcbiAgICAgKi9cclxuICAgIFAuZGl2aWRlZEJ5ID0gUC5kaXYgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gZGl2KHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYiksIERFQ0lNQUxfUExBQ0VTLCBST1VORElOR19NT0RFKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSBpbnRlZ2VyIHBhcnQgb2YgZGl2aWRpbmcgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgICAqIEJpZ051bWJlciBieSB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAgICovXHJcbiAgICBQLmRpdmlkZWRUb0ludGVnZXJCeSA9IFAuaWRpdiA9IGZ1bmN0aW9uICh5LCBiKSB7XHJcbiAgICAgIHJldHVybiBkaXYodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSwgMCwgMSk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBleHBvbmVudGlhdGVkIGJ5IG4uXHJcbiAgICAgKlxyXG4gICAgICogSWYgbSBpcyBwcmVzZW50LCByZXR1cm4gdGhlIHJlc3VsdCBtb2R1bG8gbS5cclxuICAgICAqIElmIG4gaXMgbmVnYXRpdmUgcm91bmQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAgICogSWYgUE9XX1BSRUNJU0lPTiBpcyBub24temVybyBhbmQgbSBpcyBub3QgcHJlc2VudCwgcm91bmQgdG8gUE9XX1BSRUNJU0lPTiB1c2luZyBST1VORElOR19NT0RFLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBtb2R1bGFyIHBvd2VyIG9wZXJhdGlvbiB3b3JrcyBlZmZpY2llbnRseSB3aGVuIHgsIG4sIGFuZCBtIGFyZSBpbnRlZ2Vycywgb3RoZXJ3aXNlIGl0XHJcbiAgICAgKiBpcyBlcXVpdmFsZW50IHRvIGNhbGN1bGF0aW5nIHguZXhwb25lbnRpYXRlZEJ5KG4pLm1vZHVsbyhtKSB3aXRoIGEgUE9XX1BSRUNJU0lPTiBvZiAwLlxyXG4gICAgICpcclxuICAgICAqIG4ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgZXhwb25lbnQuIEFuIGludGVnZXIuXHJcbiAgICAgKiBbbV0ge251bWJlcnxzdHJpbmd8QmlnTnVtYmVyfSBUaGUgbW9kdWx1cy5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gRXhwb25lbnQgbm90IGFuIGludGVnZXI6IHtufSdcclxuICAgICAqL1xyXG4gICAgUC5leHBvbmVudGlhdGVkQnkgPSBQLnBvdyA9IGZ1bmN0aW9uIChuLCBtKSB7XHJcbiAgICAgIHZhciBoYWxmLCBpc01vZEV4cCwgaSwgaywgbW9yZSwgbklzQmlnLCBuSXNOZWcsIG5Jc09kZCwgeSxcclxuICAgICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKG4pO1xyXG5cclxuICAgICAgLy8gQWxsb3cgTmFOIGFuZCDCsUluZmluaXR5LCBidXQgbm90IG90aGVyIG5vbi1pbnRlZ2Vycy5cclxuICAgICAgaWYgKG4uYyAmJiAhbi5pc0ludGVnZXIoKSkge1xyXG4gICAgICAgIHRocm93IEVycm9yXHJcbiAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnRXhwb25lbnQgbm90IGFuIGludGVnZXI6ICcgKyB2YWx1ZU9mKG4pKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKG0gIT0gbnVsbCkgbSA9IG5ldyBCaWdOdW1iZXIobSk7XHJcblxyXG4gICAgICAvLyBFeHBvbmVudCBvZiBNQVhfU0FGRV9JTlRFR0VSIGlzIDE1LlxyXG4gICAgICBuSXNCaWcgPSBuLmUgPiAxNDtcclxuXHJcbiAgICAgIC8vIElmIHggaXMgTmFOLCDCsUluZmluaXR5LCDCsTAgb3IgwrExLCBvciBuIGlzIMKxSW5maW5pdHksIE5hTiBvciDCsTAuXHJcbiAgICAgIGlmICgheC5jIHx8ICF4LmNbMF0gfHwgeC5jWzBdID09IDEgJiYgIXguZSAmJiB4LmMubGVuZ3RoID09IDEgfHwgIW4uYyB8fCAhbi5jWzBdKSB7XHJcblxyXG4gICAgICAgIC8vIFRoZSBzaWduIG9mIHRoZSByZXN1bHQgb2YgcG93IHdoZW4geCBpcyBuZWdhdGl2ZSBkZXBlbmRzIG9uIHRoZSBldmVubmVzcyBvZiBuLlxyXG4gICAgICAgIC8vIElmICtuIG92ZXJmbG93cyB0byDCsUluZmluaXR5LCB0aGUgZXZlbm5lc3Mgb2YgbiB3b3VsZCBiZSBub3QgYmUga25vd24uXHJcbiAgICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoTWF0aC5wb3coK3ZhbHVlT2YoeCksIG5Jc0JpZyA/IDIgLSBpc09kZChuKSA6ICt2YWx1ZU9mKG4pKSk7XHJcbiAgICAgICAgcmV0dXJuIG0gPyB5Lm1vZChtKSA6IHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG5Jc05lZyA9IG4ucyA8IDA7XHJcblxyXG4gICAgICBpZiAobSkge1xyXG5cclxuICAgICAgICAvLyB4ICUgbSByZXR1cm5zIE5hTiBpZiBhYnMobSkgaXMgemVybywgb3IgbSBpcyBOYU4uXHJcbiAgICAgICAgaWYgKG0uYyA/ICFtLmNbMF0gOiAhbS5zKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgICAgICBpc01vZEV4cCA9ICFuSXNOZWcgJiYgeC5pc0ludGVnZXIoKSAmJiBtLmlzSW50ZWdlcigpO1xyXG5cclxuICAgICAgICBpZiAoaXNNb2RFeHApIHggPSB4Lm1vZChtKTtcclxuXHJcbiAgICAgIC8vIE92ZXJmbG93IHRvIMKxSW5maW5pdHk6ID49MioqMWUxMCBvciA+PTEuMDAwMDAyNCoqMWUxNS5cclxuICAgICAgLy8gVW5kZXJmbG93IHRvIMKxMDogPD0wLjc5KioxZTEwIG9yIDw9MC45OTk5OTc1KioxZTE1LlxyXG4gICAgICB9IGVsc2UgaWYgKG4uZSA+IDkgJiYgKHguZSA+IDAgfHwgeC5lIDwgLTEgfHwgKHguZSA9PSAwXHJcbiAgICAgICAgLy8gWzEsIDI0MDAwMDAwMF1cclxuICAgICAgICA/IHguY1swXSA+IDEgfHwgbklzQmlnICYmIHguY1sxXSA+PSAyNGU3XHJcbiAgICAgICAgLy8gWzgwMDAwMDAwMDAwMDAwXSAgWzk5OTk5NzUwMDAwMDAwXVxyXG4gICAgICAgIDogeC5jWzBdIDwgOGUxMyB8fCBuSXNCaWcgJiYgeC5jWzBdIDw9IDk5OTk5NzVlNykpKSB7XHJcblxyXG4gICAgICAgIC8vIElmIHggaXMgbmVnYXRpdmUgYW5kIG4gaXMgb2RkLCBrID0gLTAsIGVsc2UgayA9IDAuXHJcbiAgICAgICAgayA9IHgucyA8IDAgJiYgaXNPZGQobikgPyAtMCA6IDA7XHJcblxyXG4gICAgICAgIC8vIElmIHggPj0gMSwgayA9IMKxSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKHguZSA+IC0xKSBrID0gMSAvIGs7XHJcblxyXG4gICAgICAgIC8vIElmIG4gaXMgbmVnYXRpdmUgcmV0dXJuIMKxMCwgZWxzZSByZXR1cm4gwrFJbmZpbml0eS5cclxuICAgICAgICByZXR1cm4gbmV3IEJpZ051bWJlcihuSXNOZWcgPyAxIC8gayA6IGspO1xyXG5cclxuICAgICAgfSBlbHNlIGlmIChQT1dfUFJFQ0lTSU9OKSB7XHJcblxyXG4gICAgICAgIC8vIFRydW5jYXRpbmcgZWFjaCBjb2VmZmljaWVudCBhcnJheSB0byBhIGxlbmd0aCBvZiBrIGFmdGVyIGVhY2ggbXVsdGlwbGljYXRpb25cclxuICAgICAgICAvLyBlcXVhdGVzIHRvIHRydW5jYXRpbmcgc2lnbmlmaWNhbnQgZGlnaXRzIHRvIFBPV19QUkVDSVNJT04gKyBbMjgsIDQxXSxcclxuICAgICAgICAvLyBpLmUuIHRoZXJlIHdpbGwgYmUgYSBtaW5pbXVtIG9mIDI4IGd1YXJkIGRpZ2l0cyByZXRhaW5lZC5cclxuICAgICAgICBrID0gbWF0aGNlaWwoUE9XX1BSRUNJU0lPTiAvIExPR19CQVNFICsgMik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChuSXNCaWcpIHtcclxuICAgICAgICBoYWxmID0gbmV3IEJpZ051bWJlcigwLjUpO1xyXG4gICAgICAgIGlmIChuSXNOZWcpIG4ucyA9IDE7XHJcbiAgICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaSA9IE1hdGguYWJzKCt2YWx1ZU9mKG4pKTtcclxuICAgICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgICAgfVxyXG5cclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoT05FKTtcclxuXHJcbiAgICAgIC8vIFBlcmZvcm1zIDU0IGxvb3AgaXRlcmF0aW9ucyBmb3IgbiBvZiA5MDA3MTk5MjU0NzQwOTkxLlxyXG4gICAgICBmb3IgKDsgOykge1xyXG5cclxuICAgICAgICBpZiAobklzT2RkKSB7XHJcbiAgICAgICAgICB5ID0geS50aW1lcyh4KTtcclxuICAgICAgICAgIGlmICgheS5jKSBicmVhaztcclxuXHJcbiAgICAgICAgICBpZiAoaykge1xyXG4gICAgICAgICAgICBpZiAoeS5jLmxlbmd0aCA+IGspIHkuYy5sZW5ndGggPSBrO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01vZEV4cCkge1xyXG4gICAgICAgICAgICB5ID0geS5tb2QobSk7ICAgIC8veSA9IHkubWludXMoZGl2KHksIG0sIDAsIE1PRFVMT19NT0RFKS50aW1lcyhtKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaSkge1xyXG4gICAgICAgICAgaSA9IG1hdGhmbG9vcihpIC8gMik7XHJcbiAgICAgICAgICBpZiAoaSA9PT0gMCkgYnJlYWs7XHJcbiAgICAgICAgICBuSXNPZGQgPSBpICUgMjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbiA9IG4udGltZXMoaGFsZik7XHJcbiAgICAgICAgICByb3VuZChuLCBuLmUgKyAxLCAxKTtcclxuXHJcbiAgICAgICAgICBpZiAobi5lID4gMTQpIHtcclxuICAgICAgICAgICAgbklzT2RkID0gaXNPZGQobik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpID0gK3ZhbHVlT2Yobik7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSBicmVhaztcclxuICAgICAgICAgICAgbklzT2RkID0gaSAlIDI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4ID0geC50aW1lcyh4KTtcclxuXHJcbiAgICAgICAgaWYgKGspIHtcclxuICAgICAgICAgIGlmICh4LmMgJiYgeC5jLmxlbmd0aCA+IGspIHguYy5sZW5ndGggPSBrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb2RFeHApIHtcclxuICAgICAgICAgIHggPSB4Lm1vZChtKTsgICAgLy94ID0geC5taW51cyhkaXYoeCwgbSwgMCwgTU9EVUxPX01PREUpLnRpbWVzKG0pKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc01vZEV4cCkgcmV0dXJuIHk7XHJcbiAgICAgIGlmIChuSXNOZWcpIHkgPSBPTkUuZGl2KHkpO1xyXG5cclxuICAgICAgcmV0dXJuIG0gPyB5Lm1vZChtKSA6IGsgPyByb3VuZCh5LCBQT1dfUFJFQ0lTSU9OLCBST1VORElOR19NT0RFLCBtb3JlKSA6IHk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBhbiBpbnRlZ2VyXHJcbiAgICAgKiB1c2luZyByb3VuZGluZyBtb2RlIHJtLCBvciBST1VORElOR19NT0RFIGlmIHJtIGlzIG9taXR0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7cm19J1xyXG4gICAgICovXHJcbiAgICBQLmludGVnZXJWYWx1ZSA9IGZ1bmN0aW9uIChybSkge1xyXG4gICAgICB2YXIgbiA9IG5ldyBCaWdOdW1iZXIodGhpcyk7XHJcbiAgICAgIGlmIChybSA9PSBudWxsKSBybSA9IFJPVU5ESU5HX01PREU7XHJcbiAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG4gICAgICByZXR1cm4gcm91bmQobiwgbi5lICsgMSwgcm0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBlcXVhbCB0byB0aGUgdmFsdWUgb2YgQmlnTnVtYmVyKHksIGIpLFxyXG4gICAgICogb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0VxdWFsVG8gPSBQLmVxID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgcmV0dXJuIGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkgPT09IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGEgZmluaXRlIG51bWJlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0Zpbml0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICEhdGhpcy5jO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBncmVhdGVyIHRoYW4gdGhlIHZhbHVlIG9mIEJpZ051bWJlcih5LCBiKSxcclxuICAgICAqIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNHcmVhdGVyVGhhbiA9IFAuZ3QgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSA+IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0dyZWF0ZXJUaGFuT3JFcXVhbFRvID0gUC5ndGUgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICByZXR1cm4gKGIgPSBjb21wYXJlKHRoaXMsIG5ldyBCaWdOdW1iZXIoeSwgYikpKSA9PT0gMSB8fCBiID09PSAwO1xyXG5cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgYW4gaW50ZWdlciwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc0ludGVnZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiAhIXRoaXMuYyAmJiBiaXRGbG9vcih0aGlzLmUgLyBMT0dfQkFTRSkgPiB0aGlzLmMubGVuZ3RoIC0gMjtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgbGVzcyB0aGFuIHRoZSB2YWx1ZSBvZiBCaWdOdW1iZXIoeSwgYiksXHJcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzTGVzc1RoYW4gPSBQLmx0ID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgcmV0dXJuIGNvbXBhcmUodGhpcywgbmV3IEJpZ051bWJlcih5LCBiKSkgPCAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHZhbHVlIG9mXHJcbiAgICAgKiBCaWdOdW1iZXIoeSwgYiksIG90aGVyd2lzZSByZXR1cm4gZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIFAuaXNMZXNzVGhhbk9yRXF1YWxUbyA9IFAubHRlID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgcmV0dXJuIChiID0gY29tcGFyZSh0aGlzLCBuZXcgQmlnTnVtYmVyKHksIGIpKSkgPT09IC0xIHx8IGIgPT09IDA7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIE5hTiwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc05hTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuICF0aGlzLnM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGlzIG5lZ2F0aXZlLCBvdGhlcndpc2UgcmV0dXJuIGZhbHNlLlxyXG4gICAgICovXHJcbiAgICBQLmlzTmVnYXRpdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnMgPCAwO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyBwb3NpdGl2ZSwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc1Bvc2l0aXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zID4gMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaXMgMCBvciAtMCwgb3RoZXJ3aXNlIHJldHVybiBmYWxzZS5cclxuICAgICAqL1xyXG4gICAgUC5pc1plcm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiAhIXRoaXMuYyAmJiB0aGlzLmNbMF0gPT0gMDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgbiAtIDAgPSBuXHJcbiAgICAgKiAgbiAtIE4gPSBOXHJcbiAgICAgKiAgbiAtIEkgPSAtSVxyXG4gICAgICogIDAgLSBuID0gLW5cclxuICAgICAqICAwIC0gMCA9IDBcclxuICAgICAqICAwIC0gTiA9IE5cclxuICAgICAqICAwIC0gSSA9IC1JXHJcbiAgICAgKiAgTiAtIG4gPSBOXHJcbiAgICAgKiAgTiAtIDAgPSBOXHJcbiAgICAgKiAgTiAtIE4gPSBOXHJcbiAgICAgKiAgTiAtIEkgPSBOXHJcbiAgICAgKiAgSSAtIG4gPSBJXHJcbiAgICAgKiAgSSAtIDAgPSBJXHJcbiAgICAgKiAgSSAtIE4gPSBOXHJcbiAgICAgKiAgSSAtIEkgPSBOXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgbWludXMgdGhlIHZhbHVlIG9mXHJcbiAgICAgKiBCaWdOdW1iZXIoeSwgYikuXHJcbiAgICAgKi9cclxuICAgIFAubWludXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICB2YXIgaSwgaiwgdCwgeExUeSxcclxuICAgICAgICB4ID0gdGhpcyxcclxuICAgICAgICBhID0geC5zO1xyXG5cclxuICAgICAgeSA9IG5ldyBCaWdOdW1iZXIoeSwgYik7XHJcbiAgICAgIGIgPSB5LnM7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgTmFOP1xyXG4gICAgICBpZiAoIWEgfHwgIWIpIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgICAvLyBTaWducyBkaWZmZXI/XHJcbiAgICAgIGlmIChhICE9IGIpIHtcclxuICAgICAgICB5LnMgPSAtYjtcclxuICAgICAgICByZXR1cm4geC5wbHVzKHkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgeGUgPSB4LmUgLyBMT0dfQkFTRSxcclxuICAgICAgICB5ZSA9IHkuZSAvIExPR19CQVNFLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgaWYgKCF4ZSB8fCAheWUpIHtcclxuXHJcbiAgICAgICAgLy8gRWl0aGVyIEluZmluaXR5P1xyXG4gICAgICAgIGlmICgheGMgfHwgIXljKSByZXR1cm4geGMgPyAoeS5zID0gLWIsIHkpIDogbmV3IEJpZ051bWJlcih5YyA/IHggOiBOYU4pO1xyXG5cclxuICAgICAgICAvLyBFaXRoZXIgemVybz9cclxuICAgICAgICBpZiAoIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAgIC8vIFJldHVybiB5IGlmIHkgaXMgbm9uLXplcm8sIHggaWYgeCBpcyBub24temVybywgb3IgemVybyBpZiBib3RoIGFyZSB6ZXJvLlxyXG4gICAgICAgICAgcmV0dXJuIHljWzBdID8gKHkucyA9IC1iLCB5KSA6IG5ldyBCaWdOdW1iZXIoeGNbMF0gPyB4IDpcclxuXHJcbiAgICAgICAgICAgLy8gSUVFRSA3NTQgKDIwMDgpIDYuMzogbiAtIG4gPSAtMCB3aGVuIHJvdW5kaW5nIHRvIC1JbmZpbml0eVxyXG4gICAgICAgICAgIFJPVU5ESU5HX01PREUgPT0gMyA/IC0wIDogMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB4ZSA9IGJpdEZsb29yKHhlKTtcclxuICAgICAgeWUgPSBiaXRGbG9vcih5ZSk7XHJcbiAgICAgIHhjID0geGMuc2xpY2UoKTtcclxuXHJcbiAgICAgIC8vIERldGVybWluZSB3aGljaCBpcyB0aGUgYmlnZ2VyIG51bWJlci5cclxuICAgICAgaWYgKGEgPSB4ZSAtIHllKSB7XHJcblxyXG4gICAgICAgIGlmICh4TFR5ID0gYSA8IDApIHtcclxuICAgICAgICAgIGEgPSAtYTtcclxuICAgICAgICAgIHQgPSB4YztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeWUgPSB4ZTtcclxuICAgICAgICAgIHQgPSB5YztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHQucmV2ZXJzZSgpO1xyXG5cclxuICAgICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy5cclxuICAgICAgICBmb3IgKGIgPSBhOyBiLS07IHQucHVzaCgwKSk7XHJcbiAgICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIC8vIEV4cG9uZW50cyBlcXVhbC4gQ2hlY2sgZGlnaXQgYnkgZGlnaXQuXHJcbiAgICAgICAgaiA9ICh4TFR5ID0gKGEgPSB4Yy5sZW5ndGgpIDwgKGIgPSB5Yy5sZW5ndGgpKSA/IGEgOiBiO1xyXG5cclxuICAgICAgICBmb3IgKGEgPSBiID0gMDsgYiA8IGo7IGIrKykge1xyXG5cclxuICAgICAgICAgIGlmICh4Y1tiXSAhPSB5Y1tiXSkge1xyXG4gICAgICAgICAgICB4TFR5ID0geGNbYl0gPCB5Y1tiXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyB4IDwgeT8gUG9pbnQgeGMgdG8gdGhlIGFycmF5IG9mIHRoZSBiaWdnZXIgbnVtYmVyLlxyXG4gICAgICBpZiAoeExUeSkgdCA9IHhjLCB4YyA9IHljLCB5YyA9IHQsIHkucyA9IC15LnM7XHJcblxyXG4gICAgICBiID0gKGogPSB5Yy5sZW5ndGgpIC0gKGkgPSB4Yy5sZW5ndGgpO1xyXG5cclxuICAgICAgLy8gQXBwZW5kIHplcm9zIHRvIHhjIGlmIHNob3J0ZXIuXHJcbiAgICAgIC8vIE5vIG5lZWQgdG8gYWRkIHplcm9zIHRvIHljIGlmIHNob3J0ZXIgYXMgc3VidHJhY3Qgb25seSBuZWVkcyB0byBzdGFydCBhdCB5Yy5sZW5ndGguXHJcbiAgICAgIGlmIChiID4gMCkgZm9yICg7IGItLTsgeGNbaSsrXSA9IDApO1xyXG4gICAgICBiID0gQkFTRSAtIDE7XHJcblxyXG4gICAgICAvLyBTdWJ0cmFjdCB5YyBmcm9tIHhjLlxyXG4gICAgICBmb3IgKDsgaiA+IGE7KSB7XHJcblxyXG4gICAgICAgIGlmICh4Y1stLWpdIDwgeWNbal0pIHtcclxuICAgICAgICAgIGZvciAoaSA9IGo7IGkgJiYgIXhjWy0taV07IHhjW2ldID0gYik7XHJcbiAgICAgICAgICAtLXhjW2ldO1xyXG4gICAgICAgICAgeGNbal0gKz0gQkFTRTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhjW2pdIC09IHljW2pdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZW1vdmUgbGVhZGluZyB6ZXJvcyBhbmQgYWRqdXN0IGV4cG9uZW50IGFjY29yZGluZ2x5LlxyXG4gICAgICBmb3IgKDsgeGNbMF0gPT0gMDsgeGMuc3BsaWNlKDAsIDEpLCAtLXllKTtcclxuXHJcbiAgICAgIC8vIFplcm8/XHJcbiAgICAgIGlmICgheGNbMF0pIHtcclxuXHJcbiAgICAgICAgLy8gRm9sbG93aW5nIElFRUUgNzU0ICgyMDA4KSA2LjMsXHJcbiAgICAgICAgLy8gbiAtIG4gPSArMCAgYnV0ICBuIC0gbiA9IC0wICB3aGVuIHJvdW5kaW5nIHRvd2FyZHMgLUluZmluaXR5LlxyXG4gICAgICAgIHkucyA9IFJPVU5ESU5HX01PREUgPT0gMyA/IC0xIDogMTtcclxuICAgICAgICB5LmMgPSBbeS5lID0gMF07XHJcbiAgICAgICAgcmV0dXJuIHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE5vIG5lZWQgdG8gY2hlY2sgZm9yIEluZmluaXR5IGFzICt4IC0gK3kgIT0gSW5maW5pdHkgJiYgLXggLSAteSAhPSBJbmZpbml0eVxyXG4gICAgICAvLyBmb3IgZmluaXRlIHggYW5kIHkuXHJcbiAgICAgIHJldHVybiBub3JtYWxpc2UoeSwgeGMsIHllKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgIG4gJSAwID0gIE5cclxuICAgICAqICAgbiAlIE4gPSAgTlxyXG4gICAgICogICBuICUgSSA9ICBuXHJcbiAgICAgKiAgIDAgJSBuID0gIDBcclxuICAgICAqICAtMCAlIG4gPSAtMFxyXG4gICAgICogICAwICUgMCA9ICBOXHJcbiAgICAgKiAgIDAgJSBOID0gIE5cclxuICAgICAqICAgMCAlIEkgPSAgMFxyXG4gICAgICogICBOICUgbiA9ICBOXHJcbiAgICAgKiAgIE4gJSAwID0gIE5cclxuICAgICAqICAgTiAlIE4gPSAgTlxyXG4gICAgICogICBOICUgSSA9ICBOXHJcbiAgICAgKiAgIEkgJSBuID0gIE5cclxuICAgICAqICAgSSAlIDAgPSAgTlxyXG4gICAgICogICBJICUgTiA9ICBOXHJcbiAgICAgKiAgIEkgJSBJID0gIE5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtb2R1bG8gdGhlIHZhbHVlIG9mXHJcbiAgICAgKiBCaWdOdW1iZXIoeSwgYikuIFRoZSByZXN1bHQgZGVwZW5kcyBvbiB0aGUgdmFsdWUgb2YgTU9EVUxPX01PREUuXHJcbiAgICAgKi9cclxuICAgIFAubW9kdWxvID0gUC5tb2QgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICB2YXIgcSwgcyxcclxuICAgICAgICB4ID0gdGhpcztcclxuXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG5cclxuICAgICAgLy8gUmV0dXJuIE5hTiBpZiB4IGlzIEluZmluaXR5IG9yIE5hTiwgb3IgeSBpcyBOYU4gb3IgemVyby5cclxuICAgICAgaWYgKCF4LmMgfHwgIXkucyB8fCB5LmMgJiYgIXkuY1swXSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgQmlnTnVtYmVyKE5hTik7XHJcblxyXG4gICAgICAvLyBSZXR1cm4geCBpZiB5IGlzIEluZmluaXR5IG9yIHggaXMgemVyby5cclxuICAgICAgfSBlbHNlIGlmICgheS5jIHx8IHguYyAmJiAheC5jWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChNT0RVTE9fTU9ERSA9PSA5KSB7XHJcblxyXG4gICAgICAgIC8vIEV1Y2xpZGlhbiBkaXZpc2lvbjogcSA9IHNpZ24oeSkgKiBmbG9vcih4IC8gYWJzKHkpKVxyXG4gICAgICAgIC8vIHIgPSB4IC0gcXkgICAgd2hlcmUgIDAgPD0gciA8IGFicyh5KVxyXG4gICAgICAgIHMgPSB5LnM7XHJcbiAgICAgICAgeS5zID0gMTtcclxuICAgICAgICBxID0gZGl2KHgsIHksIDAsIDMpO1xyXG4gICAgICAgIHkucyA9IHM7XHJcbiAgICAgICAgcS5zICo9IHM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcSA9IGRpdih4LCB5LCAwLCBNT0RVTE9fTU9ERSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHkgPSB4Lm1pbnVzKHEudGltZXMoeSkpO1xyXG5cclxuICAgICAgLy8gVG8gbWF0Y2ggSmF2YVNjcmlwdCAlLCBlbnN1cmUgc2lnbiBvZiB6ZXJvIGlzIHNpZ24gb2YgZGl2aWRlbmQuXHJcbiAgICAgIGlmICgheS5jWzBdICYmIE1PRFVMT19NT0RFID09IDEpIHkucyA9IHgucztcclxuXHJcbiAgICAgIHJldHVybiB5O1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqICBuICogMCA9IDBcclxuICAgICAqICBuICogTiA9IE5cclxuICAgICAqICBuICogSSA9IElcclxuICAgICAqICAwICogbiA9IDBcclxuICAgICAqICAwICogMCA9IDBcclxuICAgICAqICAwICogTiA9IE5cclxuICAgICAqICAwICogSSA9IE5cclxuICAgICAqICBOICogbiA9IE5cclxuICAgICAqICBOICogMCA9IE5cclxuICAgICAqICBOICogTiA9IE5cclxuICAgICAqICBOICogSSA9IE5cclxuICAgICAqICBJICogbiA9IElcclxuICAgICAqICBJICogMCA9IE5cclxuICAgICAqICBJICogTiA9IE5cclxuICAgICAqICBJICogSSA9IElcclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBtdWx0aXBsaWVkIGJ5IHRoZSB2YWx1ZVxyXG4gICAgICogb2YgQmlnTnVtYmVyKHksIGIpLlxyXG4gICAgICovXHJcbiAgICBQLm11bHRpcGxpZWRCeSA9IFAudGltZXMgPSBmdW5jdGlvbiAoeSwgYikge1xyXG4gICAgICB2YXIgYywgZSwgaSwgaiwgaywgbSwgeGNMLCB4bG8sIHhoaSwgeWNMLCB5bG8sIHloaSwgemMsXHJcbiAgICAgICAgYmFzZSwgc3FydEJhc2UsXHJcbiAgICAgICAgeCA9IHRoaXMsXHJcbiAgICAgICAgeGMgPSB4LmMsXHJcbiAgICAgICAgeWMgPSAoeSA9IG5ldyBCaWdOdW1iZXIoeSwgYikpLmM7XHJcblxyXG4gICAgICAvLyBFaXRoZXIgTmFOLCDCsUluZmluaXR5IG9yIMKxMD9cclxuICAgICAgaWYgKCF4YyB8fCAheWMgfHwgIXhjWzBdIHx8ICF5Y1swXSkge1xyXG5cclxuICAgICAgICAvLyBSZXR1cm4gTmFOIGlmIGVpdGhlciBpcyBOYU4sIG9yIG9uZSBpcyAwIGFuZCB0aGUgb3RoZXIgaXMgSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4LnMgfHwgIXkucyB8fCB4YyAmJiAheGNbMF0gJiYgIXljIHx8IHljICYmICF5Y1swXSAmJiAheGMpIHtcclxuICAgICAgICAgIHkuYyA9IHkuZSA9IHkucyA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHkucyAqPSB4LnM7XHJcblxyXG4gICAgICAgICAgLy8gUmV0dXJuIMKxSW5maW5pdHkgaWYgZWl0aGVyIGlzIMKxSW5maW5pdHkuXHJcbiAgICAgICAgICBpZiAoIXhjIHx8ICF5Yykge1xyXG4gICAgICAgICAgICB5LmMgPSB5LmUgPSBudWxsO1xyXG5cclxuICAgICAgICAgIC8vIFJldHVybiDCsTAgaWYgZWl0aGVyIGlzIMKxMC5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHkuYyA9IFswXTtcclxuICAgICAgICAgICAgeS5lID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB5O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBlID0gYml0Rmxvb3IoeC5lIC8gTE9HX0JBU0UpICsgYml0Rmxvb3IoeS5lIC8gTE9HX0JBU0UpO1xyXG4gICAgICB5LnMgKj0geC5zO1xyXG4gICAgICB4Y0wgPSB4Yy5sZW5ndGg7XHJcbiAgICAgIHljTCA9IHljLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIEVuc3VyZSB4YyBwb2ludHMgdG8gbG9uZ2VyIGFycmF5IGFuZCB4Y0wgdG8gaXRzIGxlbmd0aC5cclxuICAgICAgaWYgKHhjTCA8IHljTCkgemMgPSB4YywgeGMgPSB5YywgeWMgPSB6YywgaSA9IHhjTCwgeGNMID0geWNMLCB5Y0wgPSBpO1xyXG5cclxuICAgICAgLy8gSW5pdGlhbGlzZSB0aGUgcmVzdWx0IGFycmF5IHdpdGggemVyb3MuXHJcbiAgICAgIGZvciAoaSA9IHhjTCArIHljTCwgemMgPSBbXTsgaS0tOyB6Yy5wdXNoKDApKTtcclxuXHJcbiAgICAgIGJhc2UgPSBCQVNFO1xyXG4gICAgICBzcXJ0QmFzZSA9IFNRUlRfQkFTRTtcclxuXHJcbiAgICAgIGZvciAoaSA9IHljTDsgLS1pID49IDA7KSB7XHJcbiAgICAgICAgYyA9IDA7XHJcbiAgICAgICAgeWxvID0geWNbaV0gJSBzcXJ0QmFzZTtcclxuICAgICAgICB5aGkgPSB5Y1tpXSAvIHNxcnRCYXNlIHwgMDtcclxuXHJcbiAgICAgICAgZm9yIChrID0geGNMLCBqID0gaSArIGs7IGogPiBpOykge1xyXG4gICAgICAgICAgeGxvID0geGNbLS1rXSAlIHNxcnRCYXNlO1xyXG4gICAgICAgICAgeGhpID0geGNba10gLyBzcXJ0QmFzZSB8IDA7XHJcbiAgICAgICAgICBtID0geWhpICogeGxvICsgeGhpICogeWxvO1xyXG4gICAgICAgICAgeGxvID0geWxvICogeGxvICsgKChtICUgc3FydEJhc2UpICogc3FydEJhc2UpICsgemNbal0gKyBjO1xyXG4gICAgICAgICAgYyA9ICh4bG8gLyBiYXNlIHwgMCkgKyAobSAvIHNxcnRCYXNlIHwgMCkgKyB5aGkgKiB4aGk7XHJcbiAgICAgICAgICB6Y1tqLS1dID0geGxvICUgYmFzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHpjW2pdID0gYztcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGMpIHtcclxuICAgICAgICArK2U7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgemMuc3BsaWNlKDAsIDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbm9ybWFsaXNlKHksIHpjLCBlKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBuZXcgQmlnTnVtYmVyIHdob3NlIHZhbHVlIGlzIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBuZWdhdGVkLFxyXG4gICAgICogaS5lLiBtdWx0aXBsaWVkIGJ5IC0xLlxyXG4gICAgICovXHJcbiAgICBQLm5lZ2F0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciB4ID0gbmV3IEJpZ051bWJlcih0aGlzKTtcclxuICAgICAgeC5zID0gLXgucyB8fCBudWxsO1xyXG4gICAgICByZXR1cm4geDtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiAgbiArIDAgPSBuXHJcbiAgICAgKiAgbiArIE4gPSBOXHJcbiAgICAgKiAgbiArIEkgPSBJXHJcbiAgICAgKiAgMCArIG4gPSBuXHJcbiAgICAgKiAgMCArIDAgPSAwXHJcbiAgICAgKiAgMCArIE4gPSBOXHJcbiAgICAgKiAgMCArIEkgPSBJXHJcbiAgICAgKiAgTiArIG4gPSBOXHJcbiAgICAgKiAgTiArIDAgPSBOXHJcbiAgICAgKiAgTiArIE4gPSBOXHJcbiAgICAgKiAgTiArIEkgPSBOXHJcbiAgICAgKiAgSSArIG4gPSBJXHJcbiAgICAgKiAgSSArIDAgPSBJXHJcbiAgICAgKiAgSSArIE4gPSBOXHJcbiAgICAgKiAgSSArIEkgPSBJXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGEgbmV3IEJpZ051bWJlciB3aG9zZSB2YWx1ZSBpcyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcGx1cyB0aGUgdmFsdWUgb2ZcclxuICAgICAqIEJpZ051bWJlcih5LCBiKS5cclxuICAgICAqL1xyXG4gICAgUC5wbHVzID0gZnVuY3Rpb24gKHksIGIpIHtcclxuICAgICAgdmFyIHQsXHJcbiAgICAgICAgeCA9IHRoaXMsXHJcbiAgICAgICAgYSA9IHgucztcclxuXHJcbiAgICAgIHkgPSBuZXcgQmlnTnVtYmVyKHksIGIpO1xyXG4gICAgICBiID0geS5zO1xyXG5cclxuICAgICAgLy8gRWl0aGVyIE5hTj9cclxuICAgICAgaWYgKCFhIHx8ICFiKSByZXR1cm4gbmV3IEJpZ051bWJlcihOYU4pO1xyXG5cclxuICAgICAgLy8gU2lnbnMgZGlmZmVyP1xyXG4gICAgICAgaWYgKGEgIT0gYikge1xyXG4gICAgICAgIHkucyA9IC1iO1xyXG4gICAgICAgIHJldHVybiB4Lm1pbnVzKHkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgeGUgPSB4LmUgLyBMT0dfQkFTRSxcclxuICAgICAgICB5ZSA9IHkuZSAvIExPR19CQVNFLFxyXG4gICAgICAgIHhjID0geC5jLFxyXG4gICAgICAgIHljID0geS5jO1xyXG5cclxuICAgICAgaWYgKCF4ZSB8fCAheWUpIHtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIMKxSW5maW5pdHkgaWYgZWl0aGVyIMKxSW5maW5pdHkuXHJcbiAgICAgICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBuZXcgQmlnTnVtYmVyKGEgLyAwKTtcclxuXHJcbiAgICAgICAgLy8gRWl0aGVyIHplcm8/XHJcbiAgICAgICAgLy8gUmV0dXJuIHkgaWYgeSBpcyBub24temVybywgeCBpZiB4IGlzIG5vbi16ZXJvLCBvciB6ZXJvIGlmIGJvdGggYXJlIHplcm8uXHJcbiAgICAgICAgaWYgKCF4Y1swXSB8fCAheWNbMF0pIHJldHVybiB5Y1swXSA/IHkgOiBuZXcgQmlnTnVtYmVyKHhjWzBdID8geCA6IGEgKiAwKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgeGUgPSBiaXRGbG9vcih4ZSk7XHJcbiAgICAgIHllID0gYml0Rmxvb3IoeWUpO1xyXG4gICAgICB4YyA9IHhjLnNsaWNlKCk7XHJcblxyXG4gICAgICAvLyBQcmVwZW5kIHplcm9zIHRvIGVxdWFsaXNlIGV4cG9uZW50cy4gRmFzdGVyIHRvIHVzZSByZXZlcnNlIHRoZW4gZG8gdW5zaGlmdHMuXHJcbiAgICAgIGlmIChhID0geGUgLSB5ZSkge1xyXG4gICAgICAgIGlmIChhID4gMCkge1xyXG4gICAgICAgICAgeWUgPSB4ZTtcclxuICAgICAgICAgIHQgPSB5YztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYSA9IC1hO1xyXG4gICAgICAgICAgdCA9IHhjO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdC5yZXZlcnNlKCk7XHJcbiAgICAgICAgZm9yICg7IGEtLTsgdC5wdXNoKDApKTtcclxuICAgICAgICB0LnJldmVyc2UoKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgYSA9IHhjLmxlbmd0aDtcclxuICAgICAgYiA9IHljLmxlbmd0aDtcclxuXHJcbiAgICAgIC8vIFBvaW50IHhjIHRvIHRoZSBsb25nZXIgYXJyYXksIGFuZCBiIHRvIHRoZSBzaG9ydGVyIGxlbmd0aC5cclxuICAgICAgaWYgKGEgLSBiIDwgMCkgdCA9IHljLCB5YyA9IHhjLCB4YyA9IHQsIGIgPSBhO1xyXG5cclxuICAgICAgLy8gT25seSBzdGFydCBhZGRpbmcgYXQgeWMubGVuZ3RoIC0gMSBhcyB0aGUgZnVydGhlciBkaWdpdHMgb2YgeGMgY2FuIGJlIGlnbm9yZWQuXHJcbiAgICAgIGZvciAoYSA9IDA7IGI7KSB7XHJcbiAgICAgICAgYSA9ICh4Y1stLWJdID0geGNbYl0gKyB5Y1tiXSArIGEpIC8gQkFTRSB8IDA7XHJcbiAgICAgICAgeGNbYl0gPSBCQVNFID09PSB4Y1tiXSA/IDAgOiB4Y1tiXSAlIEJBU0U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChhKSB7XHJcbiAgICAgICAgeGMgPSBbYV0uY29uY2F0KHhjKTtcclxuICAgICAgICArK3llO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIGZvciB6ZXJvLCBhcyAreCArICt5ICE9IDAgJiYgLXggKyAteSAhPSAwXHJcbiAgICAgIC8vIHllID0gTUFYX0VYUCArIDEgcG9zc2libGVcclxuICAgICAgcmV0dXJuIG5vcm1hbGlzZSh5LCB4YywgeWUpO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIElmIHNkIGlzIHVuZGVmaW5lZCBvciBudWxsIG9yIHRydWUgb3IgZmFsc2UsIHJldHVybiB0aGUgbnVtYmVyIG9mIHNpZ25pZmljYW50IGRpZ2l0cyBvZlxyXG4gICAgICogdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyLCBvciBudWxsIGlmIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpcyDCsUluZmluaXR5IG9yIE5hTi5cclxuICAgICAqIElmIHNkIGlzIHRydWUgaW5jbHVkZSBpbnRlZ2VyLXBhcnQgdHJhaWxpbmcgemVyb3MgaW4gdGhlIGNvdW50LlxyXG4gICAgICpcclxuICAgICAqIE90aGVyd2lzZSwgaWYgc2QgaXMgYSBudW1iZXIsIHJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXNcclxuICAgICAqIEJpZ051bWJlciByb3VuZGVkIHRvIGEgbWF4aW11bSBvZiBzZCBzaWduaWZpY2FudCBkaWdpdHMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3JcclxuICAgICAqIFJPVU5ESU5HX01PREUgaWYgcm0gaXMgb21pdHRlZC5cclxuICAgICAqXHJcbiAgICAgKiBzZCB7bnVtYmVyfGJvb2xlYW59IG51bWJlcjogc2lnbmlmaWNhbnQgZGlnaXRzOiBpbnRlZ2VyLCAxIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgIGJvb2xlYW46IHdoZXRoZXIgdG8gY291bnQgaW50ZWdlci1wYXJ0IHRyYWlsaW5nIHplcm9zOiB0cnVlIG9yIGZhbHNlLlxyXG4gICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7c2R8cm19J1xyXG4gICAgICovXHJcbiAgICBQLnByZWNpc2lvbiA9IFAuc2QgPSBmdW5jdGlvbiAoc2QsIHJtKSB7XHJcbiAgICAgIHZhciBjLCBuLCB2LFxyXG4gICAgICAgIHggPSB0aGlzO1xyXG5cclxuICAgICAgaWYgKHNkICE9IG51bGwgJiYgc2QgIT09ICEhc2QpIHtcclxuICAgICAgICBpbnRDaGVjayhzZCwgMSwgTUFYKTtcclxuICAgICAgICBpZiAocm0gPT0gbnVsbCkgcm0gPSBST1VORElOR19NT0RFO1xyXG4gICAgICAgIGVsc2UgaW50Q2hlY2socm0sIDAsIDgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcm91bmQobmV3IEJpZ051bWJlcih4KSwgc2QsIHJtKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCEoYyA9IHguYykpIHJldHVybiBudWxsO1xyXG4gICAgICB2ID0gYy5sZW5ndGggLSAxO1xyXG4gICAgICBuID0gdiAqIExPR19CQVNFICsgMTtcclxuXHJcbiAgICAgIGlmICh2ID0gY1t2XSkge1xyXG5cclxuICAgICAgICAvLyBTdWJ0cmFjdCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zIG9mIHRoZSBsYXN0IGVsZW1lbnQuXHJcbiAgICAgICAgZm9yICg7IHYgJSAxMCA9PSAwOyB2IC89IDEwLCBuLS0pO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIG51bWJlciBvZiBkaWdpdHMgb2YgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgICAgZm9yICh2ID0gY1swXTsgdiA+PSAxMDsgdiAvPSAxMCwgbisrKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHNkICYmIHguZSArIDEgPiBuKSBuID0geC5lICsgMTtcclxuXHJcbiAgICAgIHJldHVybiBuO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIHNoaWZ0ZWQgYnkgayBwbGFjZXNcclxuICAgICAqIChwb3dlcnMgb2YgMTApLiBTaGlmdCB0byB0aGUgcmlnaHQgaWYgbiA+IDAsIGFuZCB0byB0aGUgbGVmdCBpZiBuIDwgMC5cclxuICAgICAqXHJcbiAgICAgKiBrIHtudW1iZXJ9IEludGVnZXIsIC1NQVhfU0FGRV9JTlRFR0VSIHRvIE1BWF9TQUZFX0lOVEVHRVIgaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7a30nXHJcbiAgICAgKi9cclxuICAgIFAuc2hpZnRlZEJ5ID0gZnVuY3Rpb24gKGspIHtcclxuICAgICAgaW50Q2hlY2soaywgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpO1xyXG4gICAgICByZXR1cm4gdGhpcy50aW1lcygnMWUnICsgayk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogIHNxcnQoLW4pID0gIE5cclxuICAgICAqICBzcXJ0KE4pID0gIE5cclxuICAgICAqICBzcXJ0KC1JKSA9ICBOXHJcbiAgICAgKiAgc3FydChJKSA9ICBJXHJcbiAgICAgKiAgc3FydCgwKSA9ICAwXHJcbiAgICAgKiAgc3FydCgtMCkgPSAtMFxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBhIG5ldyBCaWdOdW1iZXIgd2hvc2UgdmFsdWUgaXMgdGhlIHNxdWFyZSByb290IG9mIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlcixcclxuICAgICAqIHJvdW5kZWQgYWNjb3JkaW5nIHRvIERFQ0lNQUxfUExBQ0VTIGFuZCBST1VORElOR19NT0RFLlxyXG4gICAgICovXHJcbiAgICBQLnNxdWFyZVJvb3QgPSBQLnNxcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciBtLCBuLCByLCByZXAsIHQsXHJcbiAgICAgICAgeCA9IHRoaXMsXHJcbiAgICAgICAgYyA9IHguYyxcclxuICAgICAgICBzID0geC5zLFxyXG4gICAgICAgIGUgPSB4LmUsXHJcbiAgICAgICAgZHAgPSBERUNJTUFMX1BMQUNFUyArIDQsXHJcbiAgICAgICAgaGFsZiA9IG5ldyBCaWdOdW1iZXIoJzAuNScpO1xyXG5cclxuICAgICAgLy8gTmVnYXRpdmUvTmFOL0luZmluaXR5L3plcm8/XHJcbiAgICAgIGlmIChzICE9PSAxIHx8ICFjIHx8ICFjWzBdKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBCaWdOdW1iZXIoIXMgfHwgcyA8IDAgJiYgKCFjIHx8IGNbMF0pID8gTmFOIDogYyA/IHggOiAxIC8gMCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEluaXRpYWwgZXN0aW1hdGUuXHJcbiAgICAgIHMgPSBNYXRoLnNxcnQoK3ZhbHVlT2YoeCkpO1xyXG5cclxuICAgICAgLy8gTWF0aC5zcXJ0IHVuZGVyZmxvdy9vdmVyZmxvdz9cclxuICAgICAgLy8gUGFzcyB4IHRvIE1hdGguc3FydCBhcyBpbnRlZ2VyLCB0aGVuIGFkanVzdCB0aGUgZXhwb25lbnQgb2YgdGhlIHJlc3VsdC5cclxuICAgICAgaWYgKHMgPT0gMCB8fCBzID09IDEgLyAwKSB7XHJcbiAgICAgICAgbiA9IGNvZWZmVG9TdHJpbmcoYyk7XHJcbiAgICAgICAgaWYgKChuLmxlbmd0aCArIGUpICUgMiA9PSAwKSBuICs9ICcwJztcclxuICAgICAgICBzID0gTWF0aC5zcXJ0KCtuKTtcclxuICAgICAgICBlID0gYml0Rmxvb3IoKGUgKyAxKSAvIDIpIC0gKGUgPCAwIHx8IGUgJSAyKTtcclxuXHJcbiAgICAgICAgaWYgKHMgPT0gMSAvIDApIHtcclxuICAgICAgICAgIG4gPSAnMWUnICsgZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbiA9IHMudG9FeHBvbmVudGlhbCgpO1xyXG4gICAgICAgICAgbiA9IG4uc2xpY2UoMCwgbi5pbmRleE9mKCdlJykgKyAxKSArIGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByID0gbmV3IEJpZ051bWJlcihuKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByID0gbmV3IEJpZ051bWJlcihzICsgJycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgemVyby5cclxuICAgICAgLy8gciBjb3VsZCBiZSB6ZXJvIGlmIE1JTl9FWFAgaXMgY2hhbmdlZCBhZnRlciB0aGUgdGhpcyB2YWx1ZSB3YXMgY3JlYXRlZC5cclxuICAgICAgLy8gVGhpcyB3b3VsZCBjYXVzZSBhIGRpdmlzaW9uIGJ5IHplcm8gKHgvdCkgYW5kIGhlbmNlIEluZmluaXR5IGJlbG93LCB3aGljaCB3b3VsZCBjYXVzZVxyXG4gICAgICAvLyBjb2VmZlRvU3RyaW5nIHRvIHRocm93LlxyXG4gICAgICBpZiAoci5jWzBdKSB7XHJcbiAgICAgICAgZSA9IHIuZTtcclxuICAgICAgICBzID0gZSArIGRwO1xyXG4gICAgICAgIGlmIChzIDwgMykgcyA9IDA7XHJcblxyXG4gICAgICAgIC8vIE5ld3Rvbi1SYXBoc29uIGl0ZXJhdGlvbi5cclxuICAgICAgICBmb3IgKDsgOykge1xyXG4gICAgICAgICAgdCA9IHI7XHJcbiAgICAgICAgICByID0gaGFsZi50aW1lcyh0LnBsdXMoZGl2KHgsIHQsIGRwLCAxKSkpO1xyXG5cclxuICAgICAgICAgIGlmIChjb2VmZlRvU3RyaW5nKHQuYykuc2xpY2UoMCwgcykgPT09IChuID0gY29lZmZUb1N0cmluZyhyLmMpKS5zbGljZSgwLCBzKSkge1xyXG5cclxuICAgICAgICAgICAgLy8gVGhlIGV4cG9uZW50IG9mIHIgbWF5IGhlcmUgYmUgb25lIGxlc3MgdGhhbiB0aGUgZmluYWwgcmVzdWx0IGV4cG9uZW50LFxyXG4gICAgICAgICAgICAvLyBlLmcgMC4wMDA5OTk5IChlLTQpIC0tPiAwLjAwMSAoZS0zKSwgc28gYWRqdXN0IHMgc28gdGhlIHJvdW5kaW5nIGRpZ2l0c1xyXG4gICAgICAgICAgICAvLyBhcmUgaW5kZXhlZCBjb3JyZWN0bHkuXHJcbiAgICAgICAgICAgIGlmIChyLmUgPCBlKSAtLXM7XHJcbiAgICAgICAgICAgIG4gPSBuLnNsaWNlKHMgLSAzLCBzICsgMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGUgNHRoIHJvdW5kaW5nIGRpZ2l0IG1heSBiZSBpbiBlcnJvciBieSAtMSBzbyBpZiB0aGUgNCByb3VuZGluZyBkaWdpdHNcclxuICAgICAgICAgICAgLy8gYXJlIDk5OTkgb3IgNDk5OSAoaS5lLiBhcHByb2FjaGluZyBhIHJvdW5kaW5nIGJvdW5kYXJ5KSBjb250aW51ZSB0aGVcclxuICAgICAgICAgICAgLy8gaXRlcmF0aW9uLlxyXG4gICAgICAgICAgICBpZiAobiA9PSAnOTk5OScgfHwgIXJlcCAmJiBuID09ICc0OTk5Jykge1xyXG5cclxuICAgICAgICAgICAgICAvLyBPbiB0aGUgZmlyc3QgaXRlcmF0aW9uIG9ubHksIGNoZWNrIHRvIHNlZSBpZiByb3VuZGluZyB1cCBnaXZlcyB0aGVcclxuICAgICAgICAgICAgICAvLyBleGFjdCByZXN1bHQgYXMgdGhlIG5pbmVzIG1heSBpbmZpbml0ZWx5IHJlcGVhdC5cclxuICAgICAgICAgICAgICBpZiAoIXJlcCkge1xyXG4gICAgICAgICAgICAgICAgcm91bmQodCwgdC5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodC50aW1lcyh0KS5lcSh4KSkge1xyXG4gICAgICAgICAgICAgICAgICByID0gdDtcclxuICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBkcCArPSA0O1xyXG4gICAgICAgICAgICAgIHMgKz0gNDtcclxuICAgICAgICAgICAgICByZXAgPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiByb3VuZGluZyBkaWdpdHMgYXJlIG51bGwsIDB7MCw0fSBvciA1MHswLDN9LCBjaGVjayBmb3IgZXhhY3RcclxuICAgICAgICAgICAgICAvLyByZXN1bHQuIElmIG5vdCwgdGhlbiB0aGVyZSBhcmUgZnVydGhlciBkaWdpdHMgYW5kIG0gd2lsbCBiZSB0cnV0aHkuXHJcbiAgICAgICAgICAgICAgaWYgKCErbiB8fCAhK24uc2xpY2UoMSkgJiYgbi5jaGFyQXQoMCkgPT0gJzUnKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVHJ1bmNhdGUgdG8gdGhlIGZpcnN0IHJvdW5kaW5nIGRpZ2l0LlxyXG4gICAgICAgICAgICAgICAgcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAyLCAxKTtcclxuICAgICAgICAgICAgICAgIG0gPSAhci50aW1lcyhyKS5lcSh4KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcm91bmQociwgci5lICsgREVDSU1BTF9QTEFDRVMgKyAxLCBST1VORElOR19NT0RFLCBtKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBleHBvbmVudGlhbCBub3RhdGlvbiBhbmRcclxuICAgICAqIHJvdW5kZWQgdXNpbmcgUk9VTkRJTkdfTU9ERSB0byBkcCBmaXhlZCBkZWNpbWFsIHBsYWNlcy5cclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IHtub3QgYSBwcmltaXRpdmUgbnVtYmVyfG5vdCBhbiBpbnRlZ2VyfG91dCBvZiByYW5nZX06IHtkcHxybX0nXHJcbiAgICAgKi9cclxuICAgIFAudG9FeHBvbmVudGlhbCA9IGZ1bmN0aW9uIChkcCwgcm0pIHtcclxuICAgICAgaWYgKGRwICE9IG51bGwpIHtcclxuICAgICAgICBpbnRDaGVjayhkcCwgMCwgTUFYKTtcclxuICAgICAgICBkcCsrO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmb3JtYXQodGhpcywgZHAsIHJtLCAxKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBpbiBmaXhlZC1wb2ludCBub3RhdGlvbiByb3VuZGluZ1xyXG4gICAgICogdG8gZHAgZml4ZWQgZGVjaW1hbCBwbGFjZXMgdXNpbmcgcm91bmRpbmcgbW9kZSBybSwgb3IgUk9VTkRJTkdfTU9ERSBpZiBybSBpcyBvbWl0dGVkLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IGFzIHdpdGggSmF2YVNjcmlwdCdzIG51bWJlciB0eXBlLCAoLTApLnRvRml4ZWQoMCkgaXMgJzAnLFxyXG4gICAgICogYnV0IGUuZy4gKC0wLjAwMDAxKS50b0ZpeGVkKDApIGlzICctMCcuXHJcbiAgICAgKlxyXG4gICAgICogW2RwXSB7bnVtYmVyfSBEZWNpbWFsIHBsYWNlcy4gSW50ZWdlciwgMCB0byBNQVggaW5jbHVzaXZlLlxyXG4gICAgICogW3JtXSB7bnVtYmVyfSBSb3VuZGluZyBtb2RlLiBJbnRlZ2VyLCAwIHRvIDggaW5jbHVzaXZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAgICovXHJcbiAgICBQLnRvRml4ZWQgPSBmdW5jdGlvbiAoZHAsIHJtKSB7XHJcbiAgICAgIGlmIChkcCAhPSBudWxsKSB7XHJcbiAgICAgICAgaW50Q2hlY2soZHAsIDAsIE1BWCk7XHJcbiAgICAgICAgZHAgPSBkcCArIHRoaXMuZSArIDE7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZvcm1hdCh0aGlzLCBkcCwgcm0pO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLypcclxuICAgICAqIFJldHVybiBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHZhbHVlIG9mIHRoaXMgQmlnTnVtYmVyIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uIHJvdW5kZWRcclxuICAgICAqIHVzaW5nIHJtIG9yIFJPVU5ESU5HX01PREUgdG8gZHAgZGVjaW1hbCBwbGFjZXMsIGFuZCBmb3JtYXR0ZWQgYWNjb3JkaW5nIHRvIHRoZSBwcm9wZXJ0aWVzXHJcbiAgICAgKiBvZiB0aGUgZm9ybWF0IG9yIEZPUk1BVCBvYmplY3QgKHNlZSBCaWdOdW1iZXIuc2V0KS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZm9ybWF0dGluZyBvYmplY3QgbWF5IGNvbnRhaW4gc29tZSBvciBhbGwgb2YgdGhlIHByb3BlcnRpZXMgc2hvd24gYmVsb3cuXHJcbiAgICAgKlxyXG4gICAgICogRk9STUFUID0ge1xyXG4gICAgICogICBwcmVmaXg6ICcnLFxyXG4gICAgICogICBncm91cFNpemU6IDMsXHJcbiAgICAgKiAgIHNlY29uZGFyeUdyb3VwU2l6ZTogMCxcclxuICAgICAqICAgZ3JvdXBTZXBhcmF0b3I6ICcsJyxcclxuICAgICAqICAgZGVjaW1hbFNlcGFyYXRvcjogJy4nLFxyXG4gICAgICogICBmcmFjdGlvbkdyb3VwU2l6ZTogMCxcclxuICAgICAqICAgZnJhY3Rpb25Hcm91cFNlcGFyYXRvcjogJ1xceEEwJywgICAgICAvLyBub24tYnJlYWtpbmcgc3BhY2VcclxuICAgICAqICAgc3VmZml4OiAnJ1xyXG4gICAgICogfTtcclxuICAgICAqXHJcbiAgICAgKiBbZHBdIHtudW1iZXJ9IERlY2ltYWwgcGxhY2VzLiBJbnRlZ2VyLCAwIHRvIE1BWCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbcm1dIHtudW1iZXJ9IFJvdW5kaW5nIG1vZGUuIEludGVnZXIsIDAgdG8gOCBpbmNsdXNpdmUuXHJcbiAgICAgKiBbZm9ybWF0XSB7b2JqZWN0fSBGb3JtYXR0aW5nIG9wdGlvbnMuIFNlZSBGT1JNQVQgcGJqZWN0IGFib3ZlLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGEgcHJpbWl0aXZlIG51bWJlcnxub3QgYW4gaW50ZWdlcnxvdXQgb2YgcmFuZ2V9OiB7ZHB8cm19J1xyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEFyZ3VtZW50IG5vdCBhbiBvYmplY3Q6IHtmb3JtYXR9J1xyXG4gICAgICovXHJcbiAgICBQLnRvRm9ybWF0ID0gZnVuY3Rpb24gKGRwLCBybSwgZm9ybWF0KSB7XHJcbiAgICAgIHZhciBzdHIsXHJcbiAgICAgICAgeCA9IHRoaXM7XHJcblxyXG4gICAgICBpZiAoZm9ybWF0ID09IG51bGwpIHtcclxuICAgICAgICBpZiAoZHAgIT0gbnVsbCAmJiBybSAmJiB0eXBlb2Ygcm0gPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgIGZvcm1hdCA9IHJtO1xyXG4gICAgICAgICAgcm0gPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZHAgJiYgdHlwZW9mIGRwID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICBmb3JtYXQgPSBkcDtcclxuICAgICAgICAgIGRwID0gcm0gPSBudWxsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBmb3JtYXQgPSBGT1JNQVQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBmb3JtYXQgIT0gJ29iamVjdCcpIHtcclxuICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgKGJpZ251bWJlckVycm9yICsgJ0FyZ3VtZW50IG5vdCBhbiBvYmplY3Q6ICcgKyBmb3JtYXQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzdHIgPSB4LnRvRml4ZWQoZHAsIHJtKTtcclxuXHJcbiAgICAgIGlmICh4LmMpIHtcclxuICAgICAgICB2YXIgaSxcclxuICAgICAgICAgIGFyciA9IHN0ci5zcGxpdCgnLicpLFxyXG4gICAgICAgICAgZzEgPSArZm9ybWF0Lmdyb3VwU2l6ZSxcclxuICAgICAgICAgIGcyID0gK2Zvcm1hdC5zZWNvbmRhcnlHcm91cFNpemUsXHJcbiAgICAgICAgICBncm91cFNlcGFyYXRvciA9IGZvcm1hdC5ncm91cFNlcGFyYXRvciB8fCAnJyxcclxuICAgICAgICAgIGludFBhcnQgPSBhcnJbMF0sXHJcbiAgICAgICAgICBmcmFjdGlvblBhcnQgPSBhcnJbMV0sXHJcbiAgICAgICAgICBpc05lZyA9IHgucyA8IDAsXHJcbiAgICAgICAgICBpbnREaWdpdHMgPSBpc05lZyA/IGludFBhcnQuc2xpY2UoMSkgOiBpbnRQYXJ0LFxyXG4gICAgICAgICAgbGVuID0gaW50RGlnaXRzLmxlbmd0aDtcclxuXHJcbiAgICAgICAgaWYgKGcyKSBpID0gZzEsIGcxID0gZzIsIGcyID0gaSwgbGVuIC09IGk7XHJcblxyXG4gICAgICAgIGlmIChnMSA+IDAgJiYgbGVuID4gMCkge1xyXG4gICAgICAgICAgaSA9IGxlbiAlIGcxIHx8IGcxO1xyXG4gICAgICAgICAgaW50UGFydCA9IGludERpZ2l0cy5zdWJzdHIoMCwgaSk7XHJcbiAgICAgICAgICBmb3IgKDsgaSA8IGxlbjsgaSArPSBnMSkgaW50UGFydCArPSBncm91cFNlcGFyYXRvciArIGludERpZ2l0cy5zdWJzdHIoaSwgZzEpO1xyXG4gICAgICAgICAgaWYgKGcyID4gMCkgaW50UGFydCArPSBncm91cFNlcGFyYXRvciArIGludERpZ2l0cy5zbGljZShpKTtcclxuICAgICAgICAgIGlmIChpc05lZykgaW50UGFydCA9ICctJyArIGludFBhcnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdHIgPSBmcmFjdGlvblBhcnRcclxuICAgICAgICAgPyBpbnRQYXJ0ICsgKGZvcm1hdC5kZWNpbWFsU2VwYXJhdG9yIHx8ICcnKSArICgoZzIgPSArZm9ybWF0LmZyYWN0aW9uR3JvdXBTaXplKVxyXG4gICAgICAgICAgPyBmcmFjdGlvblBhcnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcZHsnICsgZzIgKyAnfVxcXFxCJywgJ2cnKSxcclxuICAgICAgICAgICAnJCYnICsgKGZvcm1hdC5mcmFjdGlvbkdyb3VwU2VwYXJhdG9yIHx8ICcnKSlcclxuICAgICAgICAgIDogZnJhY3Rpb25QYXJ0KVxyXG4gICAgICAgICA6IGludFBhcnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAoZm9ybWF0LnByZWZpeCB8fCAnJykgKyBzdHIgKyAoZm9ybWF0LnN1ZmZpeCB8fCAnJyk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIHR3byBCaWdOdW1iZXJzIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgYXMgYSBzaW1wbGVcclxuICAgICAqIGZyYWN0aW9uIHdpdGggYW4gaW50ZWdlciBudW1lcmF0b3IgYW5kIGFuIGludGVnZXIgZGVub21pbmF0b3IuXHJcbiAgICAgKiBUaGUgZGVub21pbmF0b3Igd2lsbCBiZSBhIHBvc2l0aXZlIG5vbi16ZXJvIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB0aGUgc3BlY2lmaWVkXHJcbiAgICAgKiBtYXhpbXVtIGRlbm9taW5hdG9yLiBJZiBhIG1heGltdW0gZGVub21pbmF0b3IgaXMgbm90IHNwZWNpZmllZCwgdGhlIGRlbm9taW5hdG9yIHdpbGwgYmVcclxuICAgICAqIHRoZSBsb3dlc3QgdmFsdWUgbmVjZXNzYXJ5IHRvIHJlcHJlc2VudCB0aGUgbnVtYmVyIGV4YWN0bHkuXHJcbiAgICAgKlxyXG4gICAgICogW21kXSB7bnVtYmVyfHN0cmluZ3xCaWdOdW1iZXJ9IEludGVnZXIgPj0gMSwgb3IgSW5maW5pdHkuIFRoZSBtYXhpbXVtIGRlbm9taW5hdG9yLlxyXG4gICAgICpcclxuICAgICAqICdbQmlnTnVtYmVyIEVycm9yXSBBcmd1bWVudCB7bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfSA6IHttZH0nXHJcbiAgICAgKi9cclxuICAgIFAudG9GcmFjdGlvbiA9IGZ1bmN0aW9uIChtZCkge1xyXG4gICAgICB2YXIgZCwgZDAsIGQxLCBkMiwgZSwgZXhwLCBuLCBuMCwgbjEsIHEsIHIsIHMsXHJcbiAgICAgICAgeCA9IHRoaXMsXHJcbiAgICAgICAgeGMgPSB4LmM7XHJcblxyXG4gICAgICBpZiAobWQgIT0gbnVsbCkge1xyXG4gICAgICAgIG4gPSBuZXcgQmlnTnVtYmVyKG1kKTtcclxuXHJcbiAgICAgICAgLy8gVGhyb3cgaWYgbWQgaXMgbGVzcyB0aGFuIG9uZSBvciBpcyBub3QgYW4gaW50ZWdlciwgdW5sZXNzIGl0IGlzIEluZmluaXR5LlxyXG4gICAgICAgIGlmICghbi5pc0ludGVnZXIoKSAmJiAobi5jIHx8IG4ucyAhPT0gMSkgfHwgbi5sdChPTkUpKSB7XHJcbiAgICAgICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgICAgICAoYmlnbnVtYmVyRXJyb3IgKyAnQXJndW1lbnQgJyArXHJcbiAgICAgICAgICAgICAgKG4uaXNJbnRlZ2VyKCkgPyAnb3V0IG9mIHJhbmdlOiAnIDogJ25vdCBhbiBpbnRlZ2VyOiAnKSArIHZhbHVlT2YobikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCF4YykgcmV0dXJuIG5ldyBCaWdOdW1iZXIoeCk7XHJcblxyXG4gICAgICBkID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgICBuMSA9IGQwID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgICBkMSA9IG4wID0gbmV3IEJpZ051bWJlcihPTkUpO1xyXG4gICAgICBzID0gY29lZmZUb1N0cmluZyh4Yyk7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgaW5pdGlhbCBkZW5vbWluYXRvci5cclxuICAgICAgLy8gZCBpcyBhIHBvd2VyIG9mIDEwIGFuZCB0aGUgbWluaW11bSBtYXggZGVub21pbmF0b3IgdGhhdCBzcGVjaWZpZXMgdGhlIHZhbHVlIGV4YWN0bHkuXHJcbiAgICAgIGUgPSBkLmUgPSBzLmxlbmd0aCAtIHguZSAtIDE7XHJcbiAgICAgIGQuY1swXSA9IFBPV1NfVEVOWyhleHAgPSBlICUgTE9HX0JBU0UpIDwgMCA/IExPR19CQVNFICsgZXhwIDogZXhwXTtcclxuICAgICAgbWQgPSAhbWQgfHwgbi5jb21wYXJlZFRvKGQpID4gMCA/IChlID4gMCA/IGQgOiBuMSkgOiBuO1xyXG5cclxuICAgICAgZXhwID0gTUFYX0VYUDtcclxuICAgICAgTUFYX0VYUCA9IDEgLyAwO1xyXG4gICAgICBuID0gbmV3IEJpZ051bWJlcihzKTtcclxuXHJcbiAgICAgIC8vIG4wID0gZDEgPSAwXHJcbiAgICAgIG4wLmNbMF0gPSAwO1xyXG5cclxuICAgICAgZm9yICg7IDspICB7XHJcbiAgICAgICAgcSA9IGRpdihuLCBkLCAwLCAxKTtcclxuICAgICAgICBkMiA9IGQwLnBsdXMocS50aW1lcyhkMSkpO1xyXG4gICAgICAgIGlmIChkMi5jb21wYXJlZFRvKG1kKSA9PSAxKSBicmVhaztcclxuICAgICAgICBkMCA9IGQxO1xyXG4gICAgICAgIGQxID0gZDI7XHJcbiAgICAgICAgbjEgPSBuMC5wbHVzKHEudGltZXMoZDIgPSBuMSkpO1xyXG4gICAgICAgIG4wID0gZDI7XHJcbiAgICAgICAgZCA9IG4ubWludXMocS50aW1lcyhkMiA9IGQpKTtcclxuICAgICAgICBuID0gZDI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGQyID0gZGl2KG1kLm1pbnVzKGQwKSwgZDEsIDAsIDEpO1xyXG4gICAgICBuMCA9IG4wLnBsdXMoZDIudGltZXMobjEpKTtcclxuICAgICAgZDAgPSBkMC5wbHVzKGQyLnRpbWVzKGQxKSk7XHJcbiAgICAgIG4wLnMgPSBuMS5zID0geC5zO1xyXG4gICAgICBlID0gZSAqIDI7XHJcblxyXG4gICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggZnJhY3Rpb24gaXMgY2xvc2VyIHRvIHgsIG4wL2QwIG9yIG4xL2QxXHJcbiAgICAgIHIgPSBkaXYobjEsIGQxLCBlLCBST1VORElOR19NT0RFKS5taW51cyh4KS5hYnMoKS5jb21wYXJlZFRvKFxyXG4gICAgICAgICAgZGl2KG4wLCBkMCwgZSwgUk9VTkRJTkdfTU9ERSkubWludXMoeCkuYWJzKCkpIDwgMSA/IFtuMSwgZDFdIDogW24wLCBkMF07XHJcblxyXG4gICAgICBNQVhfRVhQID0gZXhwO1xyXG5cclxuICAgICAgcmV0dXJuIHI7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIHRoZSB2YWx1ZSBvZiB0aGlzIEJpZ051bWJlciBjb252ZXJ0ZWQgdG8gYSBudW1iZXIgcHJpbWl0aXZlLlxyXG4gICAgICovXHJcbiAgICBQLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gK3ZhbHVlT2YodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgcm91bmRlZCB0byBzZCBzaWduaWZpY2FudCBkaWdpdHNcclxuICAgICAqIHVzaW5nIHJvdW5kaW5nIG1vZGUgcm0gb3IgUk9VTkRJTkdfTU9ERS4gSWYgc2QgaXMgbGVzcyB0aGFuIHRoZSBudW1iZXIgb2YgZGlnaXRzXHJcbiAgICAgKiBuZWNlc3NhcnkgdG8gcmVwcmVzZW50IHRoZSBpbnRlZ2VyIHBhcnQgb2YgdGhlIHZhbHVlIGluIGZpeGVkLXBvaW50IG5vdGF0aW9uLCB0aGVuIHVzZVxyXG4gICAgICogZXhwb25lbnRpYWwgbm90YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogW3NkXSB7bnVtYmVyfSBTaWduaWZpY2FudCBkaWdpdHMuIEludGVnZXIsIDEgdG8gTUFYIGluY2x1c2l2ZS5cclxuICAgICAqIFtybV0ge251bWJlcn0gUm91bmRpbmcgbW9kZS4gSW50ZWdlciwgMCB0byA4IGluY2x1c2l2ZS5cclxuICAgICAqXHJcbiAgICAgKiAnW0JpZ051bWJlciBFcnJvcl0gQXJndW1lbnQge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge3NkfHJtfSdcclxuICAgICAqL1xyXG4gICAgUC50b1ByZWNpc2lvbiA9IGZ1bmN0aW9uIChzZCwgcm0pIHtcclxuICAgICAgaWYgKHNkICE9IG51bGwpIGludENoZWNrKHNkLCAxLCBNQVgpO1xyXG4gICAgICByZXR1cm4gZm9ybWF0KHRoaXMsIHNkLCBybSwgMik7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKlxyXG4gICAgICogUmV0dXJuIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgdmFsdWUgb2YgdGhpcyBCaWdOdW1iZXIgaW4gYmFzZSBiLCBvciBiYXNlIDEwIGlmIGIgaXNcclxuICAgICAqIG9taXR0ZWQuIElmIGEgYmFzZSBpcyBzcGVjaWZpZWQsIGluY2x1ZGluZyBiYXNlIDEwLCByb3VuZCBhY2NvcmRpbmcgdG8gREVDSU1BTF9QTEFDRVMgYW5kXHJcbiAgICAgKiBST1VORElOR19NT0RFLiBJZiBhIGJhc2UgaXMgbm90IHNwZWNpZmllZCwgYW5kIHRoaXMgQmlnTnVtYmVyIGhhcyBhIHBvc2l0aXZlIGV4cG9uZW50XHJcbiAgICAgKiB0aGF0IGlzIGVxdWFsIHRvIG9yIGdyZWF0ZXIgdGhhbiBUT19FWFBfUE9TLCBvciBhIG5lZ2F0aXZlIGV4cG9uZW50IGVxdWFsIHRvIG9yIGxlc3MgdGhhblxyXG4gICAgICogVE9fRVhQX05FRywgcmV0dXJuIGV4cG9uZW50aWFsIG5vdGF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFtiXSB7bnVtYmVyfSBJbnRlZ2VyLCAyIHRvIEFMUEhBQkVULmxlbmd0aCBpbmNsdXNpdmUuXHJcbiAgICAgKlxyXG4gICAgICogJ1tCaWdOdW1iZXIgRXJyb3JdIEJhc2Uge25vdCBhIHByaW1pdGl2ZSBudW1iZXJ8bm90IGFuIGludGVnZXJ8b3V0IG9mIHJhbmdlfToge2J9J1xyXG4gICAgICovXHJcbiAgICBQLnRvU3RyaW5nID0gZnVuY3Rpb24gKGIpIHtcclxuICAgICAgdmFyIHN0cixcclxuICAgICAgICBuID0gdGhpcyxcclxuICAgICAgICBzID0gbi5zLFxyXG4gICAgICAgIGUgPSBuLmU7XHJcblxyXG4gICAgICAvLyBJbmZpbml0eSBvciBOYU4/XHJcbiAgICAgIGlmIChlID09PSBudWxsKSB7XHJcbiAgICAgICAgaWYgKHMpIHtcclxuICAgICAgICAgIHN0ciA9ICdJbmZpbml0eSc7XHJcbiAgICAgICAgICBpZiAocyA8IDApIHN0ciA9ICctJyArIHN0cjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3RyID0gJ05hTic7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChiID09IG51bGwpIHtcclxuICAgICAgICAgIHN0ciA9IGUgPD0gVE9fRVhQX05FRyB8fCBlID49IFRPX0VYUF9QT1NcclxuICAgICAgICAgICA/IHRvRXhwb25lbnRpYWwoY29lZmZUb1N0cmluZyhuLmMpLCBlKVxyXG4gICAgICAgICAgIDogdG9GaXhlZFBvaW50KGNvZWZmVG9TdHJpbmcobi5jKSwgZSwgJzAnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDEwKSB7XHJcbiAgICAgICAgICBuID0gcm91bmQobmV3IEJpZ051bWJlcihuKSwgREVDSU1BTF9QTEFDRVMgKyBlICsgMSwgUk9VTkRJTkdfTU9ERSk7XHJcbiAgICAgICAgICBzdHIgPSB0b0ZpeGVkUG9pbnQoY29lZmZUb1N0cmluZyhuLmMpLCBuLmUsICcwJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGludENoZWNrKGIsIDIsIEFMUEhBQkVULmxlbmd0aCwgJ0Jhc2UnKTtcclxuICAgICAgICAgIHN0ciA9IGNvbnZlcnRCYXNlKHRvRml4ZWRQb2ludChjb2VmZlRvU3RyaW5nKG4uYyksIGUsICcwJyksIDEwLCBiLCBzLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzIDwgMCAmJiBuLmNbMF0pIHN0ciA9ICctJyArIHN0cjtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcblxyXG4gICAgUC50b1VuaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHN0ciA9IFAudG9Gb3JtYXQuY2FsbCh0aGlzKTtcclxuICAgICAgdmFyIGFkZE1hcCA9IFwiIC5LLk0uRy5ULlAuQi5FLlEuYS5iLmMuYWEuYWIuYWMuYmEuYmIuYmMuY2EuY2IuY2MueC55LnpcIi5zcGxpdChcIi5cIik7XHJcblxyXG4gICAgICB2YXIgc3RyID0gc3RyLnNwbGl0KFwiLlwiKVswXTtcclxuICAgICAgdmFyIGFyciA9IHN0ci5zcGxpdChcIixcIik7XHJcbiAgICAgIHZhciBjb3VudCA9IGFyci5zcGxpY2UoMikubGVuZ3RoO1xyXG4gICAgICBpZihhcnIubGVuZ3RoID4gMSl7XHJcbiAgICAgICAgdmFyIHBvaW50ID0gYXJyWzFdLnNwbGl0KFwiXCIpO1xyXG4gICAgICAgIHBvaW50LnNwbGljZSgyKTtcclxuICAgICAgICBhcnJbMV0gPSBwb2ludC5qb2luKFwiXCIpO1xyXG4gICAgICB9ZWxzZXtcclxuICAgICAgICBjb3VudCA9IC0xO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhcnIuam9pbihcIi5cIikrYWRkTWFwW2NvdW50ICsgMV07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qXHJcbiAgICAgKiBSZXR1cm4gYXMgdG9TdHJpbmcsIGJ1dCBkbyBub3QgYWNjZXB0IGEgYmFzZSBhcmd1bWVudCwgYW5kIGluY2x1ZGUgdGhlIG1pbnVzIHNpZ24gZm9yXHJcbiAgICAgKiBuZWdhdGl2ZSB6ZXJvLlxyXG4gICAgICovXHJcbiAgICBQLnZhbHVlT2YgPSBQLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlT2YodGhpcyk7XHJcbiAgICB9O1xyXG5cclxuICAgIFAuX2lzQmlnTnVtYmVyID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoaGFzU3ltYm9sKSB7XHJcbiAgICAgIFBbU3ltYm9sLnRvU3RyaW5nVGFnXSA9ICdCaWdOdW1iZXInO1xyXG5cclxuICAgICAgLy8gTm9kZS5qcyB2MTAuMTIuMCtcclxuICAgICAgUFtTeW1ib2wuZm9yKCdub2RlanMudXRpbC5pbnNwZWN0LmN1c3RvbScpXSA9IFAudmFsdWVPZjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY29uZmlnT2JqZWN0ICE9IG51bGwpIEJpZ051bWJlci5zZXQoY29uZmlnT2JqZWN0KTtcclxuXHJcbiAgICByZXR1cm4gQmlnTnVtYmVyO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIFBSSVZBVEUgSEVMUEVSIEZVTkNUSU9OU1xyXG5cclxuICAvLyBUaGVzZSBmdW5jdGlvbnMgZG9uJ3QgbmVlZCBhY2Nlc3MgdG8gdmFyaWFibGVzLFxyXG4gIC8vIGUuZy4gREVDSU1BTF9QTEFDRVMsIGluIHRoZSBzY29wZSBvZiB0aGUgYGNsb25lYCBmdW5jdGlvbiBhYm92ZS5cclxuXHJcblxyXG4gIGZ1bmN0aW9uIGJpdEZsb29yKG4pIHtcclxuICAgIHZhciBpID0gbiB8IDA7XHJcbiAgICByZXR1cm4gbiA+IDAgfHwgbiA9PT0gaSA/IGkgOiBpIC0gMTtcclxuICB9XHJcblxyXG5cclxuICAvLyBSZXR1cm4gYSBjb2VmZmljaWVudCBhcnJheSBhcyBhIHN0cmluZyBvZiBiYXNlIDEwIGRpZ2l0cy5cclxuICBmdW5jdGlvbiBjb2VmZlRvU3RyaW5nKGEpIHtcclxuICAgIHZhciBzLCB6LFxyXG4gICAgICBpID0gMSxcclxuICAgICAgaiA9IGEubGVuZ3RoLFxyXG4gICAgICByID0gYVswXSArICcnO1xyXG5cclxuICAgIGZvciAoOyBpIDwgajspIHtcclxuICAgICAgcyA9IGFbaSsrXSArICcnO1xyXG4gICAgICB6ID0gTE9HX0JBU0UgLSBzLmxlbmd0aDtcclxuICAgICAgZm9yICg7IHotLTsgcyA9ICcwJyArIHMpO1xyXG4gICAgICByICs9IHM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lIHRyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChqID0gci5sZW5ndGg7IHIuY2hhckNvZGVBdCgtLWopID09PSA0ODspO1xyXG5cclxuICAgIHJldHVybiByLnNsaWNlKDAsIGogKyAxIHx8IDEpO1xyXG4gIH1cclxuXHJcblxyXG4gIC8vIENvbXBhcmUgdGhlIHZhbHVlIG9mIEJpZ051bWJlcnMgeCBhbmQgeS5cclxuICBmdW5jdGlvbiBjb21wYXJlKHgsIHkpIHtcclxuICAgIHZhciBhLCBiLFxyXG4gICAgICB4YyA9IHguYyxcclxuICAgICAgeWMgPSB5LmMsXHJcbiAgICAgIGkgPSB4LnMsXHJcbiAgICAgIGogPSB5LnMsXHJcbiAgICAgIGsgPSB4LmUsXHJcbiAgICAgIGwgPSB5LmU7XHJcblxyXG4gICAgLy8gRWl0aGVyIE5hTj9cclxuICAgIGlmICghaSB8fCAhaikgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgYSA9IHhjICYmICF4Y1swXTtcclxuICAgIGIgPSB5YyAmJiAheWNbMF07XHJcblxyXG4gICAgLy8gRWl0aGVyIHplcm8/XHJcbiAgICBpZiAoYSB8fCBiKSByZXR1cm4gYSA/IGIgPyAwIDogLWogOiBpO1xyXG5cclxuICAgIC8vIFNpZ25zIGRpZmZlcj9cclxuICAgIGlmIChpICE9IGopIHJldHVybiBpO1xyXG5cclxuICAgIGEgPSBpIDwgMDtcclxuICAgIGIgPSBrID09IGw7XHJcblxyXG4gICAgLy8gRWl0aGVyIEluZmluaXR5P1xyXG4gICAgaWYgKCF4YyB8fCAheWMpIHJldHVybiBiID8gMCA6ICF4YyBeIGEgPyAxIDogLTE7XHJcblxyXG4gICAgLy8gQ29tcGFyZSBleHBvbmVudHMuXHJcbiAgICBpZiAoIWIpIHJldHVybiBrID4gbCBeIGEgPyAxIDogLTE7XHJcblxyXG4gICAgaiA9IChrID0geGMubGVuZ3RoKSA8IChsID0geWMubGVuZ3RoKSA/IGsgOiBsO1xyXG5cclxuICAgIC8vIENvbXBhcmUgZGlnaXQgYnkgZGlnaXQuXHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgajsgaSsrKSBpZiAoeGNbaV0gIT0geWNbaV0pIHJldHVybiB4Y1tpXSA+IHljW2ldIF4gYSA/IDEgOiAtMTtcclxuXHJcbiAgICAvLyBDb21wYXJlIGxlbmd0aHMuXHJcbiAgICByZXR1cm4gayA9PSBsID8gMCA6IGsgPiBsIF4gYSA/IDEgOiAtMTtcclxuICB9XHJcblxyXG5cclxuICAvKlxyXG4gICAqIENoZWNrIHRoYXQgbiBpcyBhIHByaW1pdGl2ZSBudW1iZXIsIGFuIGludGVnZXIsIGFuZCBpbiByYW5nZSwgb3RoZXJ3aXNlIHRocm93LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGludENoZWNrKG4sIG1pbiwgbWF4LCBuYW1lKSB7XHJcbiAgICBpZiAobiA8IG1pbiB8fCBuID4gbWF4IHx8IG4gIT09IG1hdGhmbG9vcihuKSkge1xyXG4gICAgICB0aHJvdyBFcnJvclxyXG4gICAgICAgKGJpZ251bWJlckVycm9yICsgKG5hbWUgfHwgJ0FyZ3VtZW50JykgKyAodHlwZW9mIG4gPT0gJ251bWJlcidcclxuICAgICAgICAgPyBuIDwgbWluIHx8IG4gPiBtYXggPyAnIG91dCBvZiByYW5nZTogJyA6ICcgbm90IGFuIGludGVnZXI6ICdcclxuICAgICAgICAgOiAnIG5vdCBhIHByaW1pdGl2ZSBudW1iZXI6ICcpICsgU3RyaW5nKG4pKTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxuICAvLyBBc3N1bWVzIGZpbml0ZSBuLlxyXG4gIGZ1bmN0aW9uIGlzT2RkKG4pIHtcclxuICAgIHZhciBrID0gbi5jLmxlbmd0aCAtIDE7XHJcbiAgICByZXR1cm4gYml0Rmxvb3Iobi5lIC8gTE9HX0JBU0UpID09IGsgJiYgbi5jW2tdICUgMiAhPSAwO1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIHRvRXhwb25lbnRpYWwoc3RyLCBlKSB7XHJcbiAgICByZXR1cm4gKHN0ci5sZW5ndGggPiAxID8gc3RyLmNoYXJBdCgwKSArICcuJyArIHN0ci5zbGljZSgxKSA6IHN0cikgK1xyXG4gICAgIChlIDwgMCA/ICdlJyA6ICdlKycpICsgZTtcclxuICB9XHJcblxyXG5cclxuICBmdW5jdGlvbiB0b0ZpeGVkUG9pbnQoc3RyLCBlLCB6KSB7XHJcbiAgICB2YXIgbGVuLCB6cztcclxuXHJcbiAgICAvLyBOZWdhdGl2ZSBleHBvbmVudD9cclxuICAgIGlmIChlIDwgMCkge1xyXG5cclxuICAgICAgLy8gUHJlcGVuZCB6ZXJvcy5cclxuICAgICAgZm9yICh6cyA9IHogKyAnLic7ICsrZTsgenMgKz0geik7XHJcbiAgICAgIHN0ciA9IHpzICsgc3RyO1xyXG5cclxuICAgIC8vIFBvc2l0aXZlIGV4cG9uZW50XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsZW4gPSBzdHIubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gQXBwZW5kIHplcm9zLlxyXG4gICAgICBpZiAoKytlID4gbGVuKSB7XHJcbiAgICAgICAgZm9yICh6cyA9IHosIGUgLT0gbGVuOyAtLWU7IHpzICs9IHopO1xyXG4gICAgICAgIHN0ciArPSB6cztcclxuICAgICAgfSBlbHNlIGlmIChlIDwgbGVuKSB7XHJcbiAgICAgICAgc3RyID0gc3RyLnNsaWNlKDAsIGUpICsgJy4nICsgc3RyLnNsaWNlKGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHN0cjtcclxuICB9XHJcblxyXG5cclxuICAvLyBFWFBPUlRcclxuXHJcblxyXG4gIEJpZ051bWJlciA9IGNsb25lKCk7XHJcbiAgQmlnTnVtYmVyWydkZWZhdWx0J10gPSBCaWdOdW1iZXIuQmlnTnVtYmVyID0gQmlnTnVtYmVyO1xyXG5cclxuICAvLyBBTUQuXHJcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XHJcbiAgICBkZWZpbmUoZnVuY3Rpb24gKCkgeyByZXR1cm4gQmlnTnVtYmVyOyB9KTtcclxuXHJcbiAgLy8gTm9kZS5qcyBhbmQgb3RoZXIgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cy5cclxuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgIT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuICAgIG1vZHVsZS5leHBvcnRzID0gQmlnTnVtYmVyO1xyXG5cclxuICAvLyBCcm93c2VyLlxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAoIWdsb2JhbE9iamVjdCkge1xyXG4gICAgICBnbG9iYWxPYmplY3QgPSB0eXBlb2Ygc2VsZiAhPSAndW5kZWZpbmVkJyAmJiBzZWxmID8gc2VsZiA6IHdpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBnbG9iYWxPYmplY3QuQmlnTnVtYmVyID0gQmlnTnVtYmVyO1xyXG4gIH1cclxufSkodGhpcyk7XHJcbiIsImZ1bmN0aW9uIGxvYWRfbWFwKG9iaixyb290LG5hbWVNYXApXHJcbntcclxuICAgIGZvcih2YXIgbmFtZSBvZiBuYW1lTWFwKVxyXG4gICAgICAgIG9ialtuYW1lXSA9IHJvb3QuZ2V0Q2hpbGRCeU5hbWUobmFtZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGxvYWRfbWFwOyIsImltcG9ydCBCaWdOdW1iZXIgZnJvbSBcIi4uL2xpYnMvYmlnbnVtYmVyLmpzXCJcclxuXHJcbmltcG9ydCBSZXNvdXJjZSBmcm9tIFwiLi4vZGF0YS9yZXNvdXJjZVwiXHJcbmltcG9ydCBEb2NrIGZyb20gXCIuLi9kYXRhL2RvY2tcIlxyXG5pbXBvcnQgUm91dGUgZnJvbSBcIi4uL2RhdGEvcm91dGVcIlxyXG5pbXBvcnQgU2hpcCBmcm9tIFwiLi4vZGF0YS9zaGlwXCJcclxuaW1wb3J0IEJ1aWxkTGlzdCBmcm9tIFwiLi4vZGF0YS9idWlsZFNldFwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZURhdGFze1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZSA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuY3VyUmVzb3VyY2UgPSBuZXcgUmVzb3VyY2UoKTtcclxuICAgICAgICB0aGlzLmRvY2sgPSBuZXcgRG9jaygwKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbGxSb3V0ZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZSA9IDA7XHJcbiAgICAgICAgdGhpcy51bmxvY2tDb3VudCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuY2FnU2hpcHMgPSB7fTsgICAgIC8v5pyN5Yqh5Zmo6K6w5b2V55qE6Ii55pWw5o2u77yMSUTmoLnmja7ojrflvpflhYjlkI7noa7lrppcclxuICAgICAgICB0aGlzLnBhY2tTaGlwcyA9IFtdOyAgICAvL+S7k+W6k+S4reeahOiIuVxyXG5cclxuICAgICAgICB0aGlzLmJ1aWxkTGlzdCA9IHt9O1xyXG4gICAgICAgIHRoaXMuYnVpbGRDYXAgPSAyO1xyXG4gICAgICAgIHRoaXMuYnVpbGRMZXZlbCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmVFdmVudE1hcCA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmxldmVsQWxsID0ge1xyXG4gICAgICAgICAgICBkb2NrOjEsXHJcbiAgICAgICAgICAgIHJlcGFpcjoxLFxyXG4gICAgICAgICAgICBidWlsZDoxLFxyXG4gICAgICAgICAgICBjb21tYW5kOjFcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnJlcGFpck5lZWQgPSBbXHJcbiAgICAgICAgICAgIFtdXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5idWlsZE5lZWQgPSBbXHJcbiAgICAgICAgICAgIFtdXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxmTmVlZCA9IFtcclxuICAgICAgICAgICAgW11cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmJ1aWxkTHZsID0gW1xyXG4gICAgICAgICAgICBbXVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuZGVidWcoKTtcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCl7XHJcbiAgICAgICAgdGhpcy5pbml0QWxsU2hpcENhcnJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGVidWcoKXtcclxuICAgICAgICB2YXIgcm91dGVUZXN0ID0gbmV3IFJvdXRlKDAsMCk7XHJcbiAgICAgICAgdmFyIHJvdXRlVGVzdExldiA9IG5ldyBSb3V0ZSgxLDApO1xyXG4gICAgICAgIHZhciByb3V0ZVRlc3RMYXMgPSBuZXcgUm91dGUoMiwwKTtcclxuXHJcbiAgICAgICAgdGhpcy51bmxvY2tDb3VudCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuYWxsUm91dGVzLnB1c2gocm91dGVUZXN0KTtcclxuICAgICAgICB0aGlzLmFsbFJvdXRlcy5wdXNoKHJvdXRlVGVzdExldik7XHJcbiAgICAgICAgdGhpcy5hbGxSb3V0ZXMucHVzaChyb3V0ZVRlc3RMYXMpO1xyXG5cclxuICAgICAgICB0aGlzLmNhZ1NoaXBzWzBdID0ge1xyXG4gICAgICAgICAgICBzaGlwSUQ6MCxcclxuICAgICAgICAgICAgbGV2ZWw6MCxcclxuICAgICAgICAgICAgZG9ja2lkOjAsXHJcbiAgICAgICAgICAgIHJpZDotMSxcclxuICAgICAgICAgICAgcGFja0lEOjBcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuY2FnU2hpcHNbMV0gPSB7XHJcbiAgICAgICAgICAgIHNoaXBJRDoxLFxyXG4gICAgICAgICAgICBsZXZlbDowLFxyXG4gICAgICAgICAgICBkb2NraWQ6MSxcclxuICAgICAgICAgICAgcmlkOi0xLFxyXG4gICAgICAgICAgICBwYWNrSUQ6MFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jYWdTaGlwc1syXSA9IHtcclxuICAgICAgICAgICAgc2hpcElEOjAsXHJcbiAgICAgICAgICAgIGxldmVsOjAsXHJcbiAgICAgICAgICAgIGRvY2tpZDotMSxcclxuICAgICAgICAgICAgcmlkOi0xLFxyXG4gICAgICAgICAgICBwYWNrSUQ6MFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jYWdTaGlwc1szXSA9IHtcclxuICAgICAgICAgICAgc2hpcElEOjEsXHJcbiAgICAgICAgICAgIGxldmVsOjAsXHJcbiAgICAgICAgICAgIGRvY2tpZDotMSxcclxuICAgICAgICAgICAgcmlkOi0xLFxyXG4gICAgICAgICAgICBwYWNrSUQ6MVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jYWdTaGlwc1s0XSA9IHtcclxuICAgICAgICAgICAgc2hpcElEOjEsXHJcbiAgICAgICAgICAgIGxldmVsOjAsXHJcbiAgICAgICAgICAgIGRvY2tpZDotMSxcclxuICAgICAgICAgICAgcmlkOi0xLFxyXG4gICAgICAgICAgICBwYWNrSUQ6MlxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jYWdTaGlwcy5jb3VudCA9IDU7XHJcblxyXG4gICAgICAgIHRoaXMuZG9jay5kb2NrU2V0WzBdID0gbmV3IFNoaXAoMCwwKTtcclxuICAgICAgICB0aGlzLmRvY2suZG9ja1NldFsxXSA9IG5ldyBTaGlwKDEsMSk7XHJcblxyXG4gICAgICAgIHRoaXMucGFja1NoaXBzLnB1c2gobmV3IFNoaXAoMCwyKSk7XHJcbiAgICAgICAgdGhpcy5wYWNrU2hpcHMucHVzaChuZXcgU2hpcCgxLDMpKTtcclxuICAgICAgICB0aGlzLnBhY2tTaGlwcy5wdXNoKG5ldyBTaGlwKDEsNCkpO1xyXG5cclxuICAgICAgICB0aGlzLmJ1aWxkTGV2ZWwgPSAzO1xyXG4gICAgfVxyXG5cclxuICAgIEdldFJlcGFpckZpeCgpe1xyXG4gICAgICAgIHJldHVybiAxIC8gTWF0aC5zcXJ0KHRoaXMubGV2ZWxBbGwucmVwYWlyKTtcclxuICAgIH1cclxuXHJcbiAgICBMZXZlbERvY2tVUCgpe1xyXG4gICAgICAgIHRoaXMubGV2ZWxBbGwuZG9jaysrO1xyXG4gICAgICAgIHRoaXMuZG9jay5MZXZlbFVQKCk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlclNjZW5lRXZlbnQoXCJkb2NrOmx2bHVwXCIpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclNjZW5lRXZlbnQoXCJkb2NrOmZ1bGxcIik7XHJcbiAgICB9XHJcblxyXG4gICAgTGV2ZWxQYWNrVVAoKXtcclxuICAgICAgICB0aGlzLmxldmVsQWxsLnJlcGFpcisrO1xyXG4gICAgfVxyXG5cclxuICAgIExldmVsQnVpbGRVUCgpe1xyXG4gICAgICAgIHRoaXMubGV2ZWxBbGwuYnVpbGQrKztcclxuICAgICAgICB0aGlzLmJ1aWxkQ2FwKys7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyU2NlbmVFdmVudChcImJ1aWxkOmx2bHVwXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIExldmVsU2VsZlVQKCl7XHJcbiAgICAgICAgdGhpcy5sZXZlbEFsbC5jb21tYW5kKys7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUmVzQ2hhbmdlQ2FsbEJhY2soX2Z1bmMsa2V5KXtcclxuICAgICAgICB0aGlzLmN1clJlc291cmNlLmFkZENoYW5nZUNhbGxCYWNrKF9mdW5jLGtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Um91dGVVbmxvY2tDb3VudCgpe1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbih0aGlzLmFsbFJvdXRlcy5sZW5ndGgsdGhpcy51bmxvY2tDb3VudCArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIEdldEFsbFJvdXRlcigpe1xyXG4gICAgICAgIHZhciByb3V0VGV4dCA9IFwiXCI7XHJcblxyXG4gICAgICAgIHZhciB3YXRjaFJvdXRlID0gdGhpcy5hbGxSb3V0ZXMuc2xpY2UoMCx0aGlzLnVubG9ja0NvdW50ICsgMSk7XHJcbiAgICAgICAgZm9yKHZhciByb3V0ZSBvZiB3YXRjaFJvdXRlKVxyXG4gICAgICAgICAgICByb3V0VGV4dCArPSBgJHtyb3V0ZS5jdXJEYXRhLm5hbWV9LGA7XHJcbiAgICAgICAgcmV0dXJuIHJvdXRUZXh0LnNsaWNlKDAsLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1cnJlbnRSb3V0ZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFsbFJvdXRlc1t0aGlzLmN1cnJlbnRSb3V0ZV07XHJcbiAgICB9XHJcblxyXG4gICAgdXBTaGlwVG9DdXJyZW50Um91dGUocG9zSW5kZXgpe1xyXG4gICAgICAgIGlmKHRoaXMuY3VycmVudFJvdXRlID49IHRoaXMudW5sb2NrQ291bnQpcmV0dXJuO1xyXG4gICAgICAgIHZhciBfc2hpcFNldCA9IHRoaXMuZG9jay5kb2NrU2V0W3Bvc0luZGV4XTtcclxuICAgICAgICBpZihfc2hpcFNldC5jcmFzaCB8fCBfc2hpcFNldC5yb3V0ZU9uICE9IG51bGwpcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgcm91dGUgPSB0aGlzLmFsbFJvdXRlc1t0aGlzLmN1cnJlbnRSb3V0ZV07XHJcblxyXG4gICAgICAgIGlmKHJvdXRlLnNoaXBGdWxsKCkpcmV0dXJuO1xyXG5cclxuICAgICAgICByb3V0ZS5wbGFjZVNoaXAoX3NoaXBTZXQpO1xyXG4gICAgICAgIHRoaXMuZG9jay5vdXRTaGlwKHBvc0luZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBvblNjZW5lRXZlbnQoa2V5LF9mdW5jKXtcclxuICAgICAgICB0aGlzLnNjZW5lRXZlbnRNYXBba2V5XSA9IF9mdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIHRyaWdnZXJTY2VuZUV2ZW50KCl7XHJcbiAgICAgICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IodmFyIGk9MDtpPGxlbjtpKyspXHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xyXG5cclxuICAgICAgICB2YXIga2V5ID0gYXJnc1swXTtcclxuICAgICAgICBhcmdzLnNwbGljZSgwLDEpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnNjZW5lRXZlbnRNYXBba2V5XSl7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVFdmVudE1hcFtrZXldLmFwcGx5KHRoaXMsYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNoYW5nZVNoaXBQb3MocGluZGV4MSxwaW5kZXgyKXtcclxuICAgICAgICBpZihwaW5kZXgxID09IHBpbmRleDIpcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB2YXIgc2hpcDEgPSB0aGlzLmRvY2suZG9ja1NldFtwaW5kZXgxXTtcclxuICAgICAgICB2YXIgc2hpcDIgPSB0aGlzLmRvY2suZG9ja1NldFtwaW5kZXgyXTtcclxuXHJcbiAgICAgICAgaWYoc2hpcDIgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGlmKHNoaXAxID09IG51bGwgfHwgIXNoaXAxLmlzSWRsZSgpIHx8IHNoaXAxLnJlcGFpcilyZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuZG9jay5kb2NrU2V0W3BpbmRleDFdID0gbnVsbDtcclxuICAgICAgICAgICAgdGhpcy5kb2NrLmRvY2tTZXRbcGluZGV4Ml0gPSBzaGlwMTtcclxuICAgICAgICAgICAgc2hpcDEuZG9ja2lkID0gcGluZGV4MjtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfWVsc2UgaWYoc2hpcDEuaXNJZGxlKCkgJiYgc2hpcDIuaXNJZGxlKCkgJiYgIXNoaXAxLnJlcGFpciAmJiAhc2hpcDIucmVwYWlyKXtcclxuICAgICAgICAgICAgdGhpcy5kb2NrLmRvY2tTZXRbcGluZGV4MV0gPSBzaGlwMjtcclxuICAgICAgICAgICAgdGhpcy5kb2NrLmRvY2tTZXRbcGluZGV4Ml0gPSBzaGlwMTtcclxuICAgICAgICAgICAgc2hpcDEuZG9ja2lkID0gcGluZGV4MjtcclxuICAgICAgICAgICAgc2hpcDIuZG9ja2lkID0gcGluZGV4MTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYmFja1NoaXAocG9zSW5kZXgpe1xyXG4gICAgICAgIHZhciBzaGlwID0gdGhpcy5kb2NrLkdldFNoaXBTZXQocG9zSW5kZXgpO1xyXG4gICAgICAgIHNoaXAuc2VuZEJhY2soKTtcclxuICAgIH1cclxuXHJcbiAgICBkcm9wU2hpcChwb3NJbmRleCl7XHJcbiAgICAgICAgdmFyIHNoaXAgPSB0aGlzLmRvY2suR2V0U2hpcFNldChwb3NJbmRleCk7XHJcbiAgICAgICAgc2hpcC5zZXRJZGxlKCk7XHJcbiAgICAgICAgdGhpcy5kb2NrLmRyb3BTaGlwKHBvc0luZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDYWdTaGlwKGNpZCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FnU2hpcHNbY2lkXTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0QWxsU2hpcENhcnJ5KCl7XHJcbiAgICAgICAgdmFyIGRvY2tTZXQgPSB0aGlzLmRvY2suZG9ja1NldDtcclxuICAgICAgICBmb3IodmFyIGluZGV4IGluIGRvY2tTZXQpe1xyXG4gICAgICAgICAgICBpZihkb2NrU2V0Lmhhc093blByb3BlcnR5KGluZGV4KSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2hpcCA9IGRvY2tTZXRbaW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgc2hpcC5zZXRTdGF0ZVRyaWdnZXIoMSx0aGlzLChwc3RhdGUsc2hpcFNldCk9PntcclxuICAgICAgICAgICAgICAgICAgICBpZihwc3RhdGUgIT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuR2V0UGFja1Jlc291cmNlKHNoaXBTZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdldFBhY2tSZXNvdXJjZShfc2hpcFNldCl7XHJcbiAgICAgICAgdmFyIHJvdXRlID0gX3NoaXBTZXQucm91dGVPbjtcclxuICAgICAgICBpZihyb3V0ZSA9PSBudWxsKXJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIHJlc0dhaW4gPSBuZXcgUmVzb3VyY2UoKTtcclxuICAgICAgICByZXNHYWluLnJhbmRvbVJlc291Y2Uocm91dGUuY3VyRGF0YS5yZXNvdXJjZSxfc2hpcFNldC5jdXJEYXRhLm1heGNhcCk7XHJcblxyXG4gICAgICAgIHRoaXMuY3VyUmVzb3VyY2UucmVzb3VyY2VDaGFuZ2UocmVzR2Fpbi5idWlsZE9iaigpKTtcclxuICAgIH1cclxuXHJcbiAgICBzaG93U2hpcEluZm8ocGluZGV4KXtcclxuICAgICAgICB2YXIgc2hpcCA9IHRoaXMuZG9jay5kb2NrU2V0W3BpbmRleF07XHJcbiAgICAgICAgaWYoIXNoaXApcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXJTY2VuZUV2ZW50KFwic2NlbmU6aW5mb1wiLHNoaXApO1xyXG4gICAgICAgIHRoaXMuaW5mb1NoaXAgPSBzaGlwO1xyXG4gICAgfVxyXG5cclxuICAgIGNsb3NlSW5mbygpe1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclNjZW5lRXZlbnQoXCJzY2VuZTppbmZvY2xvc2VcIik7XHJcbiAgICAgICAgdGhpcy5pbmZvU2hpcCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbHZsSW5mb1NoaXAoKXtcclxuICAgICAgICBpZih0aGlzLmluZm9TaGlwID09IG51bGwpcmV0dXJuO1xyXG4gICAgICAgIC8qQ29zdCovXHJcbiAgICAgICAgdmFyIGNhZ0lEID0gdGhpcy5pbmZvU2hpcC5DYWdJRDtcclxuXHJcbiAgICAgICAgdGhpcy5jYWdTaGlwc1tjYWdJRF0ubGV2ZWwrKztcclxuICAgICAgICB0aGlzLmluZm9TaGlwLlNldFNoaXBDYWdJRChjYWdJRClcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyU2NlbmVFdmVudChcInNoaXA6bHZsdXBcIix0aGlzLmluZm9TaGlwKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VSb3V0ZVNob3cocmluZGV4KXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRSb3V0ZSA9IHJpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSb3V0ZUJ5SW5kZXgocmluZGV4KXtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbGxSb3V0ZXNbcmluZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBVbmxvY2tSb3V0ZSgpe1xyXG4gICAgICAgIGlmKHRoaXMudW5sb2NrQ291bnQgPCB0aGlzLmFsbFJvdXRlcy5sZW5ndGggLSAxKXtcclxuICAgICAgICAgICAgdGhpcy51bmxvY2tDb3VudCArKztcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyU2NlbmVFdmVudChcInJvdXRlOnVubG9ja1wiLHRoaXMudW5sb2NrQ291bnQpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnVubG9ja0NvdW50ICsrO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJTY2VuZUV2ZW50KFwicm91dGU6dW5sb2NrXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXBhaXJTaGlwKHBpbmRleCl7XHJcbiAgICAgICAgdmFyIHNoaXAgPSB0aGlzLmRvY2suZG9ja1NldFtwaW5kZXhdO1xyXG4gICAgICAgIGlmKCFzaGlwIHx8ICFzaGlwLmNyYXNoKXJldHVybjtcclxuXHJcbiAgICAgICAgc2hpcC5TdGFydFJlcGFpcigpO1xyXG4gICAgfVxyXG5cclxuICAgIFBhY2tBdXRvSW4oc2hpcFNldCl7XHJcbiAgICAgICAgdGhpcy5wYWNrU2hpcHMucHVzaChzaGlwU2V0KTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hBbGxQYWNrSUQoc2hpcFNldCk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyU2NlbmVFdmVudChcInBhY2s6Y29sbGVjdFwiLHNoaXBTZXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlY29sbGVjdFNoaXAocGluZGV4KXtcclxuICAgICAgICB2YXIgc2hpcCA9IHRoaXMuZG9jay5kb2NrU2V0W3BpbmRleF07XHJcbiAgICAgICAgaWYoIXNoaXAgfHwgc2hpcC5jcmFzaClyZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuUGFja0F1dG9JbihzaGlwKTtcclxuICAgICAgICB0aGlzLmRvY2suZG9ja1NldFtwaW5kZXhdID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyU2NlbmVFdmVudChcImRvY2s6cGFja1wiLHBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgVHJpZ2dlckJ1aWxkT0soKXtcclxuICAgICAgICB0aGlzLnRyaWdnZXJTY2VuZUV2ZW50KFwiYnVpbGQ6dHJpZ2dlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoQWxsUGFja0lEKHNoaXBTZXQpe1xyXG4gICAgICAgIGlmKHNoaXBTZXQpe1xyXG4gICAgICAgICAgICBzaGlwU2V0LnBhY2tJRCA9IHRoaXMucGFja1NoaXBzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGZvcih2YXIgaW5kZXggPSAwO2luZGV4IDwgdGhpcy5wYWNrU2hpcHMubGVuZ3RoO2luZGV4Kyspe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWNrU2hpcHNbaW5kZXhdLnBhY2tJRCA9IGluZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIERvY2tBdXRvSW4oc2hpcFNldCl7XHJcbiAgICAgICAgdmFyIGRvY2tDYXAgPSB0aGlzLmRvY2suR2V0U2hpcENhcCgpO1xyXG4gICAgICAgIGZvcih2YXIgaW5kZXggPSAwO2luZGV4IDwgZG9ja0NhcDtpbmRleCsrKXtcclxuICAgICAgICAgICAgdmFyIGRvY2tQb3MgPSB0aGlzLmRvY2suZG9ja1NldFtpbmRleF07XHJcbiAgICAgICAgICAgIGlmKGRvY2tQb3MgPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRvY2suZG9ja1NldFtpbmRleF0gPSBzaGlwU2V0O1xyXG4gICAgICAgICAgICAgICAgc2hpcFNldC5kb2NraWQgPSBpbmRleDtcclxuICAgICAgICAgICAgICAgIHNoaXBTZXQuc2V0SWRsZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyU2NlbmVFdmVudChcImRvY2s6aW5zZXJ0XCIsc2hpcFNldCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBTZW5kU2hpcFRvRG9jayhzaGlwU2V0KXtcclxuICAgICAgICBpZihzaGlwU2V0LnBhY2tJRD49MClcclxuICAgICAgICAgICAgdGhpcy5wYWNrU2hpcHMuc3BsaWNlKHNoaXBTZXQucGFja0lELDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuRG9ja0F1dG9JbihzaGlwU2V0KTtcclxuXHJcbiAgICAgICAgc2hpcFNldC5wYWNrSUQgPSAtMTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hBbGxQYWNrSUQoKTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5DaGVja0RvY2tGdWxsKCkpe1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJTY2VuZUV2ZW50KFwiZG9jazpmdWxsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBDaGVja0RvY2tGdWxsKCl7XHJcbiAgICAgICAgdmFyIGRvY2tDYXAgPSB0aGlzLmRvY2suR2V0U2hpcENhcCgpO1xyXG4gICAgICAgIHZhciBjb3VudCA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBpbmRleCA9IDA7aW5kZXggPCBkb2NrQ2FwO2luZGV4Kyspe1xyXG4gICAgICAgICAgICB2YXIgZG9ja1BvcyA9IHRoaXMuZG9jay5kb2NrU2V0W2luZGV4XTtcclxuICAgICAgICAgICAgaWYoZG9ja1BvcyAhPSBudWxsKWNvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb3VudCA9PSBkb2NrQ2FwO1xyXG4gICAgfVxyXG5cclxuICAgIFN0YXJ0QnVpbGQoX2xldil7XHJcbiAgICAgICAgdmFyIGJ1aWxkID0gbmV3IEJ1aWxkTGlzdChfbGV2KTtcclxuICAgICAgICByZXR1cm4gYnVpbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2FpblNoaXAoYnVpbGRMaXN0KXtcclxuICAgICAgICB2YXIgU2hpcFNldCA9IGJ1aWxkTGlzdC5nZXRCdWlsZFJlc3VsdCgpO1xyXG4gICAgICAgIHRoaXMuY2FnU2hpcHNbdGhpcy5jYWdTaGlwcy5jb3VudF09KHtcclxuICAgICAgICAgICAgc2hpcElEOlNoaXBTZXQuc2hpcElELFxyXG4gICAgICAgICAgICBsZXZlbDowLFxyXG4gICAgICAgICAgICBkb2NraWQ6LTEsXHJcbiAgICAgICAgICAgIHJpZDotMSxcclxuICAgICAgICAgICAgcGFja0lEOi0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGNhZ0lEID0gdGhpcy5jYWdTaGlwcy5jb3VudDtcclxuICAgICAgICBTaGlwU2V0LlNldFNoaXBDYWdJRChjYWdJRCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FnU2hpcHMuY291bnQrKztcclxuICAgICAgICByZXR1cm4gU2hpcFNldDtcclxuICAgIH1cclxuXHJcbiAgICBzaG93UmVzQWx0KGtleSxjX2RhdGEscG9zLF9mdW5jKXtcclxuICAgICAgICB2YXIgcmVzTmVlZDtcclxuICAgICAgICBpZihrZXk9PVwic2hpcFwiKXtcclxuICAgICAgICAgICAgdmFyIHNoaXBTZXQgPSBjX2RhdGEub2JqO1xyXG4gICAgICAgICAgICByZXNOZWVkID0gbmV3IFJlc291cmNlKHNoaXBTZXQuY3VyRGF0YS5sZXZlbCk7XHJcbiAgICAgICAgfWVsc2UgaWYoa2V5PT1cInJvdXRlXCIpe1xyXG4gICAgICAgICAgICB2YXIgcm91dGUgPSBjX2RhdGEub2JqO1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gY19kYXRhLmhhbmRsZTsvL1wiVW5sb2NrLExldmVsVXBcIlxyXG4gICAgICAgICAgICBpZihoYW5kbGUgPT0gXCJVbmxvY2tcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmVzTmVlZCA9IG5ldyBSZXNvdXJjZShyb3V0ZS5jdXJEYXRhLnVubG9jayk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGhhbmRsZSA9PSBcIkxldmVsVXBcIil7XHJcbiAgICAgICAgICAgICAgICByZXNOZWVkID0gbmV3IFJlc291cmNlKHJvdXRlLmN1ckRhdGEubGV2ZWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYoa2V5PT1cImJ1aWxkXCIpe1xyXG4gICAgICAgICAgICB2YXIgcmFuayA9IGNfZGF0YS5yYW5rO1xyXG4gICAgICAgICAgICB2YXIgaGFuZGxlID0gY19kYXRhLmhhbmRsZTsvL1wiQnVpbGQsTGV2ZWxVcFwiXHJcbiAgICAgICAgICAgIGlmKGhhbmRsZSA9PSBcIkJ1aWxkXCIpe1xyXG4gICAgICAgICAgICAgICAgcmVzTmVlZCA9IG5ldyBSZXNvdXJjZSh0aGlzLmJ1aWxkTmVlZFtyYW5rXSk7XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGhhbmRsZSA9PSBcIkxldmVsVXBcIil7XHJcbiAgICAgICAgICAgICAgICByZXNOZWVkID0gbmV3IFJlc291cmNlKHRoaXMuYnVpbGRMdmxbcmFua10pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2UgaWYoa2V5PT1cImRvY2tcIil7XHJcbiAgICAgICAgICAgIHJlc05lZWQgPSBuZXcgUmVzb3VyY2UodGhpcy5kb2NrLmxldmVsVXApO1xyXG4gICAgICAgIH1lbHNlIGlmKGtleT09XCJyZXBhaXJcIil7XHJcbiAgICAgICAgICAgIHZhciByYW5rID0gY19kYXRhLnJhbms7XHJcbiAgICAgICAgICAgIHJlc05lZWQgPSBuZXcgUmVzb3VyY2UodGhpcy5yZXBhaXJOZWVkW3JhbmtdKTtcclxuICAgICAgICB9ZWxzZSBpZihrZXk9PVwic2VsZlwiKXtcclxuICAgICAgICAgICAgdmFyIHJhbmsgPSBjX2RhdGEucmFuaztcclxuICAgICAgICAgICAgcmVzTmVlZCA9IG5ldyBSZXNvdXJjZSh0aGlzLnNlbGZOZWVkW3JhbmtdKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBvayA9IHRoaXMuY3VyUmVzb3VyY2UuY2hlY2tSZXNvdXJjZShyZXNOZWVkKTtcclxuXHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnRyaWdnZXJTY2VuZUV2ZW50KFwicmVzOmFsdFwiLHBvcyxyZXNOZWVkLG9rLCgpPT57XHJcbiAgICAgICAgICAgIF90aGlzLmN1clJlc291cmNlLmNvc3RSZXMocmVzTmVlZCk7XHJcbiAgICAgICAgICAgIF9mdW5jKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNoaXBDb250YWluZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvU2hpcENvbnRhaW5lclwiXHJcbmltcG9ydCBHYW1lRGF0YXMgZnJvbSBcIi4uL21hbmFnZXIvR2FtZURhdGFzXCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSb3V0ZUxheSBleHRlbmRzIExheWEuUGFuZWx7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucm91dGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSB0aGlzLmNvbnRlbnQuZ2V0Q2hpbGRCeU5hbWUoXCJTaGlwc1BhbmVsXCIpO1xyXG4gICAgICAgIHRoaXMuc2hpcENvbnRlbnQgPSB0aGlzLmNvbnRhaW5lci5nZXRDb21wb25lbnQoU2hpcENvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5Sb3V0ZUJHID0gdGhpcy5jb250ZW50LmdldENoaWxkQnlOYW1lKFwiUm91dGVCR1wiKTtcclxuICAgICAgICB0aGlzLmxldmVsQnV0ID0gdGhpcy5jb250ZW50LmdldENoaWxkQnlOYW1lKFwibGV2ZWxCdXRcIik7XHJcbiAgICAgICAgdGhpcy5Sb3V0ZUNvdmVyID0gdGhpcy5jb250ZW50LmdldENoaWxkQnlOYW1lKFwiY292ZXJcIik7XHJcblxyXG4gICAgICAgIHRoaXMudW5sb2NrQnV0ID0gdGhpcy5Sb3V0ZUNvdmVyLmdldENoaWxkQnlOYW1lKFwidW5sb2NrQnV0XCIpO1xyXG4gICAgICAgIHRoaXMuc2hpcENvdW50ID0gdGhpcy5jb250ZW50LmdldENoaWxkQnlOYW1lKFwic2hpcENvdW50XCIpO1xyXG5cclxuICAgICAgICBpZih0aGlzLnJvdXRlICE9IG51bGwpe1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTaGlwcygpO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hSb3V0ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnVubG9ja0J1dC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2Uuc2hvd1Jlc0FsdChcInJvdXRlXCIse1xyXG4gICAgICAgICAgICAgICAgb2JqOnRoaXMucm91dGUsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGU6XCJVbmxvY2tcIlxyXG4gICAgICAgICAgICB9LHt4OmV2ZW50LnN0YWdlWCx5OmV2ZW50LnN0YWdlWX0sKCk9PntcclxuICAgICAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5VbmxvY2tSb3V0ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sZXZlbEJ1dC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2Uuc2hvd1Jlc0FsdChcInJvdXRlXCIse1xyXG4gICAgICAgICAgICAgICAgb2JqOnRoaXMucm91dGUsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGU6XCJMZXZlbFVwXCJcclxuICAgICAgICAgICAgfSx7eDpldmVudC5zdGFnZVgseTpldmVudC5zdGFnZVl9LCgpPT57XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yb3V0ZS5sZXZlbFVQKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoUm91dGUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Um91dGUoX3JvdXRlKXtcclxuICAgICAgICB0aGlzLnJvdXRlID0gX3JvdXRlO1xyXG5cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucm91dGUuc2V0UGxhY2VDYWxsQmFjaygoc2hpcCxsb3NlU2hpcCk9PntcclxuICAgICAgICAgICBpZihzaGlwICE9IG51bGwpe1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuR2FpblNoaXAoc2hpcCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoaXBDb3VudC50ZXh0ID0gYCR7dGhpcy5yb3V0ZS5zaGlwQ291bnQoKX0vJHt0aGlzLnJvdXRlLmN1ckRhdGEubWF4U2hpcH1gO1xyXG4gICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuTG9zZVNoaXAobG9zZVNoaXApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaGlwQ291bnQudGV4dCA9IGAke3RoaXMucm91dGUuc2hpcENvdW50KCl9LyR7dGhpcy5yb3V0ZS5jdXJEYXRhLm1heFNoaXB9YDtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc2hvd2luZyl7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFNoaXBzKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFJvdXRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoU2hpcHMoKXtcclxuICAgICAgICB0aGlzLmNyZWF0ZUFsbFNoaXBzKCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVTaGlwKC0xKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoUm91dGUoKXtcclxuICAgICAgICB0aGlzLlJvdXRlQkcuc2tpbiA9IHRoaXMucm91dGUuY3VyRGF0YS5iYWNrUGF0aDtcclxuICAgICAgICB0aGlzLlJvdXRlQ292ZXIudmlzaWJsZSA9IHRoaXMucm91dGVJbmRleCA+PSBHYW1lRGF0YXMuaW5zdGFuY2UudW5sb2NrQ291bnQ7ICAgICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5sZXZlbEJ1dC52aXNpYmxlID0gIXRoaXMucm91dGUuaXNNYXhMZXZlbCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNoaXBDb3VudC50ZXh0ID0gYCR7dGhpcy5yb3V0ZS5zaGlwQ291bnQoKX0vJHt0aGlzLnJvdXRlLmN1ckRhdGEubWF4U2hpcH1gO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUFsbFNoaXBzKCl7XHJcbiAgICAgICAgdGhpcy5zaGlwQ29udGVudC5zZXRBbGxTaGlwKHRoaXMucm91dGUuc2hpcE9uKTtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2hpcENvbnRlbnQuZWFjaENvbmZpZygob2JqKT0+e1xyXG4gICAgICAgICAgICBfdGhpcy5wbGFjZUluaXRDb25maWcob2JqKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlSW5pdENvbmZpZyhvYmope1xyXG4gICAgICAgIG9iai5tb3ZlU2V0LmNvbmZpZ0FsbERhdGEoe1xyXG4gICAgICAgICAgICBsaW5lTGVuZ3RoOnRoaXMucm91dGUuZ2V0RGlzdGFuY2UoKSxcclxuICAgICAgICAgICAgc2FmZUZpeDp0aGlzLnJvdXRlLmN1ckRhdGEuc2FmZUZpeFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVNoaXAoZml4SUQpe1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGZ1bmMgPSAob2JqKT0+e1xyXG4gICAgICAgICAgICBpZihvYmouc2hpcHNldC5nZXRJY29uUGF0aCgpKVxyXG4gICAgICAgICAgICAgICAgb2JqLm1vdmVTZXQuc3RhcnRNb3ZlKCk7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIG9iai5tb3ZlU2V0LnNldEJsYW5rKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBvYmoubW92ZVNldC5jb25maWdBbGxEYXRhKHtcclxuICAgICAgICAgICAgICAgIG1vdmVTcGVlZDpvYmouc2hpcHNldC5nZXREYXRhKFwiYmFzZVNwZWVkXCIpLFxyXG4gICAgICAgICAgICAgICAgcGFja3RpbWU6b2JqLnNoaXBzZXQuZ2V0RGF0YShcImJhc2VMb2FkXCIpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZihmaXhJRCA8IDApe1xyXG4gICAgICAgICAgICB0aGlzLnNoaXBDb250ZW50LmVhY2hDb25maWcoZnVuYyk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMuc2hpcENvbnRlbnQuZml4SURDb25maWcoZml4SUQsZnVuYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEdhaW5TaGlwKHNoaXApe1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5zaGlwQ29udGVudC5hZGRTaGlwKHNoaXApO1xyXG4gICAgICAgIHRoaXMuc2hpcENvbnRlbnQuZml4SURDb25maWcoc2hpcC5yb3V0ZUluZGV4LChvYmopPT57XHJcbiAgICAgICAgICAgIF90aGlzLnBsYWNlSW5pdENvbmZpZyhvYmopO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy51cGRhdGVTaGlwKHNoaXAucm91dGVJbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgTG9zZVNoaXAoc2hpcCl7XHJcbiAgICAgICAgdGhpcy5zaGlwQ29udGVudC5sb3NlU2hpcChzaGlwKTtcclxuICAgIH1cclxufSIsImltcG9ydCBsb2FkTWFwIGZyb20gXCIuLi9saWJzL25hbWVNYXBcIlxyXG5pbXBvcnQgQnV0dG9uRmxvYXQgZnJvbSBcIi4uL2NvbXBvbmVudHMvYnV0dG9uRmxvYXRcIlxyXG5pbXBvcnQgR2FtZURhdGFzIGZyb20gXCIuLi9tYW5hZ2VyL0dhbWVEYXRhc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCdWlsZFRyaXAgZXh0ZW5kcyBMYXlhLlNwcml0ZXtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmF0dGFjaEJ1aWxkID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRyaXBJRCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICBsb2FkTWFwKHRoaXMsdGhpcyxbXCJtYWluTGF5VXBcIixcImJ1aWxkaW5nTm9kZVwiLFwiY29tQnV0XCIsXCJTaGlwSWNvblwiLFwicGFja0J1dFwiLFwiZG9ja0J1dFwiXSk7XHJcbiAgICAgICAgbG9hZE1hcCh0aGlzLHRoaXMubWFpbkxheVVwLFtcIkJ1aWxkQ292XCJdKTtcclxuICAgICAgICBsb2FkTWFwKHRoaXMsdGhpcy5idWlsZGluZ05vZGUsW1widGltZUxlZnRcIl0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hCdWlsZFRyaXAoKTtcclxuICAgICAgICB0aGlzLnNob3dpbmcgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLnJlc1NoaXAgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmFsbGJ1dHRzID0gW107XHJcbiAgICAgICAgdGhpcy5pbml0QnVpbGRCdXR0b25zKCk7XHJcblxyXG4gICAgICAgIHRoaXMuQnVpbGRDb3Yub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuYWxsQnV0dG9uU3dpdGNoKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29tQnV0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTaG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5yZXNTaGlwID0gR2FtZURhdGFzLmluc3RhbmNlLmdhaW5TaGlwKHRoaXMuYXR0YWNoQnVpbGQpO1xyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdFJlZnJlc2goKTsgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5wYWNrQnV0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRTaGlwVG8oMCk7XHJcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoQnVpbGQgPSBudWxsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmRvY2tCdXQub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZFNoaXBUbygxKTtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2hCdWlsZCA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZnJhbWVMb29wKDI5LHRoaXMsKCk9PntcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQnVpbGRUcmlwKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5yZUVtcHR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFNoaXBUbyhpZCl7XHJcbiAgICAgICAgaWYodGhpcy5yZXNTaGlwICE9IG51bGwpe1xyXG4gICAgICAgICAgICBpZihpZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgR2FtZURhdGFzLmluc3RhbmNlLkRvY2tBdXRvSW4odGhpcy5yZXNTaGlwKTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgR2FtZURhdGFzLmluc3RhbmNlLlBhY2tBdXRvSW4odGhpcy5yZXNTaGlwKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVFbXB0eSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZUVtcHR5KCl7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU2hvdyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVzdWx0UmVmcmVzaCgpO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFjaEJ1aWxkID0gbnVsbDtcclxuICAgICAgICB0aGlzLnJlc1NoaXAgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnRyaWdnZXJFRCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEJ1aWxMaXN0KF9idWlsZExpc3Qpe1xyXG4gICAgICAgIHRoaXMuYXR0YWNoQnVpbGQgPSBfYnVpbGRMaXN0O1xyXG4gICAgICAgIF9idWlsZExpc3QuYnVpbGRQYWQgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZih0aGlzLnNob3dpbmcpXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEJ1aWxkVHJpcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc3VsdFJlZnJlc2goKXtcclxuICAgICAgICB0aGlzLlNoaXBJY29uLnZpc2libGUgPSB0aGlzLnJlZnJlc2hTaG93O1xyXG5cclxuICAgICAgICB0aGlzLnBhY2tCdXQudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZG9ja0J1dC52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmKHRoaXMucmVmcmVzaFNob3cpe1xyXG4gICAgICAgICAgICB0aGlzLlNoaXBJY29uLnNraW4gPSB0aGlzLnJlc1NoaXAuZ2V0SWNvblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5jb21CdXQudmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wYWNrQnV0LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmRvY2tCdXQudmlzaWJsZSA9ICFHYW1lRGF0YXMuaW5zdGFuY2UuQ2hlY2tEb2NrRnVsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0QnVpbGRCdXR0b25zKCl7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgbWF4QnVpbGRMZXYgPSBHYW1lRGF0YXMuaW5zdGFuY2UuYnVpbGRMZXZlbDtcclxuICAgICAgICBmb3IodmFyIGxldiA9IDE7bGV2IDw9IG1heEJ1aWxkTGV2O2xldisrKXtcclxuICAgICAgICAgICAgdmFyIGJ1dHRvbiA9IG5ldyBCdXR0b25GbG9hdChsZXYpO1xyXG4gICAgICAgICAgICBidXR0b24uc2V0Q2xpY2tDYWxsQmFjaygoYmxldixldmVudCk9PntcclxuICAgICAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5zaG93UmVzQWx0KFwiYnVpbGRcIix7XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlOlwiQnVpbGRcIlxyXG4gICAgICAgICAgICAgICAgfSx7eDpldmVudC5zdGFnZVgseTpldmVudC5zdGFnZVl9LCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhcnRCdWlsZChibGV2KTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hbGxCdXR0b25Td2l0Y2goKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYnV0dG9uLnNraW4gPSBcImNvbXAvYnV0dG9uLnBuZ1wiO1xyXG4gICAgICAgICAgICBidXR0b24uek9yZGVyID0gODA7XHJcbiAgICAgICAgICAgIHRoaXMuYWxsYnV0dHMucHVzaChidXR0b24pO1xyXG4gICAgICAgICAgICB0aGlzLm1haW5MYXlVcC5hZGRDaGlsZChidXR0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdGFydEJ1aWxkKGxldmVsKXtcclxuICAgICAgICB0aGlzLnNldEJ1aWxMaXN0KEdhbWVEYXRhcy5pbnN0YW5jZS5TdGFydEJ1aWxkKGxldmVsKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaEJ1aWxkVHJpcCgpe1xyXG4gICAgICAgIHRoaXMuQnVpbGRDb3YudmlzaWJsZSA9IHRoaXMuYXR0YWNoQnVpbGQgPT0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbUJ1dC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICBcclxuICAgICAgICBpZih0aGlzLmF0dGFjaEJ1aWxkICE9IG51bGwpe1xyXG5cclxuICAgICAgICAgICAgaWYoIXRoaXMucmVmcmVzaFNob3cpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbUJ1dC52aXNpYmxlID0gdGhpcy5hdHRhY2hCdWlsZC5jaGVja09LKCk7XHJcblxyXG4gICAgICAgICAgICBpZih0aGlzLmF0dGFjaEJ1aWxkLmNoZWNrT0soKSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVMZWZ0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmKCF0aGlzLnRyaWdnZXJFRCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyRUQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5UcmlnZ2VyQnVpbGRPSygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVMZWZ0LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB2YXIgdGltZUxlZnQgPSBNYXRoLmZsb29yKHRoaXMuYXR0YWNoQnVpbGQuZ2V0VGltZUxlZnQoKSk7XHJcbiAgICAgICAgICAgIHZhciBsZWZ0U2VjID0gdGltZUxlZnQgJSA2MDtcclxuICAgICAgICAgICAgdmFyIGxlZnRNaW4gPSBNYXRoLmZsb29yKHRpbWVMZWZ0IC8gNjApO1xyXG4gICAgICAgICAgICBpZihsZWZ0U2VjIDwgMTApXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVMZWZ0LnRleHQgPSBgJHtsZWZ0TWlufTowJHtsZWZ0U2VjfWA7XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMudGltZUxlZnQudGV4dCA9IGAke2xlZnRNaW59OiR7bGVmdFNlY31gO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVMZWZ0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWxsQnV0dG9uU3dpdGNoKCl7XHJcbiAgICAgICAgZm9yKHZhciBidXR0b24gb2YgdGhpcy5hbGxidXR0cyl7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5zd2l0Y2hTZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgbG9hZE1hcCBmcm9tIFwiLi4vbGlicy9uYW1lTWFwXCJcclxuaW1wb3J0IEdhbWVEYXRhcyBmcm9tIFwiLi4vbWFuYWdlci9HYW1lRGF0YXNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGVza1RyaXAgZXh0ZW5kcyBMYXlhLkltYWdle1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2hpcFNldCA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgbG9hZE1hcCh0aGlzLHRoaXMsW1wic2hpcGljb24xXCIsXCJzaGlwaWNvbjJcIixcInNoaXBpY29uM1wiLFwic2hhZG93MVwiLFwic2hhZG93MlwiLFwic2hhZG93M1wiLFwiYnV0dG9uT3V0MVwiLFwiYnV0dG9uT3V0MlwiLFwiYnV0dG9uT3V0M1wiXSk7XHJcblxyXG4gICAgICAgIHRoaXMuaWNvblNldCA9IFt0aGlzLnNoaXBpY29uMSx0aGlzLnNoaXBpY29uMix0aGlzLnNoaXBpY29uM107XHJcbiAgICAgICAgdGhpcy5zaGFkb3dTZXQgPSBbdGhpcy5zaGFkb3cxLHRoaXMuc2hhZG93Mix0aGlzLnNoYWRvdzNdO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uQWxsID0gW3RoaXMuYnV0dG9uT3V0MSx0aGlzLmJ1dHRvbk91dDIsdGhpcy5idXR0b25PdXQzXTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICBmb3IodmFyIGJ1dCBvZiB0aGlzLmJ1dHRvbkFsbCl7XHJcbiAgICAgICAgICAgIGJ1dC52aXNpYmxlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGJ1dC5pbmRleCA9IGluZGV4Kys7XHJcbiAgICAgICAgICAgIGJ1dC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpbmRleCA9IGV2ZW50LnRhcmdldC5pbmRleDtcclxuICAgICAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5TZW5kU2hpcFRvRG9jayhcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoaXBTZXRbYmluZGV4XVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hTaG93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2hpcChwbGFjZUluZGV4LHNoaXBTZXQpe1xyXG4gICAgICAgIGlmKHBsYWNlSW5kZXggPCAwIHx8IHBsYWNlSW5kZXggPj0gMylyZXR1cm47XHJcbiAgICAgICAgdGhpcy5zaGlwU2V0W3BsYWNlSW5kZXhdID0gc2hpcFNldDtcclxuICAgICAgICBpZih0aGlzLnNob3dpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hTaG93KCl7XHJcbiAgICAgICAgdmFyIGlzRG9ja0Z1bGwgPSBHYW1lRGF0YXMuaW5zdGFuY2UuQ2hlY2tEb2NrRnVsbCgpO1xyXG4gICAgICAgIGZvcih2YXIgaT0wO2k8MztpKyspe1xyXG4gICAgICAgICAgICB2YXIgc2hpcFNldCA9IHRoaXMuc2hpcFNldFtpXTtcclxuXHJcbiAgICAgICAgICAgIGlmKHNoaXBTZXQgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmljb25TZXRbaV0uc2tpbiA9IHNoaXBTZXQuY3VyRGF0YS5pY29uUGF0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hhZG93U2V0W2ldLnNraW4gPSBzaGlwU2V0LmN1ckRhdGEuaWNvblBhdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkFsbFtpXS52aXNpYmxlID0gKCFpc0RvY2tGdWxsKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmljb25TZXRbaV0uc2tpbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNoYWRvd1NldFtpXS5za2luID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uQWxsW2ldLnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lRGF0YXMgZnJvbSBcIi4uL21hbmFnZXIvR2FtZURhdGFzXCJcclxuaW1wb3J0IGxvYWRNYXAgZnJvbSBcIi4uL2xpYnMvbmFtZU1hcFwiXHJcbiAgICBcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9ja1BvcyBleHRlbmRzIExheWEuQm94e1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2hpcFNldCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zaG93aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5idXN5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmNsaWNrQ2FsbEJhY2sgPSAocyk9Pnt9O1xyXG4gICAgICAgIHRoaXMuZHJhZ1BsYWNlQ2FsbEJhY2sgPSAoZSk9Pnt9O1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgbG9hZE1hcCh0aGlzLHRoaXMsW1wiUGFkXCIsXCJQYWRBY3RpdmVcIixcIlBhZElOR1wiLFwiU2hpcEljb25cIixcIlBhZFNoYWRvd1wiLFwiQnVzeUZsYWdcIixcInJlcGFpckJhclwiXSk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdGVUZXh0ID0gdGhpcy5CdXN5RmxhZy5nZXRDaGlsZEJ5TmFtZShcInN0YXRlVGV4dFwiKTtcclxuICAgICAgICB0aGlzLnJlcGFpckxlZnQgPSB0aGlzLnJlcGFpckJhci5nZXRDaGlsZEJ5TmFtZShcInJlcGFpckxlZnRcIik7XHJcblxyXG4gICAgICAgIHZhciBob3ZlckZsYWcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5TaGlwSWNvbi5vbihMYXlhLkV2ZW50Lk1PVVNFX0RPV04sdGhpcywoZSk9Pnt0aGlzLnN0YXJ0RHJhZ1NoaXAoZSk7fSk7XHJcbiAgICAgICAgdGhpcy5TaGlwSWNvbi5vbihMYXlhLkV2ZW50Lk1PVVNFX1VQLHRoaXMsKGUpPT57dGhpcy5lbmREcmFnZWRTaGlwKGUsXCJyZWxlYXNlXCIpO30pO1xyXG4gICAgICAgIHRoaXMuU2hpcEljb24ub24oTGF5YS5FdmVudC5NT1VTRV9PVVQsdGhpcywoZSk9PntcclxuICAgICAgICAgICAgaG92ZXJGbGFnID0gZmFsc2U7XHJcbiAgICAgICAgICAgIExheWEudGltZXIuZnJhbWVPbmNlKDMwLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgICAgIGlmKCFob3ZlckZsYWcpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmVuZERyYWdlZFNoaXAoZSxcImhvdmVyT3V0XCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLlNoaXBJY29uLm9uKExheWEuRXZlbnQuTU9VU0VfT1ZFUix0aGlzLChlKT0+e1xyXG4gICAgICAgICAgICBob3ZlckZsYWcgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICBpZighdGhpcy5kcmFnZ2luZyAmJiB0aGlzLnNoaXBTZXQgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrQ2FsbEJhY2sodGhpcy5zaGlwU2V0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9pclBvcyA9IHtcclxuICAgICAgICAgICAgeDp0aGlzLlNoaXBJY29uLngsXHJcbiAgICAgICAgICAgIHk6dGhpcy5TaGlwSWNvbi55XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hTdGF0ZSgpO1xyXG5cclxuICAgICAgICB0aGlzLmZvcmNlQmFjayA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZmxvYXQucGxheSgpO1xyXG4gICAgICAgIHRoaXMuZnJhbWVMb29wKDI5LHRoaXMsKCk9PntcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXBhaXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoU3RhdGUoKXtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLlBhZC52aXNpYmxlID0gdGhpcy5zaGlwU2V0ID09IG51bGwgJiYgIXRoaXMuYnVzeTtcclxuICAgICAgICB0aGlzLlBhZEFjdGl2ZS52aXNpYmxlID0gdGhpcy5zaGlwU2V0ICE9IG51bGwgJiYgIXRoaXMuYnVzeTtcclxuXHJcbiAgICAgICAgdGhpcy5QYWRJTkcudmlzaWJsZSA9IHRoaXMuYnVzeTtcclxuXHJcbiAgICAgICAgaWYodGhpcy5zaGlwU2V0ICE9IG51bGwgJiYgdGhpcy5zaGlwU2V0LmdldEljb25QYXRoKCkpe1xyXG4gICAgICAgICAgICB0aGlzLlNoaXBJY29uLnNraW4gPSB0aGlzLnNoaXBTZXQuZ2V0SWNvblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5QYWRTaGFkb3cuc2tpbiA9IHRoaXMuc2hpcFNldC5nZXRJY29uUGF0aCgpO1xyXG4gICAgICAgICAgICB0aGlzLlNoaXBJY29uLnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIH1lbHNlXHJcbiAgICAgICAgICAgIHRoaXMuU2hpcEljb24udmlzaWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLlNoaXBJY29uLmdyYXkgPSB0aGlzLmJ1c3k7XHJcblxyXG4gICAgICAgIHRoaXMuUGFkU2hhZG93LnZpc2libGUgPSB0aGlzLlNoaXBJY29uLnZpc2libGUgJiYgKCF0aGlzLmRyYWdnaW5nKSAmJiAoIXRoaXMuYnVzeSk7XHJcblxyXG4gICAgICAgIHRoaXMuQnVzeUZsYWcudmlzaWJsZSA9IHRoaXMuYnVzeTtcclxuICAgICAgICB0aGlzLnJlcGFpckJhci52aXNpYmxlID0gdGhpcy5zaGlwU2V0ICE9IG51bGwgJiYgdGhpcy5zaGlwU2V0LmNyYXNoICYmIHRoaXMuc2hpcFNldC5yZXBhaXI7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlUmVwYWlyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVwYWlyKCl7XHJcbiAgICAgICAgaWYodGhpcy5zaGlwU2V0ID09IG51bGwpcmV0dXJuO1xyXG4gICAgICAgIGlmKCF0aGlzLnNoaXBTZXQucmVwYWlyKXJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5zaGlwU2V0LnJlcGFpclN0YXJ0O1xyXG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgdGltZVBhc3NCeSA9IE1hdGguZmxvb3IoKG5vdyAtIHN0YXJ0KS8gMTAwMCk7XHJcbiAgICAgICAgdmFyIHRpbWVOZWVkID0gTWF0aC5mbG9vcih0aGlzLnNoaXBTZXQuY3VyRGF0YS5yZXBhaXIgKiBHYW1lRGF0YXMuaW5zdGFuY2UuR2V0UmVwYWlyRml4KCkpO1xyXG5cclxuICAgICAgICBpZih0aW1lUGFzc0J5ID49IHRpbWVOZWVkKVxyXG4gICAgICAgICAgICB0aGlzLnNoaXBTZXQucmVwYWlyQ29tcGVsZXRlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHRpbWVMZWZ0ID0gdGltZU5lZWQgLSB0aW1lUGFzc0J5O1xyXG4gICAgICAgIHZhciBsZWZ0U2VjID0gdGltZUxlZnQgJSA2MDtcclxuICAgICAgICB2YXIgbGVmdE1pbiA9IE1hdGguZmxvb3IodGltZUxlZnQgLyA2MCk7XHJcbiAgICAgICAgaWYobGVmdFNlYyA8IDEwKVxyXG4gICAgICAgICAgICB0aGlzLnJlcGFpckxlZnQudGV4dCA9IGAke2xlZnRNaW59OjAke2xlZnRTZWN9YDtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucmVwYWlyTGVmdC50ZXh0ID0gYCR7bGVmdE1pbn06JHtsZWZ0U2VjfWA7XHJcblxyXG4gICAgICAgIHRoaXMucmVwYWlyQmFyLnZhbHVlID0gdGltZVBhc3NCeSAvIHRpbWVOZWVkO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENsaWNrQ2FsbEJhY2soX2Z1bmMpe1xyXG4gICAgICAgIHRoaXMuY2xpY2tDYWxsQmFjayA9IF9mdW5jO1xyXG4gICAgfVxyXG5cclxuICAgIHNldGRyYWdQbGFjZUNhbGxCYWNrKF9mdW5jKXtcclxuICAgICAgICB0aGlzLmRyYWdQbGFjZUNhbGxCYWNrID0gX2Z1bmM7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJTaGlwKCl7XHJcbiAgICAgICAgdGhpcy5wbGFjZVNoaXAoLTEpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEJ1c3koKXtcclxuICAgICAgICB0aGlzLmJ1c3kgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuZmxvYXQuc3RvcCgpO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFN0YXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzdW1lQnVzeSgpe1xyXG4gICAgICAgIHRoaXMuYnVzeSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZm9yY2VCYWNrID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuZmxvYXQucGxheSgpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hTdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBsYWNlU2hpcChfc2hpcCl7XHJcbiAgICAgICAgdGhpcy5zaGlwU2V0ID0gX3NoaXA7XHJcblxyXG4gICAgICAgIGlmKF9zaGlwICE9IG51bGwpXHJcbiAgICAgICAgICAgIF9zaGlwLmRvY2tQb3MgPSB0aGlzO1xyXG5cclxuICAgICAgICBpZih0aGlzLnNob3dpbmcpe1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRTZW5kQmFjaygpe1xyXG4gICAgICAgIHRoaXMuc2V0V29ya1N0YXRlKFwiRm9yY2VCYWNrXCIpO1xyXG4gICAgICAgIHRoaXMuZm9yY2VCYWNrID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDcmFzaEJhY2soKXtcclxuICAgICAgICB0aGlzLnNldFdvcmtTdGF0ZShcIkNyYXNoQmFja1wiKTtcclxuICAgICAgICB0aGlzLmZvcmNlQmFjayA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0V29ya1N0YXRlKF90ZXh0KXtcclxuICAgICAgICBpZih0aGlzLmZvcmNlQmFjaylyZXR1cm47XHJcbiAgICAgICAgdGhpcy5zdGF0ZVRleHQudGV4dCA9IF90ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrRHJhZ2dhYmxlKCl7XHJcbiAgICAgICAgcmV0dXJuICEodGhpcy5idXN5IHx8IHRoaXMuc2hpcFNldC5yZXBhaXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0RHJhZ1NoaXAoZXZlbnQpe1xyXG4gICAgICAgIGlmKCF0aGlzLmNoZWNrRHJhZ2dhYmxlKCkpcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmZsb2F0LnN0b3AoKTtcclxuICAgICAgICB0aGlzLmRyYWdnaW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdmFyIGJlZlBvcyA9IHtcclxuICAgICAgICAgICAgeDp0aGlzLlNoaXBJY29uLnggKyB0aGlzLnggKyB0aGlzLnNjZW5lLmRvY2sueCAtIHRoaXMuc2NlbmUuZG9jay5oU2Nyb2xsQmFyLnZhbHVlLFxyXG4gICAgICAgICAgICB5OnRoaXMuU2hpcEljb24ueSArIHRoaXMueSArIHRoaXMuc2NlbmUuZG9jay55XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5TaGlwSWNvbi5wb3MoYmVmUG9zLngsYmVmUG9zLnkpXHJcbiAgICAgICAgdGhpcy5TaGlwSWNvbi5zdGFydERyYWcoKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLlNoaXBJY29uLnpPcmRlciA9IDEwMDtcclxuICAgICAgICB0aGlzLnNjZW5lLmFkZENoaWxkKHRoaXMuU2hpcEljb24pO1xyXG5cclxuICAgICAgICB0aGlzLmZyYW1lT25jZSgyLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgdGhpcy5kcmFnUGxhY2VDYWxsQmFjayhcImRyYWdcIixldmVudCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFN0YXRlKCk7XHJcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZW5kRHJhZ2VkU2hpcChldmVudCxyZWxlYXNlKXtcclxuICAgICAgICBpZighdGhpcy5kcmFnZ2luZylyZXR1cm47XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5mcmFtZU9uY2UoMix0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuZHJhZ1BsYWNlQ2FsbEJhY2socmVsZWFzZSxldmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYmFja1Bvcygpe1xyXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5TaGlwSWNvbi5wb3ModGhpcy5vaXJQb3MueCx0aGlzLm9pclBvcy55KTtcclxuICAgICAgICB0aGlzLlNoaXBJY29uLnN0b3BEcmFnKCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU3RhdGUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLlNoaXBJY29uKTtcclxuXHJcbiAgICAgICAgaWYoIXRoaXMuYnVzeSlcclxuICAgICAgICAgICAgdGhpcy5mbG9hdC5wbGF5KCk7XHJcblxyXG4gICAgICAgIHRoaXMuU2hpcEljb24uek9yZGVyID0gMDtcclxuICAgIH1cclxufSIsImltcG9ydCBsb2FkTWFwIGZyb20gXCIuLi9saWJzL25hbWVNYXBcIlxyXG5pbXBvcnQgR2FtZURhdGFzIGZyb20gXCIuLi9tYW5hZ2VyL0dhbWVEYXRhc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbmZvTGF5IGV4dGVuZHMgTGF5YS5QYW5lbHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNoaXAgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgbG9hZE1hcCh0aGlzLHRoaXMuY29udGVudCxbXCJzaGlwTmFtZVwiLFwic2hpcERlc2NcIixcIlNoaXBJY29uXCIsXCJwcm9JbWFnZXNcIixcImJ1dHRvbkJhY2tcIixcImJ1dHRvblBpY1wiLFwiYnV0dG9uTHZsdXBcIixcImxldmVsYWJcIixcImpvYlwiXSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5idXR0b25CYWNrLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2UuY2xvc2VJbmZvKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYnV0dG9uTHZsdXAub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLChldmVudCk9PntcclxuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAgICAgR2FtZURhdGFzLmluc3RhbmNlLnNob3dSZXNBbHQoXCJzaGlwXCIse1xyXG4gICAgICAgICAgICAgICAgb2JqOnRoaXMuc2hpcFxyXG4gICAgICAgICAgICB9LHt4OmV2ZW50LnN0YWdlWCx5OmV2ZW50LnN0YWdlWX0sKCk9PntcclxuICAgICAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5sdmxJbmZvU2hpcCgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMucmVmcmVzaFNoaXBJbmZvKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmZyYW1lTG9vcCg2MCx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEpPQigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEpPQigpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNoaXBTZXQoX3NoaXBTZXQpe1xyXG4gICAgICAgIHRoaXMuc2hpcCA9IF9zaGlwU2V0O1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFNoaXBJbmZvKCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoSk9CKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFNoaXBJbmZvKCl7XHJcbiAgICAgICAgdGhpcy5zaGlwTmFtZS50ZXh0ID0gdGhpcy5zaGlwLmN1ckRhdGEubmFtZTtcclxuICAgICAgICB0aGlzLnNoaXBEZXNjLnRleHQgPSB0aGlzLnNoaXAuY3VyRGF0YS5kZXNjO1xyXG4gICAgICAgIHRoaXMuU2hpcEljb24uc2tpbiA9IHRoaXMuc2hpcC5nZXRJY29uUGF0aCgpO1xyXG5cclxuICAgICAgICB0aGlzLmJ1dHRvbkx2bHVwLnZpc2libGUgPSB0aGlzLnNoaXAuY3VyRGF0YS5sdmxpbSA+IHRoaXMuc2hpcC5nZXRDdXJyZW50TGV2ZWwoKTtcclxuXHJcbiAgICAgICAgdGhpcy5sZXZlbGFiLnRleHQgPSBgTGV2OiR7dGhpcy5zaGlwLmdldEN1cnJlbnRMZXZlbFRleHQoKX1gO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hKT0IoKXtcclxuICAgICAgICBpZih0aGlzLnNoaXAgIT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5qb2IudGV4dCA9IHRoaXMuc2hpcC5HZXRKb2JUZXh0KCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGxvYWRNYXAgZnJvbSBcIi4uL2xpYnMvbmFtZU1hcFwiXHJcbmltcG9ydCBHYW1lRGF0YXMgZnJvbSBcIi4uL21hbmFnZXIvR2FtZURhdGFzXCJcclxuICAgIFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQbGFuTGF5IGV4dGVuZHMgTGF5YS5QYW5lbHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIGxvYWRNYXAodGhpcyx0aGlzLmNvbnRlbnQsW1wiZG9ja0xldlwiLFwicGFja0xldlwiLFwiYnVpZGxMZXZcIixcInNlbGZMZXZcIl0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcblxyXG4gICAgICAgIHRoaXMuZG9ja0xldi5nZXRDaGlsZEJ5TmFtZShcImxldmVsVXBcIikub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLChldmVudCk9PntcclxuICAgICAgICAgICAgR2FtZURhdGFzLmluc3RhbmNlLnNob3dSZXNBbHQoXCJkb2NrXCIse30se3g6ZXZlbnQuc3RhZ2VYLHk6ZXZlbnQuc3RhZ2VZfSwoKT0+e1xyXG4gICAgICAgICAgICAgICAgR2FtZURhdGFzLmluc3RhbmNlLkxldmVsRG9ja1VQKCk7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5yZWZyZXNoTGV2ZWxzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnBhY2tMZXYuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFVwXCIpLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoZXZlbnQpPT57XHJcbiAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5zaG93UmVzQWx0KFwicmVwYWlyXCIse30se3g6ZXZlbnQuc3RhZ2VYLHk6ZXZlbnQuc3RhZ2VZfSwoKT0+e1xyXG4gICAgICAgICAgICAgICAgR2FtZURhdGFzLmluc3RhbmNlLkxldmVsUGFja1VQKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hMZXZlbHMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYnVpZGxMZXYuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFVwXCIpLm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoZXZlbnQpPT57XHJcbiAgICAgICAgICAgIEdhbWVEYXRhcy5pbnN0YW5jZS5zaG93UmVzQWx0KFwiYnVpbGRcIix7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGU6XCJMZXZlbFVwXCJcclxuICAgICAgICAgICAgfSx7eDpldmVudC5zdGFnZVgseTpldmVudC5zdGFnZVl9LCgpPT57XHJcbiAgICAgICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2UuTGV2ZWxCdWlsZFVQKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hMZXZlbHMoKTtcclxuICAgICAgICAgICAgfSk7ICAgICBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxmTGV2LmdldENoaWxkQnlOYW1lKFwibGV2ZWxVcFwiKS5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKGV2ZW50KT0+e1xyXG4gICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2Uuc2hvd1Jlc0FsdChcInNlbGZcIix7fSx7eDpldmVudC5zdGFnZVgseTpldmVudC5zdGFnZVl9LCgpPT57XHJcbiAgICAgICAgICAgICAgICBHYW1lRGF0YXMuaW5zdGFuY2UuTGV2ZWxTZWxmVVAoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaExldmVscygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5sZXZlbFRleHRzID0gW1xyXG4gICAgICAgICAgICB0aGlzLmRvY2tMZXYuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFwiKSxcclxuICAgICAgICAgICAgdGhpcy5wYWNrTGV2LmdldENoaWxkQnlOYW1lKFwibGV2ZWxcIiksXHJcbiAgICAgICAgICAgIHRoaXMuYnVpZGxMZXYuZ2V0Q2hpbGRCeU5hbWUoXCJsZXZlbFwiKSxcclxuICAgICAgICAgICAgdGhpcy5zZWxmTGV2LmdldENoaWxkQnlOYW1lKFwibGV2ZWxcIilcclxuICAgICAgICBdO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaExldmVscygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hMZXZlbHMoKXtcclxuICAgICAgICB2YXIgYWxsTGV2ZWxzID0gR2FtZURhdGFzLmluc3RhbmNlLmxldmVsQWxsO1xyXG5cclxuICAgICAgICB0aGlzLmxldmVsVGV4dHNbMF0udGV4dCA9IGBMZXY6JHthbGxMZXZlbHMuZG9ja31gO1xyXG4gICAgICAgIHRoaXMubGV2ZWxUZXh0c1sxXS50ZXh0ID0gYExldjoke2FsbExldmVscy5yZXBhaXJ9YDtcclxuICAgICAgICB0aGlzLmxldmVsVGV4dHNbMl0udGV4dCA9IGBMZXY6JHthbGxMZXZlbHMuYnVpbGR9YDtcclxuICAgICAgICB0aGlzLmxldmVsVGV4dHNbM10udGV4dCA9IGBMZXY6JHthbGxMZXZlbHMuY29tbWFuZH1gO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IGxvYWRNYXAgZnJvbSBcIi4uL2xpYnMvbmFtZU1hcFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9UcmlwIGV4dGVuZHMgTGF5YS5QYW5lbHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlwTWFwID0gW107XHJcbiAgICAgICAgdGhpcy5zaG93aW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBvbkVuYWJsZSgpe1xyXG4gICAgICAgIGxvYWRNYXAodGhpcyx0aGlzLmNvbnRlbnQsW1wiYmFzZUJHXCIsXCJwcm9OYW1lXCJdKTtcclxuICAgICAgICBsb2FkTWFwKHRoaXMsdGhpcy5iYXNlQkcsW1wicHJvQ3VyXCIsXCJwcm9OZXh0RGVjXCIsXCJwcm9OZXh0QWRkXCJdKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93aW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hDb250ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFBybyhfc2hpcFNldCl7XHJcbiAgICAgICAgdGhpcy5zaGlwID0gX3NoaXBTZXQ7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ29udGVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hDb250ZW50KCl7XHJcbiAgICAgICAgdGhpcy5wcm9OYW1lLnRleHQgPSB0aGlzLnByb1RleHQ7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYodGhpcy5zaGlwKXtcclxuICAgICAgICAgICAgdmFyIGN1clZhbHVlID0gdGhpcy5zaGlwLmdldERhdGEodGhpcy5wcm9Db25uZWN0KTtcclxuICAgICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IHRoaXMuc2hpcC5nZXROZXh0THZsRGF0YSh0aGlzLnByb0Nvbm5lY3QpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGN1ckxlbiA9IHRoaXMucHJvQ2FsYyhjdXJWYWx1ZSkgKiAyMDAgKyAxMDtcclxuICAgICAgICAgICAgdmFyIG5leHRMZW4gPSB0aGlzLnByb0NhbGMobmV4dFZhbHVlKSAqIDIwMCArIDEwO1xyXG5cclxuICAgICAgICAgICAgaWYoY3VyTGVuIDwgbmV4dExlbil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb0N1ci53aWR0aCA9IGN1ckxlbjtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvTmV4dEFkZC53aWR0aCA9IG5leHRMZW47XHJcbiAgICAgICAgICAgIH1lbHNlIGlmKGN1ckxlbiA+IG5leHRMZW4pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9OZXh0RGVjLndpZHRoID0gY3VyTGVuO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcm9DdXIud2lkdGggPSBuZXh0TGVuO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvQ3VyLndpZHRoID0gY3VyTGVuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnByb0N1ci52aXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5wcm9OZXh0QWRkLnZpc2libGUgPSBjdXJMZW4gPCBuZXh0TGVuO1xyXG4gICAgICAgICAgICB0aGlzLnByb05leHREZWMudmlzaWJsZSA9IGN1ckxlbiA+IG5leHRMZW47XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFByb05hbWUoX3RleHQpe1xyXG4gICAgICAgIHRoaXMucHJvVGV4dCA9IF90ZXh0O1xyXG5cclxuICAgICAgICBpZih0aGlzLnNob3dpbmcpXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaENvbnRlbnQoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0UHJvQ29ubmVjdChfdGV4dCxfbGVuZnVuYyl7XHJcbiAgICAgICAgdGhpcy5wcm9Db25uZWN0ID0gX3RleHQ7XHJcbiAgICAgICAgdGhpcy5wcm9DYWxjID0gX2xlbmZ1bmM7XHJcblxyXG4gICAgICAgIGlmKHRoaXMuc2hvd2luZylcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ29udGVudCgpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEdhbWVEYXRhcyBmcm9tIFwiLi4vbWFuYWdlci9HYW1lRGF0YXNcIlxyXG5pbXBvcnQgUmVzb3VyY2UgZnJvbSBcIi4uL2RhdGEvcmVzb3VyY2VcIlxyXG5pbXBvcnQgbG9hZE1hcCBmcm9tIFwiLi4vbGlicy9uYW1lTWFwXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc291cmNlQWx0IGV4dGVuZHMgTGF5YS5QYW5lbHtcclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgc3VwZXIoKVxyXG5cclxuICAgICAgICB0aGlzLnJlcyA9IG5ldyBSZXNvdXJjZSgpO1xyXG4gICAgICAgIHRoaXMub2tDYWxsQmFjayA9ICgpPT57fTtcclxuICAgICAgICB0aGlzLmNhbmNlbENhbGxCYWNrID0gKCk9Pnt9O1xyXG4gICAgfVxyXG5cclxuICAgIG9uRW5hYmxlKCl7XHJcbiAgICAgICAgbG9hZE1hcCh0aGlzLHRoaXMuY29udGVudCxbXCJvaWxcIixcImFtbW9cIixcInN0ZWVsXCIsXCJBbFwiLFwiT0tidXRcIixcIkNhbmNlbGJ1dFwiXSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd2luZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUmVzTnVtKCk7XHJcblxyXG4gICAgICAgIHRoaXMuT0tidXQub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMub2tDYWxsQmFjayh0aGlzLnJlcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuQ2FuY2VsYnV0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoZXZlbnQpPT57XHJcbiAgICAgICAgICAgIHRoaXMuY2FuY2VsQ2FsbEJhY2soKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRSZXNvdXJjZVNob3coX3Jlcyl7XHJcbiAgICAgICAgdGhpcy5yZXMgPSBfcmVzO1xyXG5cclxuICAgICAgICBpZih0aGlzLnNob3dpbmcpXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFJlc051bSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEVub3VnaChlbl9mbCl7XHJcbiAgICAgICAgdGhpcy5lbm91Z2hGbGFnID0gZW5fZmw7XHJcbiAgICAgICAgaWYodGhpcy5zaG93aW5nKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoT0tCdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaE9LQnV0KCl7XHJcbiAgICAgICAgdGhpcy5PS2J1dC52aXNpYmxlID0gdGhpcy5lbm91Z2hGbGFnO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hSZXNOdW0oKXtcclxuICAgICAgICB0aGlzLm9pbC50ZXh0ID0gdGhpcy5yZXMub2lsLnRvVW5pdCgpO1xyXG4gICAgICAgIHRoaXMuYW1tby50ZXh0ID0gdGhpcy5yZXMuYW1tby50b1VuaXQoKTtcclxuICAgICAgICB0aGlzLnN0ZWVsLnRleHQgPSB0aGlzLnJlcy5zdGVlbC50b1VuaXQoKTtcclxuICAgICAgICB0aGlzLkFsLnRleHQgPSB0aGlzLnJlcy5BbC50b1VuaXQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCIuLi9saWJzL2JpZ251bWJlci5qc1wiXHJcbmltcG9ydCBHYW1lRGF0YXMgZnJvbSBcIi4uL21hbmFnZXIvR2FtZURhdGFzXCJcclxuXHJcbmltcG9ydCBTY2VuZUxheWVyIGZyb20gXCIuLi9jb21wb25lbnRzL1NjZW5lTGF5ZXJcIlxyXG5pbXBvcnQgVGFyZ2V0U3dpdGNoIGZyb20gXCIuLi9jb21wb25lbnRzL3RhcmdldFN3aXRjaFwiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluU2NlbmUgZXh0ZW5kcyBMYXlhLlNjZW5le1xyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKEdhbWVEYXRhcy5pbnN0YW5jZSlcclxuICAgICAgICAgICAgdGhpcy5NYWluTWFuYWdlciA9IEdhbWVEYXRhcy5pbnN0YW5jZTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuTWFpbk1hbmFnZXIgPSBuZXcgR2FtZURhdGFzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgb25FbmFibGUoKXtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuTWFpbk1hbmFnZXIuYWRkUmVzQ2hhbmdlQ2FsbEJhY2soKHJlcyk9PntcclxuICAgICAgICAgICAgX3RoaXMudXBkYXRlUmVzU2hvdyhyZXMpO1xyXG4gICAgICAgICAgICBfdGhpcy51cGRhdGVVcGdyYWRlRGV0ZWN0KHJlcyk7XHJcbiAgICAgICAgfSxcIm1haW5TY2VuZVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZUxheWVyID0gdGhpcy5nZXRDb21wb25lbnQoU2NlbmVMYXllcik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFJvdXRlKCk7XHJcbiAgICAgICAgdGhpcy5pbml0RG9jaygpO1xyXG4gICAgICAgIHRoaXMuaW5pdFByb3MoKTtcclxuICAgICAgICB0aGlzLmluaXRXYXJlKCk7XHJcbiAgICAgICAgdGhpcy5pbml0QnVpbGQoKTtcclxuICAgICAgICB0aGlzLmluaXRQbGFuKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFJlc0FsdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnVpU3RhdGUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmJhY2tCdXQub24oTGF5YS5FdmVudC5DTElDSyx0aGlzLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMud2FyZVBhbmVsLnggPSAtNjQwO1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkUGFuZWwueCA9IC02NDA7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja0J1dC54ID0gLTYwMDtcclxuICAgICAgICAgICAgdGhpcy5wbGFuUGFuZWwueCA9IC02NDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkUGFuZWwuek9yZGVyID0gMjBcclxuICAgICAgICAgICAgdGhpcy53YXJlUGFuZWwuek9yZGVyID0gMjBcclxuICAgICAgICAgICAgdGhpcy5wbGFuUGFuZWwuek9yZGVyID0gMjBcclxuXHJcbiAgICAgICAgICAgIHRoaXMudWlTdGF0ZSA9IDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEJ1dHRvbkZsb2F0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFNjZW5lRXZlbnQoKTtcclxuICAgICAgICB0aGlzLmluaXRUYWJTd2l0Y2goKTtcclxuICAgIH1cclxuXHJcbiAgICBiYWNrQWxsUGFiZWwoKXtcclxuICAgICAgICB0aGlzLmJ1aWxkUGFuZWwuek9yZGVyID0gMjBcclxuICAgICAgICB0aGlzLndhcmVQYW5lbC56T3JkZXIgPSAyMFxyXG4gICAgICAgIHRoaXMucGxhblBhbmVsLnpPcmRlciA9IDIwXHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlUmVzU2hvdyhyZXMpe1xyXG4gICAgICAgIGZvcih2YXIga2V5IGluIHJlcyl7XHJcbiAgICAgICAgICAgIGlmKHJlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKXtcclxuICAgICAgICAgICAgICAgIHRoaXNba2V5XS50ZXh0ID0gcmVzW2tleV0udG9Vbml0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFJvdXRlKCl7XHJcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLk1haW5NYW5hZ2VyLmdldEN1cnJlbnRSb3V0ZSgpO1xyXG4gICAgICAgIHRoaXMucm91dGVyLnNldFJvdXRlKGRhdGEpO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lTGF5ZXIuc2V0Um91dGVQYW5lbCh0aGlzLnJvdXRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdERvY2soKXtcclxuICAgICAgICB0aGlzLnNjZW5lTGF5ZXIuc2V0RG9ja1BhbmVsKHRoaXMuZG9jayk7XHJcblxyXG4gICAgICAgIHZhciByZWN0ID0gbmV3IExheWEuUmVjdGFuZ2xlKHRoaXMucm91dGVyLngsdGhpcy5yb3V0ZXIueSx0aGlzLnJvdXRlci53aWR0aCx0aGlzLnJvdXRlci5oZWlnaHQpO1xyXG5cclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuc2NlbmVMYXllci5zZXREcmFnQ2FsbGJhY2soKHBvc0luZGV4LGV2ZW50KT0+e1xyXG4gICAgICAgICAgICBpZihldmVudC5mbGFnID09IFwicmVsZWFzZVwiKXtcclxuICAgICAgICAgICAgICAgIGlmKHJlY3QuY29udGFpbnMoZXZlbnQuc3RhZ2VYLGV2ZW50LnN0YWdlWSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLk1haW5NYW5hZ2VyLnVwU2hpcFRvQ3VycmVudFJvdXRlKHBvc0luZGV4KTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNoZWNrUG9zQ2hhbmdlKHBvc0luZGV4LGV2ZW50LnN0YWdlWCxldmVudC5zdGFnZVkpO1xyXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNoZWNrSGFuZGxlcyhwb3NJbmRleCxldmVudC5zdGFnZVgsZXZlbnQuc3RhZ2VZKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgX3RoaXMuYnV0dG9uRmxvYXRTd2l0Y2goZXZlbnQuZmxhZyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFByb3MoKXtcclxuICAgICAgICB0aGlzLnNjZW5lTGF5ZXIuc2V0SW5mb1BhbmVsKHRoaXMuaW5mb0xheWVyLnByb0ltYWdlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdEJ1dHRvbkZsb2F0KCl7XHJcbiAgICAgICAgdGhpcy5mbG9hdE1hcHMgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldDp0aGlzLkluZm8sXHJcbiAgICAgICAgICAgICAgICBoYW5kbGU6KHBJbmRleCk9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLnNob3dTaGlwSW5mbyhwSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6dGhpcy5SZXBhaXIsXHJcbiAgICAgICAgICAgICAgICBoYW5kbGU6KHBJbmRleCk9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLnJlcGFpclNoaXAocEluZGV4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OnRoaXMud2FyZUhvdXNlLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlOihwSW5kZXgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5NYWluTWFuYWdlci5yZWNvbGxlY3RTaGlwKHBJbmRleCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdXHJcblxyXG4gICAgICAgIGZvcih2YXIgZmxvYXQgb2YgdGhpcy5mbG9hdE1hcHMpe1xyXG4gICAgICAgICAgICBmbG9hdC5jb21wID0gZmxvYXQudGFyZ2V0LmdldENvbXBvbmVudChUYXJnZXRTd2l0Y2gpO1xyXG4gICAgICAgICAgICBmbG9hdC5jb21wLnNldFN0YXRlKDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbml0V2FyZSgpe1xyXG4gICAgICAgIHRoaXMud2FyZUJ1dC5vbihMYXlhLkV2ZW50LkNMSUNLLHRoaXMsKCk9PntcclxuICAgICAgICAgICAgdGhpcy53YXJlUGFuZWwueCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja0J1dC54ID0gNDA7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja0FsbFBhYmVsKCk7XHJcbiAgICAgICAgICAgIHRoaXMud2FyZVBhbmVsLnpPcmRlciA9IDI1XHJcbiAgICAgICAgICAgIHRoaXMudWlTdGF0ZSA9IDI7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmVMYXllci5zZXREZXNrUGFuZWwodGhpcy53YXJlUGFuZWwuY29udGVudC5nZXRDaGlsZEJ5TmFtZShcIm1haW5Db250ZW50XCIpKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0QnVpbGQoKXtcclxuICAgICAgICB0aGlzLmJ1aWxkQnV0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLmJ1aWxkUGFuZWwueCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGREb3QudmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tCdXQueCA9IDQ1MDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYmFja0FsbFBhYmVsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRQYW5lbC56T3JkZXIgPSAyNTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudWlTdGF0ZSA9IDM7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIuYnVpbGRUcmlwQ2hlY2soKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5idWlsZERvdC52aXNpYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmVMYXllci5zZXRCdWlsZFBhbmVsKHRoaXMuYnVpbGRQYW5lbC5jb250ZW50LmdldENoaWxkQnlOYW1lKFwiTWFpbkNvbnRlbnRcIikpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRQbGFuKCl7XHJcbiAgICAgICAgdGhpcy5wbGFuQnV0Lm9uKExheWEuRXZlbnQuQ0xJQ0ssdGhpcywoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnBsYW5QYW5lbC54ID0gMDtcclxuICAgICAgICAgICAgdGhpcy5iYWNrQnV0LnggPSAyNDU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmJhY2tBbGxQYWJlbCgpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYW5QYW5lbC56T3JkZXIgPSAyNTtcclxuICAgICAgICAgICAgdGhpcy51aVN0YXRlID0gNDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0UmVzQWx0KCl7XHJcbiAgICAgICAgdGhpcy5zY2VuZUxheWVyLnNldEFsdExheWVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFNjZW5lRXZlbnQoKXtcclxuICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLm9uU2NlbmVFdmVudChcInNjZW5lOmluZm9cIiwoc2hpcCk9PntcclxuICAgICAgICAgICAgdGhpcy5zY2VuZUxheWVyLnJlZnJlc2hJbmZvU2hvdyhzaGlwKTtcclxuICAgICAgICAgICAgdGhpcy5pbmZvTGF5ZXIuc2V0U2hpcFNldChzaGlwKTtcclxuICAgICAgICAgICAgdGhpcy5pbmZvTGF5ZXIueCA9IDA7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVpU3RhdGUgPSAxO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLm9uU2NlbmVFdmVudChcInNjZW5lOmluZm9jbG9zZVwiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuaW5mb0xheWVyLnggPSAtNjQwO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51aVN0YXRlID0gMDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5NYWluTWFuYWdlci5vblNjZW5lRXZlbnQoXCJzaGlwOmx2bHVwXCIsKHNoaXApPT57XHJcbiAgICAgICAgICAgIHRoaXMuaW5mb0xheWVyLnJlZnJlc2hTaGlwSW5mbygpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIucmVmcmVzaEluZm9TaG93KHNoaXApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLm9uU2NlbmVFdmVudChcImRvY2s6cGFja1wiLChwaW5kZXgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVMYXllci5yZWNvbGxlY3RQb3MocGluZGV4KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5NYWluTWFuYWdlci5vblNjZW5lRXZlbnQoXCJwYWNrOmNvbGxlY3RcIiwoc2hpcCk9PntcclxuICAgICAgICAgICAgdGhpcy5zY2VuZUxheWVyLmluc2VydFBhY2tTaGlwKHNoaXApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLm9uU2NlbmVFdmVudChcInJvdXRlOnVubG9ja1wiLChuZXdJbmRleCk9PntcclxuICAgICAgICAgICAgaWYobmV3SW5kZXgpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZVRhYmxlLmxhYmVscyA9IHRoaXMuTWFpbk1hbmFnZXIuR2V0QWxsUm91dGVyKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIudW5sb2NrUm91dGUobmV3SW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZUxheWVyLnJlZnJlc2hSb3V0ZXJab3JkZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIudXBkYXRlUm91dGUodGhpcy5NYWluTWFuYWdlci5jdXJyZW50Um91dGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLk1haW5NYW5hZ2VyLm9uU2NlbmVFdmVudChcImRvY2s6aW5zZXJ0XCIsKHNoaXBTZXQpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVMYXllci5pbnNlcnREb2NrUG9zKHNoaXBTZXQpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIucmVmcmVzaEFsbERlc2tCeU91dFNoaXAoc2hpcFNldCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTWFpbk1hbmFnZXIub25TY2VuZUV2ZW50KFwiZG9jazpmdWxsXCIsKHNoaXBTZXQpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVMYXllci5BbGxEZXNja1JlZnJlc2hGdWxsKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTWFpbk1hbmFnZXIub25TY2VuZUV2ZW50KFwiZG9jazpsdmx1cFwiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVMYXllci51cGRhdGVBbGxEb2NrUG9zKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTWFpbk1hbmFnZXIub25TY2VuZUV2ZW50KFwiYnVpbGQ6bHZsdXBcIiwoKT0+e1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIudXBkYXRlQWxsQnVpbGRUcmlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuTWFpbk1hbmFnZXIub25TY2VuZUV2ZW50KFwiYnVpbGQ6dHJpZ2dlclwiLCgpPT57XHJcbiAgICAgICAgICAgIHRoaXMuYnVpbGRPS1RyaWdnZXIoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5NYWluTWFuYWdlci5vblNjZW5lRXZlbnQoXCJyZXM6YWx0XCIsKHBvcyxyZXMsb2ssX2Z1bmMpPT57XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVMYXllci5zaG93UmVzKHJlcyxvayxwb3MueCxwb3MueSxfZnVuYyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFRhYlN3aXRjaCgpe1xyXG4gICAgICAgIHRoaXMucm91dGVUYWJsZS5sYWJlbHMgPSB0aGlzLk1haW5NYW5hZ2VyLkdldEFsbFJvdXRlcigpO1xyXG4gICAgICAgIHRoaXMucm91dGVUYWJsZS5zZWxlY3RlZEluZGV4ID0gdGhpcy5NYWluTWFuYWdlci5jdXJyZW50Um91dGU7XHJcblxyXG4gICAgICAgIHRoaXMucm91dGVUYWJsZS5zZWxlY3RIYW5kbGVyID0gbmV3IExheWEuSGFuZGxlcih0aGlzLChpbmRleCk9PntcclxuICAgICAgICAgICAgdGhpcy5NYWluTWFuYWdlci5jaGFuZ2VSb3V0ZVNob3coaW5kZXgpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIucmVmcmVzaFJvdXRlclpvcmRlcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGJ1dHRvbkVhY2hNYXAoZnVuYyl7XHJcbiAgICAgICAgZm9yKHZhciBmbG9hdCBvZiB0aGlzLmZsb2F0TWFwcyl7XHJcbiAgICAgICAgICAgIGZ1bmMuY2FsbCh0aGlzLGZsb2F0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYnV0dG9uRmxvYXRTd2l0Y2goZmxhZyl7XHJcbiAgICAgICAgaWYoZmxhZyA9PSBcInJlbGVhc2VcIiB8fCBmbGFnID09IFwiaG92ZXJPdXRcIil7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uRWFjaE1hcCgoZmxvYXQpPT57XHJcbiAgICAgICAgICAgICAgICBmbG9hdC5jb21wLnNldFN0YXRlKDEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5idXR0b25FYWNoTWFwKChmbG9hdCk9PntcclxuICAgICAgICAgICAgICAgIGZsb2F0LmNvbXAuc2V0U3RhdGUoMik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgY2hlY2tQb3NDaGFuZ2UocGluZGV4LHgseSl7XHJcbiAgICAgICAgdmFyIGFsbFBvc2VzID0gdGhpcy5zY2VuZUxheWVyLnBvc2VzO1xyXG4gICAgICAgIHZhciBvZmZzZXRQb3N4ID0gdGhpcy5kb2NrLmhTY3JvbGxCYXIudmFsdWUgLSB0aGlzLmRvY2sueDtcclxuICAgICAgICB2YXIgb2Zmc2V0UG9zeSA9IHRoaXMuZG9jay55O1xyXG4gICAgICAgIGZvcih2YXIgcG9zaSBvZiBhbGxQb3Nlcyl7XHJcbiAgICAgICAgICAgIHZhciByZWN0ID0gbmV3IExheWEuUmVjdGFuZ2xlKHBvc2kueCAtIG9mZnNldFBvc3gsb2Zmc2V0UG9zeSArIHBvc2kueSxwb3NpLndpZHRoLHBvc2kuaGVpZ2h0KTtcclxuICAgICAgICAgICAgaWYocmVjdC5jb250YWlucyh4LHkpKXtcclxuICAgICAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLk1haW5NYW5hZ2VyLmNoYW5nZVNoaXBQb3MocGluZGV4LHBvc2kucG9zSW5kZXgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKHJlcylcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lTGF5ZXIuY2hhbmdlUG9zKHBpbmRleCxwb3NpLnBvc0luZGV4KTtcclxuXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0hhbmRsZXMocGluZGV4LHgseSl7XHJcbiAgICAgICAgdGhpcy5idXR0b25FYWNoTWFwKChmbG9hdCk9PntcclxuICAgICAgICAgICAgdmFyIGJ1dCA9IGZsb2F0LnRhcmdldDtcclxuICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgTGF5YS5SZWN0YW5nbGUoYnV0LngsYnV0LnksYnV0LndpZHRoLGJ1dC5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgaWYocmVjdC5jb250YWlucyh4LHkpKXtcclxuICAgICAgICAgICAgICAgIGZsb2F0LmhhbmRsZS5jYWxsKHRoaXMscGluZGV4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYnVpbGRPS1RyaWdnZXIoKXtcclxuICAgICAgICBpZih0aGlzLnVpU3RhdGUgPT0gMylyZXR1cm47XHJcbiAgICAgICAgdGhpcy5idWlsZERvdC52aXNpYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVVcGdyYWRlRGV0ZWN0KHJlc291cmNlKXtcclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG4iXX0=
